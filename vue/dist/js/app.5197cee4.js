(function(e){function t(t){for(var o,n,s=t[0],l=t[1],c=t[2],u=0,m=[];u<s.length;u++)n=s[u],Object.prototype.hasOwnProperty.call(i,n)&&i[n]&&m.push(i[n][0]),i[n]=0;for(o in l)Object.prototype.hasOwnProperty.call(l,o)&&(e[o]=l[o]);d&&d(t);while(m.length)m.shift()();return r.push.apply(r,c||[]),a()}function a(){for(var e,t=0;t<r.length;t++){for(var a=r[t],o=!0,n=1;n<a.length;n++){var l=a[n];0!==i[l]&&(o=!1)}o&&(r.splice(t--,1),e=s(s.s=a[0]))}return e}var o={},i={app:0},r=[];function n(e){return s.p+"js/"+({about:"about"}[e]||e)+"."+{about:"bc10e444"}[e]+".js"}function s(t){if(o[t])return o[t].exports;var a=o[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,s),a.l=!0,a.exports}s.e=function(e){var t=[],a=i[e];if(0!==a)if(a)t.push(a[2]);else{var o=new Promise((function(t,o){a=i[e]=[t,o]}));t.push(a[2]=o);var r,l=document.createElement("script");l.charset="utf-8",l.timeout=120,s.nc&&l.setAttribute("nonce",s.nc),l.src=n(e);var c=new Error;r=function(t){l.onerror=l.onload=null,clearTimeout(u);var a=i[e];if(0!==a){if(a){var o=t&&("load"===t.type?"missing":t.type),r=t&&t.target&&t.target.src;c.message="Loading chunk "+e+" failed.\n("+o+": "+r+")",c.name="ChunkLoadError",c.type=o,c.request=r,a[1](c)}i[e]=void 0}};var u=setTimeout((function(){r({type:"timeout",target:l})}),12e4);l.onerror=l.onload=r,document.head.appendChild(l)}return Promise.all(t)},s.m=e,s.c=o,s.d=function(e,t,a){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(s.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)s.d(a,o,function(t){return e[t]}.bind(null,o));return a},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/",s.oe=function(e){throw console.error(e),e};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],c=l.push.bind(l);l.push=t,l=l.slice();for(var u=0;u<l.length;u++)t(l[u]);var d=c;r.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},2351:function(e,t,a){},3147:function(e,t,a){"use strict";a("7209")},"56d7":function(e,t,a){"use strict";a.r(t);a("96cf");var o=a("1da1"),i=(a("e260"),a("e6cf"),a("cca6"),a("a79d"),a("2b0e")),r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-app",[a("v-main",["inicio"!=e.$route.name&&"validate"!=e.$route.name&&"forgotPassword"!=e.$route.name?a("menuApp"):e._e(),a("offlineAlert"),a("router-view",{staticStyle:{height:"100hv"}})],1),a("v-dialog",{attrs:{"hide-overlay":"",persistent:"",width:"300"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-card",{attrs:{color:"primary",dark:""}},[a("v-card-text",[e._v(" "+e._s(e.loadingMSG)+" "),a("v-progress-linear",{staticClass:"mb-0",attrs:{indeterminate:"",color:"white"}})],1)],1)],1)],1)},n=[],s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-toolbar",{staticClass:"d-md-none background-primary-dark",attrs:{flat:""}},[a("v-row",[a("v-col",[a("v-toolbar-title",{staticClass:"justify-lg-center",attrs:{align:"center"}},[e._v(" HERRAMIENTA DE RECOLECCIÓN "),a("br"),e._v(" DE DAÑOS Y PÉRDIDAS ")])],1)],1)],1),a("v-container",{staticClass:"ma-0 pa-0 background-primary-dark",attrs:{fluid:""}},[a("v-container",[a("v-toolbar",{staticClass:"background-primary-dark",attrs:{flat:"",dense:""}},[a("v-menu",{attrs:{left:"",bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var o=t.on,i=t.attrs;return[a("v-btn",e._g(e._b({staticClass:"d-md-none",attrs:{color:"white",icon:""}},"v-btn",i,!1),o),[a("v-icon",{attrs:{color:"white"}},[e._v("mdi-menu")])],1)]}}])},[a("v-container",{staticClass:"background-primary-dark",attrs:{fluid:""}},[a("v-list",{staticClass:"background-primary-dark"},[a("v-row",{staticClass:"mt-1"},[a("v-col",{staticClass:"mr-1",attrs:{cols:"2",sm:"2",md:"2"}},[a("v-icon",{attrs:{color:"white","x-large":""}},[e._v("mdi-account-circle")])],1),a("v-col",{staticClass:"ml-2",attrs:{cols:"9",sm:"9",md:"9"}},[a("v-list-item-title",[e._v(" "+e._s(this.$session.get("usuario"))+" ")]),a("v-list-item-subtitle",[e._v(" "+e._s(this.$session.get("email"))+" ")])],1)],1),a("v-divider",{staticClass:"mt-2 mb-2",attrs:{color:"white"}}),e._l(e.listMenu,(function(t){return a("v-list-item",{directives:[{name:"show",rawName:"v-show",value:e.usarEnModoOffline(t.verOffline)&&t.visible,expression:"usarEnModoOffline(item.verOffline) && item.visible"}],key:t.id,on:{click:function(a){return e.cambiarRuta(t)}}},[a("v-icon",{staticClass:"mr-3",attrs:{color:"white"}},[e._v(e._s(t.icon))]),a("v-list-item-title",{staticStyle:{color:"white"}},[e._v(e._s(t.name))])],1)})),a("v-list-item",{on:{click:function(t){e.$session.destroy(),e.$router.push("/inicio")}}},[a("v-icon",{staticClass:"mr-3",attrs:{color:"white"}},[e._v("mdi-logout-variant")]),a("v-list-item-title",{staticStyle:{color:"white"}},[e._v("Cerrar cesión")])],1)],2)],1)],1),a("v-img",{staticClass:"hidden-sm-and-down mr-5",attrs:{"aspect-ratio":2,contain:"","max-width":"200",src:"/img/fao_blanco.png"}}),e._l(e.listMenu,(function(t){return a("v-toolbar-items",{directives:[{name:"show",rawName:"v-show",value:3!=t.id&&4!=t.id&&5!=t.id&&7!=t.id&&t.visible,expression:"item.id != 3 && item.id != 4 && item.id != 5 && item.id != 7 && item.visible"}],key:t.id,staticClass:"ml-4 hidden-sm-and-down cursor-click hover-blue",on:{click:function(a){return e.cambiarRuta(t)}}},[a("v-list-item-title",[a("v-icon",{staticClass:"icon-white",attrs:{color:"white"}},[e._v(e._s(t.icon))]),e._v(e._s(t.name)+" ")],1)],1)})),a("v-spacer"),a("div",[e.isOnline?a("v-btn",{attrs:{icon:""}},[a("v-icon",{staticClass:"icon-white",attrs:{color:"white"}},[e._v("mdi-cellphone-nfc")])],1):e._e(),e.isOffline?a("v-btn",{attrs:{icon:""}},[a("v-icon",{staticClass:"icon-white",attrs:{color:"white"}},[e._v("mdi-cellphone-nfc-off")])],1):e._e()],1),a("v-menu",{attrs:{right:"",bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var o=t.on,i=t.attrs;return[a("div",[e.isOnline&&e.messages.length>0?a("v-btn",e._g(e._b({attrs:{icon:""}},"v-btn",i,!1),o),[a("v-badge",{attrs:{avatar:"",bordered:"",dot:"",color:"success"}},[a("v-icon",{staticClass:"icon-white",attrs:{color:"white"}},[e._v("mdi-bell-ring")])],1)],1):e._e()],1)]}}])},[a("v-responsive",{staticClass:"mx-auto mb-2",attrs:{"max-width":"800"}},[a("v-card",{attrs:{width:"800","max-height":"450"}},[a("v-card-text",{staticClass:"pt-4"},[e._v(" Notificación pendientes por gestionar ")]),a("v-divider"),a("v-list",{staticClass:"overflow-y-auto",staticStyle:{width:"auto","min-height":"220px","max-height":"350px"},attrs:{"three-line":""}},[a("v-list-item-group",{attrs:{"active-class":"primary--text"}},e._l(e.messages,(function(t){return a("v-list-item",{key:t.id_notificacion,attrs:{inset:""}},[a("v-list-item-avatar",[a("v-avatar",{staticClass:"white--text",attrs:{color:e.colorAvatar(t),size:"56"}},[e._v(" "+e._s(null!==t.usuario_creador?t.usuario_creador.substr(0,2).toUpperCase():"US")+" ")])],1),a("v-list-item-content",[a("v-list-item-title",[e._v(e._s(t.titulo))]),a("p",[e._v(" "+e._s(t.descripcion)+" ")])],1),a("v-list-item-action",[a("v-btn",{attrs:{icon:"",depressed:"",small:"",title:"Retirar notificación"},on:{click:function(a){return e.limpiarNotificaciones(t)}}},[a("v-icon",{attrs:{right:"",color:"#004884"}},[e._v(" mdi-delete-circle ")])],1)],1)],1)})),1)],1)],1)],1)],1),a("v-icon",{staticClass:"hidden-sm-and-down  icon-white",attrs:{color:"white",large:""}},[e._v("mdi-account-circle")]),a("v-menu",{attrs:{right:"",bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var o=t.on,i=t.attrs;return[a("div",[a("v-btn",e._g(e._b({staticClass:"hidden-sm-and-down background-primary-dark font-weight-light",staticStyle:{border:"none"},attrs:{outlined:""}},"v-btn",i,!1),o),[e._v(" "+e._s(e.$session.get("usuario"))+" ")])],1)]}}])},[a("v-list",[e._l(e.listMenu,(function(t){return a("v-list-item",{directives:[{name:"show",rawName:"v-show",value:(3==t.id||4==t.id||5==t.id||7==t.id)&&e.isOnline&&t.visible,expression:"(item.id == 3 || item.id == 4 || item.id == 5 || item.id == 7) && isOnline && item.visible"}],key:t.id,on:{click:function(a){return e.cambiarRuta(t)}}},[a("v-icon",{staticClass:"mr-3",attrs:{color:"#004884"}},[e._v(e._s(t.icon))]),a("v-list-item-title",[e._v(e._s(t.name))])],1)})),a("v-list-item",{on:{click:function(t){e.$session.destroy(),e.$router.push("/inicio")}}},[a("v-icon",{staticClass:"mr-3",attrs:{color:"#004884"}},[e._v("mdi-logout-variant")]),a("v-list-item-title",[e._v("Cerrar cesión")])],1)],2)],1)],2)],1)],1),a("v-container",{staticClass:"hidden-sm-and-down",attrs:{fluid:""}},[a("v-row",[a("v-col",{attrs:{cols:"12",md:"8",sm:"12"}}),a("v-col",{attrs:{cols:"2",align:"right"}},[a("v-img",{attrs:{contain:"","max-width":"180","max-height":"80px",src:"/img/fao_logo.png"}})],1),a("v-col",{attrs:{cols:"2"}},[a("v-img",{staticClass:"mt-2",attrs:{contain:"","max-width":"200","max-height":"100px",src:"/img/logo_minagricultura.png"}})],1)],1)],1),a("v-container",{staticClass:"pa-0",attrs:{fluid:""}},[a("v-img",{attrs:{"aspect-ratio":16/9,"max-height":e.imageHeight,src:"/img/img_pages.png"}})],1),a("v-container",{staticClass:"name-moduls color-primary-dark",attrs:{fluid:""}},[a("h3",[e._v(e._s(e.currentRouteName))])])],1)},l=[],c=(a("4de4"),a("c975"),a("a434"),a("b0c0"),a("b64b"),a("d3b7"),"faodb"),u=1,d=200;function m(e,t){if(200===d)return new Promise((function(a,o){var i=indexedDB.open(c,u);i.onerror=function(e){console.log("Error:"),console.log(e.target.error.message),window.alert("Database error: "+e.target.error.message)},i.onsuccess=function(i){var r=i.target.result,n=r.transaction(e,"readonly"),s=n.objectStore(e),l=[];l=t?s.get(e):s.getAll(),l.onerror=function(e){console.log("Error:"),console.log(e.target.error.message),window.alert("Database error: "+e.target.error.message)},l.onsuccess=function(e){var t=l.result?l.result:{};t?a(t):o(Error("object not data"))},n.oncomplete=function(){r.close()}}}))}function p(e,t,a){if(200===d){"undefined"!==e&&"undefined"!==t&&"undefined"!==a||(console.log("Error:"),console.log('Function "update" doest not receive the parameters complete'));var o=indexedDB.open(c,u);o.onerror=function(e){console.log("Error:"),console.log(e.target.error.message),window.alert("Database error: "+e.target.error.message)},o.onsuccess=function(o){for(var i=0;i<t.length;i++){var r=t[i];if(e.hasOwnProperty(r)){var n=o.target.result;a&&(v(n,t[i]),e[r]["id_obj"]=r),f(n,e[r],r)}}}}}function v(e,t){var a=e.transaction(t,"readwrite"),o=a.objectStore(t),i=o.clear();i.onsuccess=function(e){console.log("Success:"),console.log(e)},i.onerror=function(e){console.log("Error:"),console.log(e.target.error.message),window.alert("Database store error: "+e.target.error.message)},a.oncomplete=function(){e.close()}}function f(e,t,a){var o=e.transaction(a,"readwrite"),i=o.objectStore(a),r=i.put(t);r.onsuccess=function(e){console.log("Success:"),console.log(e)},r.onerror=function(e){console.log("Error:"),console.log(e.target.error.message),window.alert("Database store error: "+e.target.error.message)},o.oncomplete=function(){e.close()}}window.indexedDB||(window.alert("Su navegador no soporta una versión estable de indexedDB. Las funciones offline no estarán habilitadas."),statusDb=500);var h=a("bc3a"),b=a.n(h),g={loggin:function(e){return b.a.post("/auth/login",e)},createUser:function(e){return b.a.post("/auth/createUser",e)},updateUser:function(e){return b.a.post("/user/updateUser",e)},storeSolicitud:function(e){return b.a.post("solicitud",e)},getSolicitudes:function(){return b.a.get("solicitudes")},approve:function(e){return b.a.post("approve",e)},reject:function(e){return b.a.post("reject",e)},getUsers:function(){return b.a.get("users")},editUser:function(e){return b.a.put("user",e)},changePassword:function(e){return b.a.post("changePassword",e)},recoverPassword:function(e){return b.a.post("recoverPassword",e)},validateAccount:function(e){return b.a.post("/user/validate",e)},getPermisos:function(e){return b.a.get("permits",e)},deletePermStatus:function(e){return b.a.delete("/permits/permStatus",e)},setPermStatus:function(e){return b.a.post("/permits/permStatus",e)},setRol:function(e){return b.a.post("permits/",e)},deleteRolUser:function(e){return b.a.post("permits/deleteRol",e)},getAllUsers:function(e){return b.a.get("/user/getUsers")},changeRol:function(e){return b.a.post("/user/changeRol",e)},forgotPassword:function(e){return b.a.post("/auth/forgotPassword",e)},updatePassword:function(e){return b.a.post("/user/forgotPassword",e)}},x={getEventos:function(){return b.a.get("/event/getEventos")},getValidateEvent:function(e){return b.a.post("event/validate",e)},getAdjunto:function(e){return b.a.post("/event/getAdjunto",e)},getEvento:function(e){return b.a.post("/event/getEvento",e)}},k={getSystemData:function(e){return b.a.get("/event/systemData",e)},getDataProductor:function(e){return b.a.get("/event/dataProductor",e)},getDataMapa:function(e){return b.a.get("/event/dataMapa",e)},getDataEvent:function(e){return b.a.get("/event/dataEvento",e)},getDataEventSpecie:function(e){return b.a.get("/event/dataEventoEspecie",e)},setDataEvento:function(e){return b.a.post("/event/guardarEvento",e,{headers:{"Content-Type":"multipart/form-data"}})},setDataEventOffline:function(e){return b.a.post("/event/guardarEventoOffline",e,{headers:{"Content-Type":"multipart/form-data"}})},modifyEvent:function(e){return b.a.post("/event/modifyEvent",e,{headers:{"Content-Type":"multipart/form-data"}})},getDataAgropecuario:function(e){return b.a.get("/event/getCultivosAfectadosData",e)},getDataPecuario:function(e){return b.a.get("/event/getSistemaProductivoPecuarioData",e)},getDataPesquero:function(e){return b.a.get("/event/dataPesquero",e)},getAgroCalc:function(e){return b.a.post("/event/agroCalc",e)}},C={getSeguimiento:function(e){return b.a.post("/event/getSeguimiento",e)},setSeguimiento:function(e){return b.a.post("/event/guardarSeguimiento",e,{headers:{"Content-Type":"multipart/form-data"}})},getAdjunto:function(e){return b.a.post("/event/getAdjunto",e,{responseType:"blob"})}},q={setDataInformesEvento:function(e){return b.a.post("/event/setDataInformesEvento",e)},setDataInformesGenerales:function(e){return b.a.post("/event/setDataInformesGenerales",e)}},w={getDataDocumentoType:function(e){return b.a.get("/user/getDataDocumentType",e)},getDataAudit:function(e){return b.a.get("audit/")},readNotification:function(e){return b.a.post("/user/notifications",e)}},y={getAgroCalcAct:function(e){return b.a.get("/event/agroCalcAct",e)},postAgroCal:function(e){return b.a.post("/event/agroCalc",e)},putAgroCal:function(e){return b.a.put("/event/agroCalc",e)}},P={name:"menuApp",data:function(){return{drawer:!1,model:1,group:null,miniVariant:!1,onLine:!0,loading:!0,listMenu:[{id:1,name:"Inicio",icon:"mdi-home",route:"/home",verOffline:!0,visible:!0},{id:2,name:"Crear evento",icon:"mdi-shape-square-rounded-plus",route:"/newEvento",verOffline:!0,visible:!1},{id:3,name:"Datos de usuario",icon:"mdi-account-edit",route:"/updateUser",verOffline:!1,visible:!0},{id:7,name:"Roles",icon:"mdi-sitemap",route:"/roles",verOffline:!1,visible:!1},{id:4,name:"Auditoria",icon:"mdi-shield-check",route:"/auditoria",verOffline:!1,visible:!1},{id:5,name:"Configuración de gastos",icon:"mdi-cogs",route:"/gastosAgricolas",verOffline:!1,visible:!1}],login:[],messages:[]}},created:function(){this.notifications()},methods:{notifications:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,m("login",!1);case 2:a=t.sent,e.login=a,e.messages=a[0].notificaciones,e.validarPermisos(a[0].permisos_usuario[0]);case 6:case"end":return t.stop()}}),t)})))()},validarPermisos:function(e){for(var t=0;t<this.listMenu.length;t++)for(var a=0;a<e.length;a++)if(3!==this.listMenu[t]["id"]&&1!==this.listMenu[t]["id"]&&this.listMenu[t]["id"]===e[a]["id_modulo"]&&(this.listMenu[t]["visible"]=e[a]["estado"],2===e[a]["id_modulo"])){var o=e[a]["permisos"].filter((function(e){return"Crear"===e.nombre_permiso}));o.length>0&&(this.listMenu[t]["visible"]=o[0]["estado"])}},usarEnModoOffline:function(e){var t=!0;return this.isOffline&&!e&&(t=!1),t},cambiarRuta:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,m("newEvent",!1);case 2:if(o=a.sent,!(t.isOnline&&Object.keys(o).length>0&&2===e.id)){a.next=6;break}return t.$swal({icon:"info",text:"Existen eventos sin guardar en el servidor, por favor sincronícelos.",confirmButtonText:"Aceptar"}),a.abrupt("return");case 6:t.$router.push(e.route);case 7:case"end":return a.stop()}}),a)})))()},limpiarNotificaciones:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:t.$swal({title:"Confirmación",text:"Borrar la notificación?",icon:"warning",showCancelButton:!0,confirmButtonText:"Confirmar",cancelButtonText:"Cancelar",showCloseButton:!0,showLoaderOnConfirm:!0}).then((function(a){a.value&&t.leerNotifcacion(e)}));case 1:case"end":return a.stop()}}),a)})))()},leerNotifcacion:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var o,i,r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,o={notificacion:e.id_notificacion},a.next=4,w.readNotification(o);case 4:i=a.sent,200===i.status?(r=t.login[0].notificaciones.indexOf(e),t.login[0].notificaciones.splice(r,1),p({login:t.login[0]},["login"],!0),t.$swal({icon:"success",text:"Notificaciones",confirmButtonText:"Aceptar"})):t.$swal({icon:"error",text:i.message,confirmButtonText:"Aceptar"}),a.next=12;break;case 8:a.prev=8,a.t0=a["catch"](0),console.log(a.t0),t.$swal({icon:"error",text:a.t0.response.data.message,confirmButtonText:"Aceptar"});case 12:case"end":return a.stop()}}),a,null,[[0,8]])})))()},colorAvatar:function(e){var t=this.messages.indexOf(e);return t%2===0?"#004884":"#3366CC"}},computed:{currentRouteName:function(){var e=this.$route.name,t="",a=0,o=0;if(e){for(var i=0;i<=e.length;i++){var r=e.charAt(i);r===r.toUpperCase()&&(o=i,t=t+" "+e.substring(a,o),a=o)}return t.toUpperCase()}},imageHeight:function(){switch(this.$vuetify.breakpoint.name){case"xs":return"97px";case"sm":return"97px";case"md":return"213px";case"lg":return"213px";case"xl":return"250px"}},heightList:function(){for(var e=0,t=0,a=0;a<this.messages.length;a++)e=this.messages[a]["descripcion"].length,e>t&&(t=e);var o=e>t?e:t;switch(this.$vuetify.breakpoint.name){case"md":case"lg":case"xl":o=120;break;default:o+=100;break}return o}}},A=P,E=(a("3147"),a("2877")),_=Object(E["a"])(A,s,l,!1,null,"55dc0694",null),I=_.exports,S=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-snackbar",{scopedSlots:e._u([{key:"action",fn:function(t){var o=t.attrs;return[a("v-btn",e._b({attrs:{color:e.colorAlert,text:""},on:{click:function(t){e.snackbar=!1}}},"v-btn",o,!1),[e._v(" Cerrar ")])]}}]),model:{value:e.snackbar,callback:function(t){e.snackbar=t},expression:"snackbar"}},[e.isOnline?a("p",[a("v-icon",[e._v("mdi-wifi-strength-outline")]),e._v(" Aplicación Online")],1):e._e(),e.isOffline?a("p",[a("v-icon",[e._v("mdi-wifi-strength-off-outline")]),e._v(" Aplicación Offline")],1):e._e()])],1)},$=[],T={data:function(){return{statusOnline:null,snackbar:!0}},methods:{},computed:{colorAlert:function(){return this.isOnline?"indigo":"pink"}}},M=T,R=Object(E["a"])(M,S,$,!1,null,null,null),F=R.exports,D={components:{menuApp:I,offlineAlert:F},name:"App",data:function(){return{dialog:!1,loadingMSG:"",user:""}},mounted:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.$root.$on("mainLoading",(function(t){e.loadingMSG=t,e.dialog=!e.dialog})),e.$root.$on("logged",Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$session.getAll();case 2:e.user=t.sent;case 3:case"end":return t.stop()}}),t)})))),t.next=4,e.$session.getAll();case 4:e.user=t.sent;case 5:case"end":return t.stop()}}),t)})))()}},j=D,O=(a("81b5"),Object(E["a"])(j,r,n,!1,null,null,null)),N=O.exports,z=a("9483");console.log("production"),Object(z["a"])("".concat("/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}});a("45fc");var B=a("8c4f"),V=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"home"},[a("br"),a("br"),a("v-container",{staticClass:"mt-5"},[a("eventos",{on:{compSeguimiento:e.onResulrseguimiento}})],1),"seguimiento"===e.tipo?a("seguimiento",{attrs:{dataEvento:e.dataEvento},on:{compList:function(t){e.tipo="listado"}}}):e._e(),"inicio"!=e.$route.name&&"validate"!=e.$route.name?a("footerApp",{staticClass:"mt-5"}):e._e()],1)},U=[],L=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",[a("br"),a("br"),a("br"),a("v-footer",e._b({attrs:{padless:e.padless,elevation:"2"}},"v-footer",e.localAttrs,!1),[a("v-card",{staticClass:"footer background-primary-dark",attrs:{flat:"",tile:"","max-height":"100px",width:"100%"}},[a("v-expansion-panels",{attrs:{accordion:"",multiple:""},model:{value:e.panel,callback:function(t){e.panel=t},expression:"panel"}},[a("v-expansion-panel",{staticClass:"background-primary-dark p-content-white"},[a("v-expansion-panel-header",{class:e.heightFooter,scopedSlots:e._u([{key:"actions",fn:function(){return[a("v-icon",{class:e.heightFooter},[e._v(" $expand ")])]},proxy:!0}])},[e._v(" Información ")]),a("v-expansion-panel-content",[a("v-card-text",{staticClass:"background-primary-dark p-content-white"},[a("v-row",[a("v-col",{staticClass:"hidden-sm-and-down",attrs:{cols:"12",sm:"12",md:"4",align:"center"}},[a("v-col",{attrs:{cols:"12",sm:"12",md:"5",align:"left"}},[a("v-img",{attrs:{"max-width":"250",src:"/img/logo_minagricultura.png"}}),a("v-img",{staticClass:"mt-5",attrs:{"max-width":"250",src:"/img/fao_blanco.png"}}),a("v-img",{staticClass:"mt-5",attrs:{"max-width":"250",src:"/img/fao_logo_blanco.png"}})],1)],1),a("v-divider",{attrs:{color:"white",inset:"",vertical:""}}),a("v-col",{attrs:{cols:"12",sm:"12",md:"4",align:"left"}},[a("p",{staticClass:"font-16 font-weight-bold"},[e._v("Herramienta")]),a("p",[e._v("Dirección: Calle 72 No.7-82 Piso 7/ - Organización de las Naciones Unidas para la Alimentación y la Agricultura FAO")]),a("p",[e._v("Código postal: 110311")])]),a("v-divider",{attrs:{color:"white",inset:"",vertical:""}}),a("v-col",{attrs:{cols:"12",sm:"12",md:"3",align:"left"}},[a("p",{staticClass:"font-16 font-weight-bold"},[a("v-icon",{attrs:{color:"white"}},[e._v("mdi-phone")]),e._v("Contacto")],1),a("p",[e._v("Teléfono conmutador: +5713465101")]),a("p",[e._v("Correo institucional: fao-co@fao.org")])])],1)],1)],1)],1)],1),a("v-container",{staticClass:"d-md-none",staticStyle:{"background-color":"white"},attrs:{fluid:""}},[a("v-row",{attrs:{dense:""}},[a("v-col",{attrs:{cols:"4",md:"4",sm:"4",align:"center"}},[a("v-img",{attrs:{"max-width":"150",src:"/img/fao_logo.png"}})],1),a("v-col",{staticClass:"mt-1",attrs:{cols:"4",md:"4",sm:"4",align:"center"}},[a("v-img",{attrs:{"max-width":"150",src:"/img/fao_azul.png"}})],1),a("v-col",{staticClass:"mt-1",attrs:{cols:"4",md:"4",sm:"4",align:"center"}},[a("v-img",{attrs:{"max-width":"180",src:"/img/logo_minagricultura.png"}})],1)],1)],1)],1)],1)],1)},G=[],H={name:"footerApp",data:function(){return{panel:[0,1],padless:!0,variant:"absolute"}},computed:{localAttrs:function(){var e={};return"default"===this.variant?(e.absolute=!1,e.fixed=!1):e[this.variant]=!0,e},heightFooter:function(){var e="background-primary-dark color-primary-dark";switch(this.$vuetify.breakpoint.name){case"xs":e="background-primary-dropdowns color-primary-dark font-weight-bold";break;case"sm":e="background-primary-dropdowns color-primary-dark font-weight-bold";break}return e}}},J=H,K=Object(E["a"])(J,L,G,!1,null,null,null),Y=K.exports,Q=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-overlay",{attrs:{value:e.loadingSeeEvent}},[a("v-progress-circular",{attrs:{indeterminate:"",size:"64"}})],1),a("searchCombobox",{attrs:{listChips:e.listChips,datos:e.eventos,dataFiltrada:e.dataEventoFiltrada,campoFechaFiltro:"fecha_registro_evento"}}),a("v-row",{staticClass:"mt-5"},[a("v-col",{attrs:{cols:"12",md:"12",sm:"12"}},[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.eventos,"items-per-page":5,loading:e.loading,search:e.filtro,"no-data-text":"No hay datos."},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-layout",{attrs:{"align-center":"","pa-2":""}},[a("v-row",[a("v-col",{attrs:{cols:"12",md:"3",sm:"12"}},[e.permisoCrearEvento?a("v-btn",{staticClass:"background-primary-dark button-basic",attrs:{elevation:"2",raised:"",depressed:"",block:""},on:{click:e.crearEvento}},[e._v(" Crear evento ")]):e._e()],1),a("v-col",{attrs:{cols:"12",sm:"12",md:"3"}},[e.isOnline&&e.eventosSinTransmitir?a("v-btn",{staticClass:"background-primary-dark button-basic",attrs:{elevation:"2",block:"",raised:"",depressed:"",loading:e.loadingSincronizar,disabled:e.loadingSincronizar},on:{click:e.sincronizar}},[e._v(" Sincronizar eventos "),a("v-icon",{attrs:{right:"",dark:""}},[e._v(" mdi-cloud-sync ")])],1):e._e()],1),a("v-col",{attrs:{cols:"12",md:"6",sm:"12"}},[a("v-text-field",{attrs:{label:"Buscar",outlined:"",dense:"","hide-details":"","prepend-icon":"mdi-filter"},model:{value:e.filtro,callback:function(t){e.filtro=t},expression:"filtro"}})],1)],1)],1)]},proxy:!0},{key:"item.actions",fn:function(t){var o=t.item;return[a("v-icon",{staticClass:"mr-1",attrs:{small:"",color:"#004884",title:"Ver evento"},on:{click:function(t){return e.verEvento(o)}}},[e._v(" mdi-eye ")]),e.isOffline||e.eventosSinTransmitir?a("v-icon",{staticClass:"mr-1",attrs:{small:"",color:"#004884",title:"Eliminar evento"},on:{click:function(t){return e.eliminarEvento(o)}}},[e._v(" mdi-trash-can ")]):e._e(),e.isOnline&&!e.eventosSinTransmitir?a("v-icon",{staticClass:"mr-1",attrs:{small:"",color:"#004884",title:"Ver seguimiento"},on:{click:function(t){return e.seguimiento(o)}}},[e._v(" mdi-notebook ")]):e._e(),e.isOnline&&!e.eventosSinTransmitir?a("v-icon",{staticClass:"mr-1",attrs:{small:"",color:"#004884",title:"Ver adjuntos del evento"},on:{click:function(t){return e.verAdjuntosEvento(o)}}},[e._v(" mdi-file-download ")]):e._e(),e.isOnline&&!e.eventosSinTransmitir?a("v-icon",{staticClass:"mr-1",attrs:{small:"",color:o.validado?"success":"",title:"Aprobar evento"},on:{click:function(t){return e.validateEvent(o)}}},[e._v(" mdi-check-decagram ")]):e._e()]}}])})],1)],1),a("v-dialog",{attrs:{scrollable:"","max-width":"300px"},model:{value:e.dialogAdjuntos,callback:function(t){e.dialogAdjuntos=t},expression:"dialogAdjuntos"}},[a("v-card",[a("v-card-title",[e._v("Adjuntos")]),a("v-divider"),a("v-card-text",{staticStyle:{height:"auto"}},[e._l(e.adjuntos,(function(t){return a("v-list-item",{key:t.cod_evento_adjunto},[a("v-list-item-icon",[a("v-icon",[e._v("mdi-download-box")])],1),a("v-list-item-content",[a("a",{on:{click:function(a){return e.descargarAdjunto(t)}}},[e._v(" "+e._s(t.nombre_archivo)+" ")])])],1)})),a("br")],2),a("v-divider"),a("v-card-actions",[a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(t){e.dialogAdjuntos=!1}}},[e._v(" Cerrar ")])],1)],1)],1)],1)},Z=[],X=(a("3ca3"),a("ddb0"),a("2b3d"),a("b85c")),W=a("1232"),ee=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-expansion-panels",{staticClass:"border-basic",model:{value:e.panel,callback:function(t){e.panel=t},expression:"panel"}},[a("v-expansion-panel",{staticClass:"border-basic"},[a("v-expansion-panel-header",[a("v-list",[a("v-list-item",[a("v-list-item-action",[a("v-icon",[e._v("mdi-filter-variant")])],1),a("v-list-item-content",[a("v-list-item-title",[e._v("Filtros")])],1)],1),a("v-divider",{attrs:{inset:""}})],1)],1),a("v-expansion-panel-content",[a("v-row",{staticClass:"ma-0"},[a("v-col",{attrs:{cols:"12",md:"12",sm:"12"}},[a("v-combobox",{attrs:{items:e.items,chips:"","small-chips":"",block:"",label:"Campos",multiple:"",outlined:"",dense:"","open-on-clear":!0},scopedSlots:e._u([{key:"selection",fn:function(t){var o=t.attrs,i=t.item,r=t.select,n=t.selected;return[a("v-chip",e._b({attrs:{"input-value":n,close:"",color:"#004884"},on:{click:r,"click:close":function(t){return e.remove(i)}}},"v-chip",o,!1),[a("strong",[e._v(e._s(i))])])]}}]),model:{value:e.chips,callback:function(t){e.chips=t},expression:"chips"}})],1),a("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"auto"},scopedSlots:e._u([{key:"activator",fn:function(t){var o=t.on,i=t.attrs;return[a("v-col",{attrs:{cols:"12",md:"5",sm:"12"}},[a("v-text-field",e._g(e._b({attrs:{label:"Fecha inicio",hint:"Fecha inicio",readonly:"",dense:"",solo:"",flat:"",outlined:"",filled:""},model:{value:e.fechaInicio,callback:function(t){e.fechaInicio=t},expression:"fechaInicio"}},"v-text-field",i,!1),o))],1)]}}]),model:{value:e.menuFechaInicio,callback:function(t){e.menuFechaInicio=t},expression:"menuFechaInicio"}},[a("v-col",{attrs:{cols:"12",md:"5",sm:"12"}},[a("v-date-picker",{attrs:{outlined:""},on:{input:function(t){e.menuFechaInicio=!1}},model:{value:e.fechaInicio,callback:function(t){e.fechaInicio=t},expression:"fechaInicio"}})],1)],1),a("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"auto"},scopedSlots:e._u([{key:"activator",fn:function(t){var o=t.on,i=t.attrs;return[a("v-col",{attrs:{cols:"12",md:"5",sm:"12"}},[a("v-text-field",e._g(e._b({attrs:{label:"Fecha fin",hint:"Fecha fin",readonly:"",dense:"",solo:"",flat:"",outlined:"",filled:""},model:{value:e.fechaFin,callback:function(t){e.fechaFin=t},expression:"fechaFin"}},"v-text-field",i,!1),o))],1)]}}]),model:{value:e.menuFechaFin,callback:function(t){e.menuFechaFin=t},expression:"menuFechaFin"}},[a("v-col",{attrs:{cols:"12",md:"5",sm:"12"}},[a("v-date-picker",{attrs:{outlined:""},on:{input:function(t){e.menuFechaFin=!1}},model:{value:e.fechaFin,callback:function(t){e.fechaFin=t},expression:"fechaFin"}})],1)],1),a("v-col",{attrs:{cols:"12",md:"2",sm:"12"}},[a("v-btn-toggle",{staticClass:"button-basic",attrs:{dense:""}},[a("v-btn",{staticClass:"background-primary-dark",attrs:{title:"Filtrar"},on:{click:function(t){return e.filtrar()}}},[a("v-icon",{attrs:{color:"white"}},[e._v("mdi-filter-menu")])],1),a("v-btn",{staticClass:"background-primary-dark",attrs:{title:"Limpiar"},on:{click:e.limpiarFiltro}},[a("v-icon",{attrs:{color:"white"}},[e._v("mdi-filter-remove")])],1)],1)],1)],1),a("v-progress-linear",{staticClass:"ml-2",staticStyle:{"border-radius":"0 0 20px 20px",width:"99%"},attrs:{active:e.loading,indeterminate:e.loading,absolute:"",bottom:"",color:"primary",rounded:""}})],1)],1)],1)},te=[],ae=(a("d81d"),a("ac1f"),a("25f0"),a("1276"),a("2909")),oe={name:"filtros",props:["listChips","datos","dataFiltrada","campoFechaFiltro"],data:function(){return{loading:!1,panel:[0],chips:[],dataParcial:[],dataCompleta:[],eliminar:!1,fechaInicio:"",menuFechaInicio:!1,fechaFin:"",menuFechaFin:!1}},methods:{remove:function(e){this.eliminar=!0,this.chips.splice(this.chips.indexOf(e),1),this.chips=Object(ae["a"])(this.chips),this.filtrar()},filtrar:function(){var e=this;this.loading=!0;var t=[],a=!0;0===this.dataCompleta.length&&(this.dataCompleta=this.datos),this.dataParcial=this.dataCompleta,(this.fechaInicio||this.fechaFin)&&this.filtrarFechas();var o=function(o){t=e.chips[o].split(" Igual "),a=!0,1===t.length&&(t=e.chips[o].split(" Diferente "),a=!1);var i=e.listChips.filter((function(e){return e["nombreFiltro"]===t[0]}));if(0===i.length)return"continue";e.dataParcial=a?e.dataParcial.filter((function(e){return!!e[i[0].valor]&&e[i[0].valor].toString().toLowerCase()===t[1].toString().toLowerCase()})):e.dataParcial.filter((function(e){return!!e[i[0].valor]&&e[i[0].valor].toString().toLowerCase()!==t[1].toString().toLowerCase()}))};for(var i in this.chips)o(i);this.loading=!1,this.dataFiltrada(this.dataParcial)},filtrarFechas:function(){var e=this;(this.fechaInicio&&!this.fechaFin||!this.fechaInicio&&this.fechaFin)&&this.$swal({icon:"error",text:"No se ha registrado la fecha inicio o fin, para aplicar el filtro.",confirmButtonText:"Aceptar"}),Date.parse(this.fechaFin)<Date.parse(this.fechaInicio)&&this.$swal({icon:"error",text:"La fecha de inicio no puede ser mayor a la fecha fin..",confirmButtonText:"Aceptar"}),this.dataParcial=this.dataParcial.filter((function(t){return t[e.campoFechaFiltro]>=e.fechaInicio&&t[e.campoFechaFiltro]<=e.fechaFin}))},limpiarFiltro:function(){this.chips=[],this.fechaInicio="",this.fechaFin="",this.dataCompleta.length>0&&this.filtrar()}},computed:{items:function(){var e=this,t=[],a=this.listChips.map((function(e){return e["nombreFiltro"]}));if(0===this.chips.length)t=a;else{var o=a.filter((function(t){return t===e.chips[e.chips.length-1]}));if(o.length>0)t.push("Igual"),t.push("Diferente");else if("Igual"!=this.chips[this.chips.length-1]&&"Diferente"!=this.chips[this.chips.length-1]&&!this.eliminar){var i=this.chips[this.chips.length-3]+" "+this.chips[this.chips.length-2]+" "+this.chips[this.chips.length-1];this.chips.length=this.chips.length-3,this.chips.push(i),t=a}}return this.eliminar&&(0===t.length&&(t=a),this.eliminar=!1),t}}},ie=oe,re=Object(E["a"])(ie,ee,te,!1,null,null,null),ne=re.exports,se={name:"eventos",components:{searchCombobox:ne},data:function(){return{headers:[{text:"N°",align:"center",value:"cod_evento"},{text:"Tipo Evento",align:"center",value:"tipo_evento"},{text:"Fecha registro",align:"center",value:"fecha_registro_evento"},{text:"Ubicación",align:"center",value:"ubicacion"},{text:"Acciones",value:"actions",sortable:!1}],eventos:[],loading:!1,loadingSincronizar:!1,loadingSeeEvent:!1,permisoCrearEvento:!1,filtro:"",desserts:[],editedIndex:-1,editedItem:{},eventosSinTransmitir:!1,dialogAdjuntos:!1,adjuntos:[],listChips:[{nombreFiltro:"Fecha registro",valor:"fecha_registro_evento"},{nombreFiltro:"Nombre puerto",valor:"nom_puerto_desembarquee"},{nombreFiltro:"Nombre vereda",valor:"nom_vereda"},{nombreFiltro:"Sistema productivo",valor:"sistema_productivo_afectado"},{nombreFiltro:"Tipo evento",valor:"tipo_evento"},{nombreFiltro:"Ubicación",valor:"ubicacion"},{nombreFiltro:"Usuario",valor:"usuario"},{nombreFiltro:"Validado",valor:"validado"}],dataEventos:[]}},created:function(){this.validarPermisos()},mounted:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getEventos();case 2:case"end":return t.stop()}}),t)})))()},methods:{validarPermisos:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a,o,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,m("login",!1);case 2:for(a=t.sent,o=a[0].permisos_usuario[0],i=0;i<o.length;i++)2===o[i]["id_modulo"]&&(e.permisoCrearEvento=o[i]["estado"]);case 5:case"end":return t.stop()}}),t)})))()},getEventos:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loading=!0,t.prev=1,t.next=4,e.eventosOffline();case 4:if(e.eventosSinTransmitir=t.sent,!e.isOnline){t.next=13;break}if(!e.eventosSinTransmitir){t.next=10;break}e.$swal({icon:"info",text:"Existen eventos sin guardar en el servidor, por favor sincronícelos.",confirmButtonText:"Aceptar"}),t.next=13;break;case 10:return e.loading=!0,t.next=13,e.eventosOnline();case 13:t.next=18;break;case 15:t.prev=15,t.t0=t["catch"](1),console.log(t.t0);case 18:e.loading=!1;case 19:case"end":return t.stop()}}),t,null,[[1,15]])})))()},dataEventoFiltrada:function(e){this.eventos=e},eventosOnline:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a,o,i,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,x.getEventos();case 2:a=t.sent,200===a.status&&(o=a.data.token,i=Object(W["a"])(o),r=i.eventos,e.loading=!1,e.eventos=r.eventos);case 4:case"end":return t.stop()}}),t)})))()},eventosOffline:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a,o,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,m("newEvent",!1);case 2:for(o in a=t.sent,e.loading=!1,e.eventos=[],a)i={cod_evento:o,tipo_evento:a[o]["dataEncabezadoEvento"]["nameTipoEv"],fecha_registro_evento:"",ubicacion:a[o]["dataEncabezadoEvento"]["observacion"]+"("+a[o]["dataEncabezadoEvento"]["nameDepartamento"]+" - "+a[o]["dataEncabezadoEvento"]["nameMunicipio"]+")",data:a[o]},e.eventos.push(i);return t.abrupt("return",Object.keys(a).length>0);case 7:case"end":return t.stop()}}),t)})))()},verEvento:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(o=[],t.loadingSeeEvent=!0,!t.isOnline||t.eventosSinTransmitir){a.next=8;break}return a.next=5,t.consultarEvento(e);case 5:o=a.sent,a.next=10;break;case 8:t.eventos.indexOf(e),o=Object.assign({},e.data);case 10:t.loadingSeeEvent=!1,t.$router.push({name:"actualizarEvento",params:{evento:o}});case 12:case"end":return a.stop()}}),a)})))()},consultarEvento:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var o,i;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return o=[],a.prev=1,a.next=4,x.getEvento({idEvento:e.cod_evento});case 4:i=a.sent,200===i.status?o=i.data.message[0]["newEvent"]:t.$swal({icon:"error",text:i.message,confirmButtonText:"Aceptar"}),a.next=13;break;case 8:a.prev=8,a.t0=a["catch"](1),t.loadingSeeEvent=!1,console.log(a.t0),t.$swal({icon:"error",text:a.t0.response.data.message,confirmButtonText:"Aceptar"});case 13:return a.abrupt("return",o);case 14:case"end":return a.stop()}}),a,null,[[1,8]])})))()},eliminarEvento:function(e){var t=this;this.$swal({title:"Confirmación",text:"Eliminar el evento?",icon:"warning",showCancelButton:!0,confirmButtonText:"Confirmar",cancelButtonText:"Cancelar",showCloseButton:!0,showLoaderOnConfirm:!0}).then((function(a){if(a.value)if(console.log("Eliminación de evento"),200===d){var o=indexedDB.open(c,u);o.onerror=function(e){console.log("Error:"),console.log(e.target.error.message),window.alert("Database error: "+e.target.error.message)},o.onsuccess=function(a){t.eliminarStoreItemNewEvent(a,e.data.id_obj)},t.getEventos()}else console.error("500 - conection")}))},seguimiento:function(e){this.$emit("compSeguimiento",e)},verAdjuntosEvento:function(e){this.dialogAdjuntos=!0,this.adjuntos=e.adjuntos},descargarAdjunto:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var o,i,r,n,s,l,c;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return o=e.ruta,i=e.nombre_archivo,r=o+"/"+i,a.prev=3,a.next=6,x.getAdjunto({ruta:r});case 6:n=a.sent,200===n.status?(s=n.data,l=window.URL.createObjectURL(new Blob([s])),c=document.createElement("a"),c.href=l,c.setAttribute("download",i),document.body.appendChild(c),c.click()):t.$swal({icon:"error",text:error.message,confirmButtonText:"Aceptar"}),a.next=14;break;case 10:a.prev=10,a.t0=a["catch"](3),console.log(a.t0),t.$swal({icon:"error",text:a.t0.response.data.message,confirmButtonText:"Aceptar"});case 14:case"end":return a.stop()}}),a,null,[[3,10]])})))()},validateEvent:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:o=e.cod_evento,t.$swal({title:"Confirmación",text:"Aprobar evento?",icon:"warning",showCancelButton:!0,confirmButtonText:"Confirmar",cancelButtonText:"Cancelar",showCloseButton:!0,showLoaderOnConfirm:!0}).then((function(e){e.value&&t.setAuditar(o)}));case 2:case"end":return a.stop()}}),a)})))()},setAuditar:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,x.getValidateEvent({evento:e});case 3:o=a.sent,200===o.status?(t.$swal({icon:"success",text:"Evento aprobado",confirmButtonText:"Aceptar"}),t.getEventos()):t.$swal({icon:"error",text:error.message,confirmButtonText:"Aceptar"}),a.next=11;break;case 7:a.prev=7,a.t0=a["catch"](0),console.log(a.t0),t.$swal({icon:"error",text:a.t0.response.data.message,confirmButtonText:"Aceptar"});case 11:case"end":return a.stop()}}),a,null,[[0,7]])})))()},generarInformesEvento:function(e){this.$router.push({name:"informesEvento",params:{evento:e}})},sincronizar:function(){var e=this;if(this.loadingSincronizar=!0,200===d)try{var t=indexedDB.open(c,u);t.onerror=function(t){e.loadingSincronizar=!1,console.log("Error:"),console.log(t.target.error.message),window.alert("Database error: "+t.target.error.message)},t.onsuccess=function(t){e.crearFormDataOffline(t)}}catch(error){this.loadingSincronizar=!1,this.$swal({icon:"error",text:error.response.data.message,confirmButtonText:"Aceptar"})}else console.error("500 - conection")},crearFormDataOffline:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var o,i,r,n,s,l,c,u,d;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,m("newEvent",!1);case 2:for(n in o=a.sent,i=new FormData,r=[],o){if(s=0,l=o[n]["dataEncabezadoEvento"]["adjuntos"],l){c=Object(X["a"])(l);try{for(c.s();!(u=c.n()).done;)d=u.value,i.append("files"+n+s,d,d.name),s++}catch(p){c.e(p)}finally{c.f()}}i.append("contador"+n,s),r.push(o[n])}i.append("eventos",JSON.stringify(r)),t.enviarFormDataOffline(i,e);case 8:case"end":return a.stop()}}),a)})))()},enviarFormDataOffline:function(e,t){var a=this;return Object(o["a"])(regeneratorRuntime.mark((function o(){var i;return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:return o.prev=0,o.next=3,k.setDataEventOffline(e);case 3:i=o.sent,200===i.status?(a.eliminarStoreNewEvent(t),a.$swal({icon:"success",text:i.message,confirmButtonText:"Aceptar"}),a.getEventos()):a.$swal({icon:"error",text:i.message,confirmButtonText:"Aceptar"}),a.loadingSincronizar=!1,o.next=12;break;case 8:o.prev=8,o.t0=o["catch"](0),a.loadingSincronizar=!1,a.$swal({icon:"error",text:o.t0.response.data.message,confirmButtonText:"Aceptar"});case 12:case"end":return o.stop()}}),o,null,[[0,8]])})))()},eliminarStoreNewEvent:function(e){var t=e.target.result,a=t.transaction("newEvent","readwrite"),o=a.objectStore("newEvent"),i=o.clear();i.onsuccess=function(e){console.log("Success:"),console.log(e)},i.onerror=function(e){console.log("Error:"),console.log(e.target.error.message),window.alert("Database store error: "+e.target.error.message)},a.oncomplete=function(){t.close()}},eliminarStoreItemNewEvent:function(e,t){var a=e.target.result,o=a.transaction("newEvent","readwrite"),i=o.objectStore("newEvent").delete(t);i.onsuccess=function(e){console.log("Success delete item store:"),console.log(e)},i.onerror=function(e){console.log("Error:"),console.log(e.target.error.message),window.alert("Database store error: "+e.target.error.message)},o.oncomplete=function(){a.close()}},crearEvento:function(){this.eventosSinTransmitir?this.$swal({icon:"info",text:"Existen eventos sin guardar en el servidor, por favor sincronícelos.",confirmButtonText:"Aceptar"}):this.$router.push("/newEvento")}}},le=se,ce=(a("ea83"),Object(E["a"])(le,Q,Z,!1,null,"6e63353a",null)),ue=ce.exports,de=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-dialog",{attrs:{persistent:"","max-width":"850px"},model:{value:e.dialogSeguimiento,callback:function(t){e.dialogSeguimiento=t},expression:"dialogSeguimiento"}},[a("v-overlay",{attrs:{value:e.loading}},[a("v-progress-circular",{attrs:{indeterminate:"",size:"64"}})],1),a("v-card",{staticClass:"border-basic",attrs:{flat:""}},[a("div",{staticStyle:{"text-align":"right"}},[a("v-btn",{staticClass:"color-primary-dark",attrs:{icon:"",dark:""},on:{click:function(t){return e.cerrarModal()}}},[a("v-icon",[e._v("mdi-close-circle")])],1)],1),a("v-container",[a("v-subheader",{staticClass:"title-basic subtitle font-weight-bold"},[a("span",[e._v("Seguimientos")])]),a("v-subheader",[a("span",[e._v(e._s(e.dataEvento.descrip_llegada_casco_urbano)+" ")])]),a("v-divider"),a("v-chip",{staticClass:"ma-2"},[e._v("Fecha Evento: "+e._s(e.dataEvento.fecha_registro_evento)+" ")]),a("v-chip",{staticClass:"ma-2"},[e._v("Tipo Evento: "+e._s(e.dataEvento.tipo_evento)+" ")]),a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12",md:"6",sm:"12"}},[a("v-row",[a("v-col",{staticClass:"mt-3",staticStyle:{padding:"0px"},attrs:{cols:"12",md:"12",sm:"12"}},[a("v-text-field",{attrs:{label:"Filtrar",dense:"",outlined:"","prepend-inner-icon":"mdi-filter"},on:{keyup:e.filtrarSeguimiento},model:{value:e.searchSeguimientos,callback:function(t){e.searchSeguimientos=t},expression:"searchSeguimientos"}})],1),a("v-col",{staticStyle:{"margin-top":"0px",padding:"0px"},attrs:{cols:"12",md:"12",sm:"12"}},[a("v-list",{staticClass:"border-basic overflow-y-auto",staticStyle:{width:"auto","min-height":"220px","max-height":"220px",border:"1px solid LightGray"},attrs:{"three-line":""}},[a("v-list-item-group",{attrs:{"active-class":"primary--text",multiple:""}},e._l(e.filter,(function(t){return a("v-list-item",{key:t.cod_evento_seguimiento,staticStyle:{"border-bottom":"1px solid LightGray"},attrs:{inset:""}},[a("v-list-item-avatar",{staticClass:"background-primary-dark",staticStyle:{width:"auto",height:"40px","border-radius":"5px"}},[a("span",{staticStyle:{color:"white"}},[e._v(e._s(t.nombre_usuario.substr(0,2).toUpperCase()))])]),a("v-list-item-content",[a("v-list-item-title",[a("strong",[e._v(e._s(t.nombre_usuario))])]),a("p",{attrs:{align:"start"}},[e._v(e._s(t.observacion))])],1),a("v-list-item-action",[e._v(" "+e._s(t.fecha_registro)+" "),a("v-btn",{attrs:{icon:""}},[t.adjuntos.length>0?a("v-icon",{on:{click:function(a){return e.listadoAdjuntos(t.adjuntos)}}},[e._v("mdi-paperclip")]):e._e()],1)],1)],1)})),1)],1)],1)],1)],1),a("v-col",{attrs:{cols:"12",md:"6",sm:"12"}},[a("v-row",[a("v-col",{attrs:{cols:"12",md:"12",sm:"12"}},[a("v-form",{ref:"form",attrs:{"lazy-validation":"",name:"form1"},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[a("v-row",{attrs:{"no-gutters":""}},[a("v-col",{attrs:{cols:"12",md:"12"}},[a("v-file-input",{staticClass:"border-basic",attrs:{"prepend-inner-icon":"mdi-paperclip","prepend-icon":"",multiple:"",dense:"",outlined:"",solo:"",flat:"",counter:"","small-chips":"","show-size":"","truncate-length":"15",label:"Adjuntar archivo"},model:{value:e.seguimiento.adjuntos,callback:function(t){e.$set(e.seguimiento,"adjuntos",t)},expression:"seguimiento.adjuntos"}})],1),a("v-col",{attrs:{cols:"12",md:"12"}},[a("v-textarea",{attrs:{outlined:"",solo:"",flat:"",label:"Observación",rules:e.nameRules,required:"",maxlength:"180"},model:{value:e.seguimiento.observacion,callback:function(t){e.$set(e.seguimiento,"observacion",t)},expression:"seguimiento.observacion"}})],1),a("v-col",{attrs:{cols:"12",md:"12"}},[a("v-btn",{staticClass:"background-primary-dark button-basic",attrs:{elevation:"2",block:"",raised:"",depressed:""},on:{click:function(t){return e.guardarSeguimiento()}}},[e._v("Agregar")])],1)],1)],1)],1)],1)],1)],1)],1),a("v-dialog",{attrs:{scrollable:"","max-width":"300px"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-card",[a("v-card-title",[e._v("Adjuntos")]),a("v-divider"),a("v-card-text",{staticStyle:{height:"auto"}},[e._l(e.descargaAdjuntos,(function(t){return a("v-list-item",{key:t.id},[a("v-list-item-icon",[a("v-icon",[e._v("mdi-download-box")])],1),a("v-list-item-content",[a("a",{on:{click:function(a){return e.descargarAdjunto(t)}}},[e._v(" "+e._s(t.nombre)+" ")])])],1)})),a("br")],2),a("v-divider"),a("v-card-actions",[a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(t){e.dialog=!1}}},[e._v(" Cerrar ")])],1)],1)],1)],1)],1)],1)],1)},me=[],pe=(a("caad"),a("2532"),{name:"seguimientos",props:["dataEvento"],data:function(){return{dialogSeguimiento:!0,loading:!1,valid:!0,nameRules:[function(e){return!!e||"Campo obligatorio"}],content:"",seguimiento:[],searchSeguimientos:"",filter:[],noGutters:!0,messages:[],dialog:!1,descargaAdjuntos:[]}},mounted:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getSeguimientos();case 2:case"end":return t.stop()}}),t)})))()},methods:{filtrarSeguimiento:function(){var e=this,t=this.messages.filter((function(t){return t.observacion.toLowerCase().includes(e.searchSeguimientos.toLowerCase())}));this.filter=t||this.messages},listadoAdjuntos:function(e){for(var t in this.dialog=!0,this.descargaAdjuntos.splice(0),e){var a={id:e[t].cod_evento_seguimiento_adju,nombre:e[t].nombre_archivo,rutaFinal:e[t].ruta+"/"+e[t].nombre_archivo};this.descargaAdjuntos.push(a)}},descargarAdjunto:function(e){return Object(o["a"])(regeneratorRuntime.mark((function t(){var a,o,i,r,n,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.rutaFinal,o=e.nombre,t.prev=2,t.next=5,C.getAdjunto({ruta:a,nombre:o});case 5:i=t.sent,200===i.status&&(r=i.data,n=window.URL.createObjectURL(new Blob([r])),s=document.createElement("a"),s.href=n,s.setAttribute("download",o),document.body.appendChild(s),s.click()),t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](2),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[2,9]])})))()},getSeguimientos:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a,o,i,r,n,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.dataEvento.cod_evento,t.prev=1,t.next=4,C.getSeguimiento({idEvento:a});case 4:if(o=t.sent,200===o.status)for(s in i=o.data.token,r=Object(W["a"])(i),n=r.seguimientos,e.messages.splice(0),n.seguimientos)e.messages.push(n.seguimientos[s]);t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](1),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[1,8]])})))()},guardarSeguimiento:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a,o,i,r,n,s,l,c,u,d,m,p,v;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.$refs.form.validate()){t.next=29;break}if(a=e.dataEvento.cod_evento,o=e.seguimiento.observacion,e.loading=!0,i=new FormData,r=0,e.seguimiento.adjuntos){n=Object(X["a"])(e.seguimiento.adjuntos);try{for(n.s();!(s=n.n()).done;)l=s.value,i.append("files"+r,l,l.name),r++}catch(f){n.e(f)}finally{n.f()}}if(c=JSON.parse(localStorage.getItem("dataUser")),i.append("idUsuario",c.id),i.append("contador",r),i.append("idEvento",a),i.append("observacion",o),a){t.next=16;break}return e.$toasted.error("Ocurrio un erro al capturar el ID del evento.",{duration:4e3}),e.loading=!1,t.abrupt("return");case 16:return t.prev=16,t.next=19,C.setSeguimiento(i);case 19:if(u=t.sent,200===u.status){for(v in d=u.data.token,m=Object(W["a"])(d),p=m.seguimientos,e.messages.splice(0),p.seguimientos)e.messages.push(p.seguimientos[v]);e.$swal({icon:"success",text:"Seguimiento creado.",confirmButtonText:"Aceptar"}),e.seguimiento={}}else console.log(u);t.next=27;break;case 23:t.prev=23,t.t0=t["catch"](16),e.$swal({icon:"error",text:t.t0.response.data.message,confirmButtonText:"Aceptar"}),console.log(t.t0);case 27:t.next=30;break;case 29:e.$swal({icon:"error",text:"Errores en el formulario.",confirmButtonText:"Aceptar"});case 30:e.loading=!1;case 31:case"end":return t.stop()}}),t,null,[[16,23]])})))()},cerrarModal:function(){this.$emit("compList")}},created:function(){this.filter=this.messages},computed:{}}),ve=pe,fe=Object(E["a"])(ve,de,me,!1,null,null,null),he=fe.exports,be={components:{footerApp:Y,eventos:ue,seguimiento:he},name:"Home",data:function(){return{tipo:"listado",dataEvento:[]}},methods:{onResulrseguimiento:function(e){this.tipo="seguimiento",this.dataEvento=e}}},ge=be,xe=Object(E["a"])(ge,V,U,!1,null,null,null),ke=xe.exports,Ce=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticStyle:{height:"100vh"}},[a("v-container",{staticClass:"img-main"},[a("login",{on:{register:function(t){e.tipo="registro"},recover:function(t){e.tipo="recover"}}}),"registro"===e.tipo?a("registro",{attrs:{updateUser:!1},on:{login:function(t){e.tipo="login"}}}):e._e(),"recover"===e.tipo?a("recPassword",{on:{login:function(t){e.tipo="login"}}}):e._e()],1),a("br"),a("footerInicio")],1)},qe=[],we=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-overlay",{attrs:{value:e.overlay}},[a("v-progress-circular",{attrs:{indeterminate:"",size:"64"}})],1),a("v-card",{staticClass:"border-basic pa-5",attrs:{flat:"",elevation:"6","max-width":"405"}},[a("v-card-title",{staticClass:"mt-5 justify-center text-center"},[a("v-col",{attrs:{cols:"12 ma-0 pa-0"}},[a("p",{staticClass:"title-basic title font-weight-bold text-md-h4 text-sm-h5"},[e._v("HERRAMIENTA DE "),a("br"),e._v(" RECOLECCIÓN DE "),a("br"),e._v(" DAÑOS Y PÉRDIDAS")])]),a("v-col",{attrs:{cols:"12 ma-0 pa-0"}},[a("p",{staticClass:"title-basic subtitle-2 font-weight-bold text-md-h5 text-sm-h6"},[e._v("Sector Agropecuario")])])],1),a("v-card-text",[a("div",{staticClass:"font-weight-bold p-content"},[e._v("Usuario")]),a("v-text-field",{attrs:{"prepend-inner-icon":"mdi-email-outline",outlined:"",dense:""},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}}),this.isOnline?a("div",{staticClass:"font-weight-bold p-content"},[e._v("Contraseña")]):e._e(),this.isOnline?a("v-text-field",{attrs:{"prepend-inner-icon":"mdi-lock-outline",outlined:"",dense:"",type:e.show1?"text":"password","append-icon":e.show1?"mdi-eye-outline":"mdi-eye-off-outline"},on:{"click:append":function(t){e.show1=!e.show1}},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}}):e._e(),a("v-btn",{staticClass:"button-basic background-primary",staticStyle:{width:"100%"},on:{click:e.login}},[e._v(" Iniciar ")]),a("v-row",{staticClass:"my-3",attrs:{"no-gutters":"",align:"center"}},[a("v-divider"),a("v-divider")],1),this.isOnline?a("center",{staticClass:"p-content"},[a("p",[e._v(" ¿Olvidaste tu constraseña? "),a("v-btn",{staticStyle:{padding:"2px"},attrs:{color:"primary",text:"",small:""},on:{click:function(t){return e.$emit("recover")}}},[e._v("Click aquí")])],1),a("v-btn",{staticClass:"button-basic background-primary-dark",staticStyle:{width:"100%"},on:{click:function(t){return e.$emit("register")}}},[e._v("Registrarse")])],1):e._e()],1)],1)],1)},ye=[],Pe={name:"login",data:function(){return{overlay:!1,email:"",password:"",show1:!1}},mounted:function(){},methods:{login:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a=e.email,o=e.password,e.overlay=!0,t.prev=3,!e.isOnline){t.next=9;break}return t.next=7,e.loginOnline(a,o);case 7:t.next=11;break;case 9:return t.next=11,e.loginOffline(a,o);case 11:t.next=16;break;case 13:t.prev=13,t.t0=t["catch"](3),e.$swal({icon:"error",text:t.t0.response.data.message,confirmButtonText:"Aceptar"});case 16:e.overlay=!1;case 17:case"end":return t.stop()}}),t,null,[[3,13]])})))()},loginOnline:function(e,t){var a=this;return Object(o["a"])(regeneratorRuntime.mark((function o(){var i,r,n,s,l,c;return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:return o.next=2,a.controlEventoOfflinePorUsuario(e);case 2:if(i=o.sent,i){o.next=5;break}return o.abrupt("return");case 5:return o.next=7,g.loggin({email:e,password:t});case 7:if(r=o.sent,200!==r.status||!("token"in r.data)){o.next=21;break}return n=r.data.token,s=Object(W["a"])(n),l=s.userobj,l.token=n,a.sessionStar(l,n),localStorage.setItem("dataUser",JSON.stringify(l)),c=["login"],p({login:l},c,!0),o.next=19,a.updateSystemData();case 19:o.next=22;break;case 21:a.$swal({icon:"error",text:r.data.message,confirmButtonText:"Aceptar"});case 22:case"end":return o.stop()}}),o)})))()},controlEventoOfflinePorUsuario:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var o,i,r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return o=!0,a.prev=1,a.next=4,m("login",!0);case 4:return i=a.sent,a.next=7,m("newEvent",!1);case 7:r=a.sent,i.email!==e&&Object.keys(r).length>0&&(o=!1,t.$swal({icon:"error",text:"Existen eventos no sincronizados por el usuario "+i.email+" en este dispositivo.",confirmButtonText:"Aceptar"})),a.next=14;break;case 11:a.prev=11,a.t0=a["catch"](1),t.$swal({icon:"error",text:"Error al validar los registros offline.",confirmButtonText:"Aceptar"});case 14:return a.abrupt("return",o);case 15:case"end":return a.stop()}}),a,null,[[1,11]])})))()},loginOffline:function(e,t){var a=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,m("login",!0);case 3:o=t.sent,o.email===e?a.sessionStar(o,""):a.$swal({icon:"error",text:"Los datos de sesión no concuerdan.",confirmButtonText:"Aceptar"}),t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),a.$swal({icon:"error",text:"Error al iniciar sesión en modo offline.",confirmButtonText:"Aceptar"});case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))()},sessionStar:function(e,t){this.$session.start(),this.$session.set("usuario",e.usuario),this.$session.set("email",e.email),this.$session.set("activo",e.activo),this.$session.set("token",t),this.$session.set("id_rol",e.id_rol);var a=this.isOnline?t:e.token;b.a.defaults.params={token:a},this.$root.$emit("logged"),this.$router.push("/home")},updateSystemData:function(){return Object(o["a"])(regeneratorRuntime.mark((function e(){var t,a,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k.getSystemData();case 3:t=e.sent,200===t.status?(a=t.data.message,o=["forestal","pesquero","agricola","pecuario","productor","mapa","encabezado"],p(a,o,!0)):(console.log("error"),console.log(t)),e.next=11;break;case 7:e.prev=7,e.t0=e["catch"](0),console.log("error"),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})))()}}},Ae=Pe,Ee=Object(E["a"])(Ae,we,ye,!1,null,null,null),_e=Ee.exports,Ie=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-row",{attrs:{justify:"center"}},[a("v-dialog",{attrs:{persistent:"","max-width":"700px"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-overlay",{attrs:{value:e.overlay}},[a("v-progress-circular",{attrs:{indeterminate:"",size:"64"}})],1),a("v-card",{staticClass:"border-basic",attrs:{flat:""}},[a("div",{staticStyle:{"text-align":"right"}},[a("v-btn",{staticClass:"color-primary-dark",attrs:{icon:"",dark:""},on:{click:function(t){return e.cerrarModal()}}},[a("v-icon",[e._v("mdi-close-circle")])],1)],1),a("v-card-title",{staticStyle:{display:"inline","text-align":"center"}},[e.updateUser?e._e():a("p",{staticClass:"title-basic subtitle font-weight-bold"},[e._v(" Registro ")]),e.updateUser?a("p",{staticClass:"title-basic subtitle font-weight-bold"},[e._v(" Modificar datos ")]):e._e(),a("center",[a("v-divider",{staticClass:"col-11"})],1)],1),a("v-card-text",[a("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[a("v-container",[a("v-row",{attrs:{dense:""}},[a("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[a("div",{staticClass:"font-weight-light p-content"},[e._v("Nombres")]),a("v-text-field",{attrs:{outlined:"",dense:"",rules:e.nameRules,maxlength:"100",required:""},model:{value:e.firstName,callback:function(t){e.firstName=t},expression:"firstName"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[a("div",{staticClass:"font-weight-light p-content"},[e._v("Apellidos")]),a("v-text-field",{attrs:{outlined:"",dense:"",rules:e.nameRules,maxlength:"100",required:""},model:{value:e.lastName,callback:function(t){e.lastName=t},expression:"lastName"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[a("div",{staticClass:"font-weight-light p-content"},[e._v("No.Documento")]),a("v-text-field",{attrs:{outlined:"",dense:"",rules:e.documentRules,maxlength:"15",required:"",onkeypress:"return (event.charCode >= 48 && event.charCode <= 57)"},model:{value:e.numDocument,callback:function(t){e.numDocument=t},expression:"numDocument"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[a("div",{staticClass:"font-weight-light p-content"},[e._v("Tipo Documento")]),a("v-select",{attrs:{items:e.typeDocuments,"item-value":"valor","item-text":"text",outlined:"",dense:"",solo:"",flat:"",required:""},model:{value:e.typeDocument,callback:function(t){e.typeDocument=t},expression:"typeDocument"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[a("div",{staticClass:"font-weight-light p-content"},[e._v("Institución")]),a("v-text-field",{attrs:{outlined:"",dense:"",rules:e.generalRules,maxlength:"100",required:""},model:{value:e.institution,callback:function(t){e.institution=t},expression:"institution"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[a("div",{staticClass:"font-weight-light p-content"},[e._v("Cargo")]),a("v-text-field",{attrs:{outlined:"",dense:"",rules:e.generalRules,maxlength:"100",required:""},model:{value:e.workCenter,callback:function(t){e.workCenter=t},expression:"workCenter"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[a("div",{staticClass:"font-weight-light p-content"},[e._v("Usuario")]),a("v-text-field",{attrs:{outlined:"",dense:"",rules:e.usuarioRules,required:""},model:{value:e.usuario,callback:function(t){e.usuario=t},expression:"usuario"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[a("div",{staticClass:"font-weight-light p-content"},[e._v("Email")]),a("v-text-field",{attrs:{outlined:"",dense:"",rules:e.emailRules,required:""},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[a("div",{staticClass:"font-weight-light p-content"},[e._v("Contraseña")]),a("v-text-field",{attrs:{outlined:"",type:"password",dense:"",rules:e.passwordRules,required:""},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[a("div",{staticClass:"font-weight-light p-content"},[e._v("Confirmar Contraseña")]),a("v-text-field",{attrs:{outlined:"",type:"password",dense:"",rules:e.passwordRules,required:""},model:{value:e.checkPassword,callback:function(t){e.checkPassword=t},expression:"checkPassword"}})],1),e.updateUser?e._e():a("v-checkbox",{attrs:{label:"AUTORIZO EL TRATAMIENTO DE DATOS PERSONALES."},model:{value:e.tratamientoDatos,callback:function(t){e.tratamientoDatos=t},expression:"tratamientoDatos"}}),e.updateUser?e._e():a("v-row",{staticClass:"my-3",attrs:{"no-gutters":"",align:"center"}})],1),a("v-row",{attrs:{justify:"center"}},[a("v-col",{attrs:{cols:"6",sm:"12",md:"6"}},[e.updateUser?e._e():a("v-btn",{staticClass:"button-basic background-primary",staticStyle:{width:"100%"},on:{click:e.submit}},[e._v("Registrarse")])],1)],1)],1)],1)],1)],1)],1)],1)],1)},Se=[],$e={name:"registro",props:["updateUser"],data:function(){return{dialog:!0,overlay:!1,valid:!0,firstName:"",lastName:"",numDocument:"",email:"",usuario:"",password:"",checkPassword:"",moderador:!1,tratamientoDatos:!1,comentario:"",typeDocuments:[],typeDocument:"",institution:"",workCenter:"",nameRules:[function(e){return!!e||"Campo obligatorio"},function(e){return e&&e.length<=100||"No más de 100 caracteres"},function(e){return e&&e.length>=3||"No menos de 3 caracteres"}],documentRules:[function(e){return!!e||"El número de documento es requerido"},function(e){return e&&e.length<=15||"No más de 15 caracteres"},function(e){return e&&e.length>=3||"No menos de 3 caracteres"}],usuarioRules:[function(e){return!!e||"Campo obligatorio"},function(e){return e&&e.length<=50||"No más de 50 caracteres"}],emailRules:[function(e){return!!e||"Campo obligatorio"},function(e){return/.+@.+\..+/.test(e)||"E-mail no es valido"}],passwordRules:[function(e){return!!e||"Campo obligatorio"},function(e){return e&&e.length>5||"No puede ser menor a 6 caracteres"},function(e){return e&&e.length<16||"No puede ser mayor a 15 caracteres"}],generalRules:[function(e){return!!e||"Campo obligatorio"},function(e){return e&&e.length<100||"No más de 100 caracteres"}],requiredRules:[function(e){return!!e||"Campo obligatorio"}]}},computed:{},mounted:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getData();case 2:case"end":return t.stop()}}),t)})))()},created:function(){},methods:{getData:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a,o,i,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,w.getDataDocumentoType();case 3:if(a=t.sent,200===a.status)for(i in o=a.data.message.documentType,o)r={valor:o[i][0],text:o[i][1],persona:o[i][2]},e.typeDocuments.push(r);else e.$swal({icon:"error",text:"Ocurrio un problema al consultar la información del servidor.",confirmButtonText:"Aceptar"});t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))()},data:function(){var e=this.firstName,t=this.lastName,a=this.numDocument,o=this.email,i=this.usuario,r=this.password,n="S",s=this.checkPassword,l=this.moderador,c=this.country,u=this.comentario,d=this.typeDocument,m=this.institution,p=this.workCenter,v={firstName:e,lastName:t,numDocument:a,email:o,usuario:i,password:r,pascheckPasswordsword:s,active:n,moderador:l,country:c,comentario:u,typeDocument:d,institution:m,workCenter:p};return v},submit:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.$refs.form.validate()){t.next=24;break}if(e.overlay=!0,a=e.data(),a.password===a.pascheckPasswordsword){t.next=6;break}return e.$toasted.error("Verifique su contraseña.",{duration:5e3}),t.abrupt("return");case 6:if(e.tratamientoDatos){t.next=10;break}return e.overlay=!1,e.$swal({icon:"error",text:"Para terminar el proceso debe aceptar el tratamiento de datos.",confirmButtonText:"Aceptar"}),t.abrupt("return");case 10:return t.prev=10,t.next=13,g.createUser({obj:a});case 13:o=t.sent,200===o.status?(e.$emit("login"),e.$swal({icon:"success",text:"Verifique su correo para terminar el proceso de registro.",confirmButtonText:"Aceptar"})):e.$swal({icon:"error",text:o.message,confirmButtonText:"Aceptar"}),e.overlay=!1,t.next=22;break;case 18:t.prev=18,t.t0=t["catch"](10),e.overlay=!1,e.$swal({icon:"error",text:t.t0.response.data.message,confirmButtonText:"Aceptar"});case 22:t.next=25;break;case 24:console.log("Errores en formulario");case 25:case"end":return t.stop()}}),t,null,[[10,18]])})))()},cerrarModal:function(){this.updateUser?this.$emit("home"):this.$emit("login")}}},Te=$e,Me=(a("69c6"),Object(E["a"])(Te,Ie,Se,!1,null,"48d2a872",null)),Re=Me.exports,Fe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-row",{attrs:{justify:"center"}},[a("v-dialog",{attrs:{persistent:"","max-width":"700px"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-card",{attrs:{flat:""}},[a("div",{staticStyle:{"text-align":"right"}},[a("v-btn",{staticClass:"color-primary-dark",attrs:{icon:"",dark:""},on:{click:function(t){return e.$emit("login")}}},[a("v-icon",[e._v("mdi-close-circle")])],1)],1),a("v-card-title",{staticClass:"title-basic font-weight-bold justify-center"},[a("center",[e._v(" ¿HA OLVIDADO SU USUARIO O CONTRASEÑA? ")])],1),a("v-card-text",[a("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[a("v-row",{attrs:{justify:"center","no-gutters":""}},[a("v-col",{attrs:{cols:"8"}},[a("v-text-field",{attrs:{label:"Correo electrónico",outlined:"",dense:"",rules:e.emailRules,required:""},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}})],1)],1),a("v-row",{attrs:{justify:"center","no-gutters":""}},[a("v-col",{attrs:{cols:"8"}},[a("v-btn",{staticClass:"button-basic background-primary",staticStyle:{width:"100%"},attrs:{loading:e.loading,disabled:e.loading},on:{click:e.recoverPassword}},[e._v("ENVIAR")])],1)],1)],1)],1)],1)],1)],1)],1)},De=[],je={name:"recuperarPassword",data:function(){return{dialog:!0,loading:!1,valid:!0,email:"",emailRules:[function(e){return!!e||"E-mail is required"},function(e){return/.+@.+\..+/.test(e)||"E-mail not valid"}]}},methods:{recoverPassword:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.$refs.form.validate()){t.next=16;break}return e.loading=!0,t.prev=2,t.next=5,g.forgotPassword({email:e.email});case 5:a=t.sent,console.log(a),200===a.status?(e.$swal({icon:"success",text:"Correo de recuperación enviado.",confirmButtonText:"Aceptar"}),e.dialog=!1):e.$swal({icon:"error",text:a.message,confirmButtonText:"Aceptar"}),e.loading=!1,t.next=16;break;case 11:t.prev=11,t.t0=t["catch"](2),console.log(t.t0),e.loading=!1,e.$swal({icon:"error",text:t.t0.response.data.message,confirmButtonText:"Aceptar"});case 16:case"end":return t.stop()}}),t,null,[[2,11]])})))()}}},Oe=je,Ne=Object(E["a"])(Oe,Fe,De,!1,null,null,null),ze=Ne.exports,Be=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{staticClass:"mt-5"},[a("v-footer",e._b({attrs:{padless:e.padless,elevation:"2"}},"v-footer",e.localAttrs,!1),[a("v-card",{staticClass:"footer",attrs:{flat:"",tile:"",width:"100%"}},[a("v-card-text",[a("v-row",[a("v-col",{attrs:{cols:"4",sm:"12",md:"4",align:"right"}},[a("v-img",{staticClass:"mt-2",attrs:{"max-height":"200","max-width":"200",src:"/img/fao_azul.png"}})],1),a("v-col",{attrs:{cols:"4",sm:"12",md:"4",align:"center"}},[a("v-img",{attrs:{"max-height":"160","max-width":"160",src:"/img/fao_logo.png"}})],1),a("v-col",{attrs:{cols:"4",sm:"12",md:"4",align:"left"}},[a("v-img",{staticClass:"mt-3",attrs:{"max-height":"200","max-width":"200",src:"/img/logo_minagricultura.png"}})],1)],1)],1)],1)],1)],1)},Ve=[],Ue={name:"footerInicio",data:function(){return{icons:["mdi-home","mdi-email","mdi-calendar","mdi-delete"],padless:!0,variant:"fixed"}},computed:{localAttrs:function(){var e={};return"default"===this.variant?(e.absolute=!1,e.fixed=!1):e[this.variant]=!0,e}}},Le=Ue,Ge=Object(E["a"])(Le,Be,Ve,!1,null,null,null),He=Ge.exports,Je={components:{login:_e,registro:Re,recPassword:ze,footerInicio:He},data:function(){return{tipo:"login"}},computed:{medida:function(){return"registro"===this.tipo?{lg:4,offsetlg:4,md:4,offsetmd:4}:["login","recover"].includes(this.tipo)?{lg:6,md:4,offsetmd:4}:{}},height:function(){switch(this.$vuetify.breakpoint.name){case"xs":return 220;case"sm":return 400;case"md":return 500;case"lg":return 600;case"xl":return 800}return 1200}}},Ke=Je,Ye=Object(E["a"])(Ke,Ce,qe,!1,null,null,null),Qe=Ye.exports,Ze=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-overlay",{attrs:{value:e.loading}},[a("v-progress-circular",{attrs:{indeterminate:"",size:"64"}})],1),a("v-container",[a("v-stepper",{staticClass:"elevation-0",attrs:{"non-linear":"",vertical:e.width},model:{value:e.e6,callback:function(t){e.e6=t},expression:"e6"}},[e.width?e._e():a("v-stepper-header",{staticClass:"elevation-0"},[e._l(e.steps,(function(t,o){return[a("v-stepper-step",{key:o,attrs:{step:o+1,editable:"",complete:t.complete,color:t.color},on:{click:t.method}},[e._v(" "+e._s(t.name)+" ")]),2!==o?a("v-divider"):e._e()]}))],2),a("v-stepper-items",[e.width?a("v-stepper-step",{staticClass:"ma-2 pa-0",attrs:{complete:e.completeProductor,color:e.colorProductor,step:"1",editable:""}},[e._v(" Prouctor "),a("small",[e._v("Información del productor")])]):e._e(),a("v-stepper-content",{staticClass:"ma-0 pa-0",attrs:{step:"1"}},[a("productor",{attrs:{obtenerData:e.onResultadosProductor}})],1),e.width?a("v-stepper-step",{staticClass:"ma-2 pa-0",attrs:{complete:e.completeUbicacion,color:e.colorUbicacion,step:"2",editable:""},on:{click:e.reloadMap}},[e._v(" Ubicación "),a("small",[e._v("Ubicación del evento")])]):e._e(),a("v-stepper-content",{staticClass:"ma-0 pa-0",attrs:{step:"2"}},[a("v-container",{attrs:{fluid:""}},[a("mapaEvento",{attrs:{tipoProductor:e.tipoProductor,obtenerDataMapa:e.onResultadosMapa,reload:e.reload}})],1)],1),e.width?a("v-stepper-step",{staticClass:"ma-2 pa-0",attrs:{step:"3",editable:""}},[e._v(" Sistema ")]):e._e(),a("v-stepper-content",{staticClass:"ma-0 pa-0",attrs:{step:"3"}},[a("v-container",{attrs:{fluid:""}},[a("v-form",{ref:"formEventEncabezado",attrs:{"lazy-validation":""},model:{value:e.valFormEventEnca,callback:function(t){e.valFormEventEnca=t},expression:"valFormEventEnca"}},[a("v-row",{attrs:{dense:""}},[a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-autocomplete",{attrs:{label:"Tipo de evento",items:e.tiposEvento,"item-value":"valor","search-input":e.selEvento.nameTipoEv,dense:"",clearable:"",flat:"",outlined:"",rules:e.rulesEventGeneral,required:""},on:{"update:searchInput":function(t){return e.$set(e.selEvento,"nameTipoEv",t)},"update:search-input":function(t){return e.$set(e.selEvento,"nameTipoEv",t)},change:function(t){return e.cargarSubEventoSegunEvento()}},model:{value:e.selEvento.tipoEv,callback:function(t){e.$set(e.selEvento,"tipoEv",t)},expression:"selEvento.tipoEv"}})],1),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-autocomplete",{attrs:{label:"Tipo de subevento",items:e.relEventoSubEvento,"item-value":"valor","search-input":e.selEvento.nameSubEv,dense:"",clearable:"",flat:"",outlined:"",rules:e.rulesEventGeneral,required:""},on:{"update:searchInput":function(t){return e.$set(e.selEvento,"nameSubEv",t)},"update:search-input":function(t){return e.$set(e.selEvento,"nameSubEv",t)}},model:{value:e.selEvento.subEv,callback:function(t){e.$set(e.selEvento,"subEv",t)},expression:"selEvento.subEv"}})],1),e.tipoEventoCuarentenario?a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-autocomplete",{attrs:{label:"¿Son cuarentenarias?",hint:"¿Son cuarentenarias?",items:e.cuarentenarias,"item-value":"id","item-text":"text",dense:"",clearable:"",flat:"",outlined:"",rules:e.rulesEventGeneral,required:""},model:{value:e.selEvento.cuarentenario,callback:function(t){e.$set(e.selEvento,"cuarentenario",t)},expression:"selEvento.cuarentenario"}})],1):e._e(),e.verEnfermendad?a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-autocomplete",{attrs:{label:"Enfermedades cuarentenarias",hint:"Enfermedades cuarentenarias",items:e.enfermedadCuarente,"item-value":"valor","item-text":"text","search-input":e.selEvento.nameEnfermedadCuarente,dense:"",clearable:"",flat:"",outlined:"",rules:e.rulesEventGeneral,required:""},on:{"update:searchInput":function(t){return e.$set(e.selEvento,"nameEnfermedadCuarente",t)},"update:search-input":function(t){return e.$set(e.selEvento,"nameEnfermedadCuarente",t)}},model:{value:e.selEvento.enfermedadCuarente,callback:function(t){e.$set(e.selEvento,"enfermedadCuarente",t)},expression:"selEvento.enfermedadCuarente"}})],1):e._e(),e.verPlaga?a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-autocomplete",{attrs:{label:"Plagas cuarentenarias",hint:"Plagas cuarentenarias",items:e.plagaCuarente,"item-value":"valor","item-text":"text","search-input":e.selEvento.namePlagaCuarente,dense:"",clearable:"",flat:"",outlined:"",rules:e.rulesEventGeneral,required:""},on:{"update:searchInput":function(t){return e.$set(e.selEvento,"namePlagaCuarente",t)},"update:search-input":function(t){return e.$set(e.selEvento,"namePlagaCuarente",t)}},model:{value:e.selEvento.plagaCuarente,callback:function(t){e.$set(e.selEvento,"plagaCuarente",t)},expression:"selEvento.plagaCuarente"}})],1):e._e(),e.verNombreEnfermedad?a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-text-field",{attrs:{label:"Nombre de la enfermedad",hint:"Nombre de la enfermedad",dense:"",outlined:"",solo:"",flat:"",required:"",rules:e.rulesEventGeneral},model:{value:e.selEvento.nombreEnfermedad,callback:function(t){e.$set(e.selEvento,"nombreEnfermedad",t)},expression:"selEvento.nombreEnfermedad"}})],1):e._e(),e.verNombrePlaga?a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-text-field",{attrs:{label:"Nombre de la plaga",hint:"Nombre de la plaga",dense:"",outlined:"",solo:"",flat:"",required:"",rules:e.rulesEventGeneral},model:{value:e.selEvento.nombrePlaga,callback:function(t){e.$set(e.selEvento,"nombrePlaga",t)},expression:"selEvento.nombrePlaga"}})],1):e._e(),e.verOtroSudEvento?a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-text-field",{attrs:{label:"Nombre del otro subevento",hint:"Nombre del otro subevento",dense:"",outlined:"",solo:"",flat:"",required:"",rules:e.rulesEventGeneral},model:{value:e.selEvento.otroSubEvento,callback:function(t){e.$set(e.selEvento,"otroSubEvento",t)},expression:"selEvento.otroSubEvento"}})],1):e._e(),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-autocomplete",{attrs:{label:"Sistema productivo afectado",items:e.sisProds,"item-value":"valor","item-text":"text",dense:"",outlined:"",multiple:"",clearable:"",required:"",flat:"",rules:e.rulesSelectMulti.select},model:{value:e.selEvento.sisProds,callback:function(t){e.$set(e.selEvento,"sisProds",t)},expression:"selEvento.sisProds"}})],1)],1)],1)],1),e.contForestal?a("forestal",{attrs:{obtenerDataEspecie:e.onResultadosEspecie}}):e._e(),e.contAgro?a("agropecuario",{attrs:{obtenerDataAgro:e.onResultadosAgro,departamento:this.dataMapa.departamento}}):e._e(),e.contPecuario?a("pecuarioAcuicola",{attrs:{obtenerDataPecuaAcui:e.onResultadosPecuario}}):e._e(),e.contApicola?a("apicola",{attrs:{obtenerDataApicola:e.onResultadosApicola}}):e._e(),e.contPesquero?a("pesquero",{attrs:{obtenerDataPesquero:e.onResultadosPesquero}}):e._e(),a("v-row",[a("v-col",{attrs:{cols:"12",md:"9",sm:"12"}}),e.selEvento.validado?e._e():a("v-col",{attrs:{cols:"12",md:"3",sm:"12"}},[a("v-btn",{staticClass:"success button-basic",attrs:{elevation:"2",block:"",title:"Guardar Evento"},on:{click:function(t){return e.guardarEvento()}}},[e._v(" Guardar evento ")])],1)],1)],1)],1)],1)],1)],1)},Xe=[],We=(a("c740"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-container",{attrs:{fluid:""}},[a("v-data-table",{staticClass:"elevation-2",attrs:{headers:e.productoresHeaders,items:e.productores,"item-key":"nombre"},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-toolbar",{staticClass:"border-head-table font-weight-bold",staticStyle:{"background-color":"#F2F2F2"},attrs:{flat:"",height:"10px"}})]},proxy:!0},{key:"item.actions",fn:function(t){var o=t.item;return[a("v-icon",{staticClass:"mr-2",attrs:{small:"",color:"#004884"},on:{click:function(t){return e.editarProductor(o)}}},[e._v(" mdi-pencil ")]),a("v-icon",{attrs:{small:"",color:"#004884"},on:{click:function(t){return e.deleteProductor(o)}}},[e._v(" mdi-delete ")])]}}])}),a("v-row",{staticClass:"mt-2"},[a("v-col",{attrs:{cols:"12",md:"9",sm:"12"}}),a("v-col",{attrs:{cols:"12",md:"3",sm:"12"}},[a("v-btn",{staticClass:"background-primary-dark button-basic",attrs:{elevation:"2",block:""},on:{click:function(t){e.dialog=!0}}},[e._v(" Agregar productor ")])],1)],1),a("v-dialog",{attrs:{persistent:"",overlay:!1,"max-width":"100%",transition:"dialog-transition"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-card",{staticClass:"border-basic",attrs:{flat:""}},[a("div",{staticStyle:{"text-align":"right"}},[a("v-btn",{staticClass:"color-primary-dark",attrs:{icon:"",dark:""},on:{click:e.cerrarModal}},[a("v-icon",[e._v("mdi-close-circle")])],1)],1),a("v-card-title",{attrs:{"primary-title":""}},[a("v-container",{staticClass:"color-primary-dark font-weight-bold"},[a("v-row",{staticClass:"align-center justify-center container-titles",staticStyle:{height:"80px"},attrs:{dense:""}},[a("v-col",{attrs:{cols:"12",md:"12",sm:"12",align:"center",justify:"center"}},[e._v(" Productor ")])],1)],1)],1),a("v-container",[a("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:e.validateForm,callback:function(t){e.validateForm=t},expression:"validateForm"}},[a("v-row",{staticClass:"section",attrs:{dense:""}},[a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-autocomplete",{attrs:{label:"Condición juridica del productor","search-input":e.infoProveedor.nameCondJuridica,items:e.condJuridicas,"item-value":"valor",dense:"",outlined:"",solo:"",clearable:"",flat:"",required:"",rules:e.required},on:{"update:searchInput":function(t){return e.$set(e.infoProveedor,"nameCondJuridica",t)},"update:search-input":function(t){return e.$set(e.infoProveedor,"nameCondJuridica",t)}},model:{value:e.infoProveedor.condJuridica,callback:function(t){e.$set(e.infoProveedor,"condJuridica",t)},expression:"infoProveedor.condJuridica"}})],1),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-text-field",{attrs:{label:e.esEmpresa?"Nombre de la personería jurídica":"Nombres y apellidos",dense:"",outlined:"",solo:"",flat:"",required:"",rules:e.required},model:{value:e.infoProveedor.nombre,callback:function(t){e.$set(e.infoProveedor,"nombre",t)},expression:"infoProveedor.nombre"}})],1),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-autocomplete",{attrs:{label:"Tipo documento","search-input":e.infoProveedor.nameTipoDcto,items:e.compTipoDcto,"item-value":"valor",dense:"",outlined:"",solo:"",flat:"",required:"",clearable:"",rules:e.required},on:{"update:searchInput":function(t){return e.$set(e.infoProveedor,"nameTipoDcto",t)},"update:search-input":function(t){return e.$set(e.infoProveedor,"nameTipoDcto",t)}},model:{value:e.infoProveedor.tipoDcto,callback:function(t){e.$set(e.infoProveedor,"tipoDcto",t)},expression:"infoProveedor.tipoDcto"}})],1),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-text-field",{attrs:{label:"Documento",dense:"",outlined:"",solo:"",flat:"",required:"",onkeypress:e.regexNumber,rules:e.required},model:{value:e.infoProveedor.dcto,callback:function(t){e.$set(e.infoProveedor,"dcto",t)},expression:"infoProveedor.dcto"}})],1),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-text-field",{attrs:{label:"E-mail",hint:"E-mail",dense:"",outlined:"",solo:"",flat:"",required:"",rules:e.emailRules},model:{value:e.infoProveedor.email,callback:function(t){e.$set(e.infoProveedor,"email",t)},expression:"infoProveedor.email"}})],1),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-autocomplete",{attrs:{label:"Tipo de productor","search-input":e.infoProveedor.nameTipoProd,items:e.tiposProd,"item-value":"valor",dense:"",outlined:"",solo:"",flat:"",required:"",rules:e.required,clearable:""},on:{"update:searchInput":function(t){return e.$set(e.infoProveedor,"nameTipoProd",t)},"update:search-input":function(t){return e.$set(e.infoProveedor,"nameTipoProd",t)}},model:{value:e.infoProveedor.tipoProd,callback:function(t){e.$set(e.infoProveedor,"tipoProd",t)},expression:"infoProveedor.tipoProd"}})],1),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-autocomplete",{attrs:{label:"Tipo de relación con el predio","search-input":e.infoProveedor.nameRelPre,items:e.tiposRelPre,"item-value":"valor",dense:"",solo:"",flat:"",outlined:"",required:"",clearable:"",rules:e.required},on:{"update:searchInput":function(t){return e.$set(e.infoProveedor,"nameRelPre",t)},"update:search-input":function(t){return e.$set(e.infoProveedor,"nameRelPre",t)}},model:{value:e.infoProveedor.relPre,callback:function(t){e.$set(e.infoProveedor,"relPre",t)},expression:"infoProveedor.relPre"}})],1),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-text-field",{attrs:{label:"Direccion residencia",dense:"",outlined:"",solo:"",flat:"",required:"",rules:e.required},model:{value:e.infoProveedor.dirRes,callback:function(t){e.$set(e.infoProveedor,"dirRes",t)},expression:"infoProveedor.dirRes"}})],1),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-text-field",{attrs:{label:"Número de teléfono",dense:"",outlined:"",solo:"",flat:"",required:"",rules:e.required},model:{value:e.infoProveedor.tel,callback:function(t){e.$set(e.infoProveedor,"tel",t)},expression:"infoProveedor.tel"}})],1),a("v-col",{attrs:{cols:"12",md:"4"}},[e.esEmpresa?e._e():a("v-autocomplete",{attrs:{label:"sexo","search-input":e.infoProveedor.nameSexo,items:e.listSexo,"item-value":"valor",dense:"",outlined:"",solo:"",flat:"",required:"",clearable:"",rules:e.required},on:{"update:searchInput":function(t){return e.$set(e.infoProveedor,"nameSexo",t)},"update:search-input":function(t){return e.$set(e.infoProveedor,"nameSexo",t)}},model:{value:e.infoProveedor.sexo,callback:function(t){e.$set(e.infoProveedor,"sexo",t)},expression:"infoProveedor.sexo"}})],1),e.esEmpresa?e._e():a("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"auto"},scopedSlots:e._u([{key:"activator",fn:function(t){var o=t.on,i=t.attrs;return[a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-text-field",e._g(e._b({attrs:{label:"Fecha nacimiento",readonly:"",outlined:"",dense:"",solo:"",flat:"",required:"",rules:e.required},model:{value:e.infoProveedor.fechaNac,callback:function(t){e.$set(e.infoProveedor,"fechaNac",t)},expression:"infoProveedor.fechaNac"}},"v-text-field",i,!1),o))],1)]}}],null,!1,3453863532),model:{value:e.mfnac,callback:function(t){e.mfnac=t},expression:"mfnac"}},[a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-date-picker",{attrs:{outlined:""},on:{input:function(t){e.mfnac=!1}},model:{value:e.infoProveedor.fechaNac,callback:function(t){e.$set(e.infoProveedor,"fechaNac",t)},expression:"infoProveedor.fechaNac"}})],1)],1),a("v-col",{attrs:{cols:"12",md:"4"}},[e.esEmpresa?e._e():a("v-autocomplete",{attrs:{label:"Grupo étnico","search-input":e.infoProveedor.nameGEtnico,items:e.gruposEtnicos,"item-value":"valor",dense:"",solo:"",flat:"",outlined:"",required:"",clearable:"",rules:e.required},on:{"update:searchInput":function(t){return e.$set(e.infoProveedor,"nameGEtnico",t)},"update:search-input":function(t){return e.$set(e.infoProveedor,"nameGEtnico",t)}},model:{value:e.infoProveedor.gEtnico,callback:function(t){e.$set(e.infoProveedor,"gEtnico",t)},expression:"infoProveedor.gEtnico"}})],1),a("v-col",{attrs:{cols:"12",md:"12"}},[a("v-checkbox",{attrs:{label:"¿Acepta la política de tratamiento y protección de datos personales?",required:"",rules:e.required},model:{value:e.infoProveedor.tratamientoDatos,callback:function(t){e.$set(e.infoProveedor,"tratamientoDatos",t)},expression:"infoProveedor.tratamientoDatos"}})],1)],1)],1),a("v-row",{staticClass:"mt-2"},[a("v-col",{attrs:{cols:"12",md:"10",sm:"12"}}),a("v-col",{attrs:{cols:"12",md:"2",sm:"12"}},[a("v-btn",{staticClass:"background-primary-dark button-basic",attrs:{elevation:"2",block:""},on:{click:e.addProductor}},[e._v(" Agregar ")])],1)],1)],1)],1)],1)],1)],1)}),et=[],tt=(a("4fad"),{name:"dataProductor",props:["obtenerData"],data:function(){return{e6:3,tab:0,mfnac:!1,infoProveedor:{},condJuridicas:[],tiposDcto:[],listSexo:[],gruposEtnicos:[],tiposProd:[],tiposRelPre:[],validateForm:!0,editedIndex:-1,required:[function(e){return!!e||"Campo requerido"}],regexNumber:"return (event.charCode >= 48 && event.charCode <= 57)",emailRules:[function(e){return!!e||"Campo obligatorio"},function(e){return/.+@.+\..+/.test(e)||"E-mail no es valido"}],dialog:!1,notifications:!1,sound:!0,widgets:!1,expanded:[],productoresHeaders:[{text:"Productor",align:"start",sortable:!1,value:"nombre"},{text:"Condición juridica",align:"start",sortable:!1,value:"nameCondJuridica"},{text:"Tipo documento",align:"start",sortable:!1,value:"nameTipoDcto"},{text:"No.Documento",align:"start",sortable:!1,value:"dcto"},{text:"E-mail",align:"start",sortable:!1,value:"email"},{text:"Tipo",align:"start",sortable:!1,value:"nameTipoProd"},{text:"Relación predio",align:"start",sortable:!1,value:"nameRelPre"},{text:"Dirección",align:"start",sortable:!1,value:"dirRes"},{text:"Teléfono",align:"start",sortable:!1,value:"tel"},{text:"Sexo",align:"start",sortable:!1,value:"nameSexo"},{text:"Nacimiento",align:"start",sortable:!1,value:"fechaNac"},{text:"Acciones",value:"actions",sortable:!1,width:"2%"}],productores:[]}},mounted:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getDataProductor();case 2:e.edicionProductor();case 3:case"end":return t.stop()}}),t)})))()},computed:{width:function(){var e;switch(this.$vuetify.breakpoint.name){case"xs":e=!0;break;case"sm":e=!0;break;case"md":e=!1;break;case"lg":e=!1;break;case"xl":e=!1;break}return e},esEmpresa:function(){return 2===this.infoProveedor.condJuridica},compTipoDcto:function(){return this.esEmpresa?this.tiposDcto.filter((function(e){return"juridica"===e.persona})):this.tiposDcto.filter((function(e){return"natural"===e.persona}))}},methods:{cerrarModal:function(){this.dialog=!1},edicionProductor:function(){var e=this.$route.params.evento;void 0!==e&&e.dataProductor.length>0&&(this.productores=e.dataProductor)},addProductor:function(){if(console.log(this.infoProveedor),this.$refs.form.validate()){if(0===Object.entries(this.infoProveedor).length)return;this.editedIndex>-1?Object.assign(this.productores[this.editedIndex],this.infoProveedor):this.productores.push(this.infoProveedor),this.infoProveedor={},this.obtenerData(this.productores),this.dialog=!1,this.editedIndex=-1}},deleteProductor:function(e){var t=this;this.$swal({title:"Confirmación",text:"Eliminar productor?",icon:"warning",showCancelButton:!0,confirmButtonText:"Confirmar",cancelButtonText:"Cancelar",showCloseButton:!0,showLoaderOnConfirm:!0}).then((function(a){if(a.value){var o=t.productores.indexOf(e);t.productores.splice(o,1),t.obtenerData(t.productores)}}))},editarProductor:function(e){this.editedIndex=this.productores.indexOf(e),this.infoProveedor=Object.assign({},e),this.dialog=!0},getDataProductor:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a,o,i,r,n,s,l,c,u,d,p,v,f;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,m("productor",!0);case 3:for(o in a=t.sent,a.tiposDocumento)i={valor:a.tiposDocumento[o][0],text:a.tiposDocumento[o][1],persona:a.tiposDocumento[o][2]},e.tiposDcto.push(i);for(r in a.condicionJuridica)n={valor:a.condicionJuridica[r][0],text:a.condicionJuridica[r][1]},e.condJuridicas.push(n);for(s in a.sexo)l={valor:a.sexo[s][0],text:a.sexo[s][1]},e.listSexo.push(l);for(c in a.gruposEtnicos)u={valor:a.gruposEtnicos[c][0],text:a.gruposEtnicos[c][1]},e.gruposEtnicos.push(u);for(d in a.tipoProductor)p={valor:a.tipoProductor[d][0],text:a.tipoProductor[d][1]},e.tiposProd.push(p);for(v in a.tipoRelacionPredio)f={valor:a.tipoRelacionPredio[v][0],text:a.tipoRelacionPredio[v][1]},e.tiposRelPre.push(f);t.next=15;break;case 12:t.prev=12,t.t0=t["catch"](0),console.log(t.t0);case 15:case"end":return t.stop()}}),t,null,[[0,12]])})))()}}}),at=tt,ot=Object(E["a"])(at,We,et,!1,null,null,null),it=ot.exports,rt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-data-table",{staticClass:"elevation-2",attrs:{headers:e.especiesHeaders,items:e.especies},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-toolbar",{staticClass:"background-primary-dropdowns border-head-table font-weight-bold",attrs:{flat:""}},[a("span",{staticClass:"mr-2"},[e._v("Sistema forestal")]),a("v-btn",{staticClass:" background-primary-dark",attrs:{elevation:"2",fab:"",dark:"",small:""},on:{click:function(t){e.dialog=!0}}},[a("v-icon",[e._v("mdi-plus")])],1)],1)]},proxy:!0},{key:"item.actions",fn:function(t){var o=t.item;return[a("v-icon",{attrs:{small:"",color:"#004884"},on:{click:function(t){return e.editarEspecie(o)}}},[e._v(" mdi-pencil ")]),a("v-icon",{attrs:{small:"",color:"#004884"},on:{click:function(t){return e.deleteEspecie(o)}}},[e._v(" mdi-delete ")])]}}])})],1)],1)],1),a("v-container",[a("v-dialog",{attrs:{persistent:"",overlay:!1,"max-width":"100%",transition:"dialog-transition"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-card",{staticClass:"border-basic",attrs:{flat:""}},[a("div",{staticStyle:{"text-align":"right"}},[a("v-btn",{staticClass:"color-primary-dark",attrs:{icon:"",dark:""},on:{click:e.cerrarModal}},[a("v-icon",[e._v("mdi-close-circle")])],1)],1),a("v-card-title",{attrs:{"primary-title":""}},[a("v-container",{staticClass:"color-primary-dark font-weight-bold"},[a("v-row",{staticClass:"align-center justify-center container-titles",staticStyle:{height:"80px"},attrs:{dense:""}},[a("v-col",{attrs:{cols:"12",md:"12",sm:"12"}},[a("center",[e._v("Sistema forestal")])],1)],1)],1)],1),a("v-card-text",[a("v-container",[a("v-form",{ref:"formSectionOne",attrs:{"lazy-validation":""},model:{value:e.validSectionOne,callback:function(t){e.validSectionOne=t},expression:"validSectionOne"}},[a("v-row",{staticClass:"section",attrs:{dense:""}},[a("v-col",{staticClass:"mt-3",attrs:{cols:"12",md:"4",sm:"12"}},[a("v-autocomplete",{attrs:{label:"Fase productiva",hint:"Fase productiva",items:e.fasesProd,"search-input":e.esp.nameFaseProd,"item-value":"valor","item-text":"text",dense:"",solo:"",flat:"",outlined:"",filled:"",clearable:"","prepend-inner-icon":"mdi-decagram","rules.required":"",rules:e.rules.required},on:{"update:searchInput":function(t){return e.$set(e.esp,"nameFaseProd",t)},"update:search-input":function(t){return e.$set(e.esp,"nameFaseProd",t)}},model:{value:e.esp.faseProd,callback:function(t){e.$set(e.esp,"faseProd",t)},expression:"esp.faseProd"}})],1),a("v-col",{staticClass:"mt-3",attrs:{cols:"12",md:"4",sm:"12"}},[a("v-autocomplete",{attrs:{label:"Especie forestal afectada",hint:"Especie forestal afectada",items:e.espForestales,"search-input":e.esp.nameEspAfectada,"item-value":"valor","item-text":"text",dense:"",solo:"",flat:"",outlined:"",filled:"",clearable:"","prepend-inner-icon":"mdi-decagram","rules.required":"",rules:e.rules.required},on:{"update:searchInput":function(t){return e.$set(e.esp,"nameEspAfectada",t)},"update:search-input":function(t){return e.$set(e.esp,"nameEspAfectada",t)}},model:{value:e.esp.espAfectada,callback:function(t){e.$set(e.esp,"espAfectada",t)},expression:"esp.espAfectada"}})],1),a("v-col",{staticClass:"mt-3",attrs:{cols:"12",md:"4",sm:"12"}},[a("v-text-field",{attrs:{label:"Nombre común",hint:"Nombre común",dense:"",solo:"",flat:"",outlined:"",filled:"","prepend-inner-icon":"mdi-decagram","rules.required":"",rules:e.rules.required},model:{value:e.esp.nombre,callback:function(t){e.$set(e.esp,"nombre",t)},expression:"esp.nombre"}})],1),a("v-col",{attrs:{cols:"12",md:"4",sm:"12"}},[a("v-autocomplete",{attrs:{label:"Objetivo de plantación",hint:"Objetivo de plantación",items:e.espObjetivos,"search-input":e.esp.nameObjetivo,"item-value":"valor","item-text":"text",dense:"",solo:"",flat:"",outlined:"",filled:"",clearable:"","prepend-inner-icon":"mdi-decagram","rules.required":"",rules:e.rules.required},on:{"update:searchInput":function(t){return e.$set(e.esp,"nameObjetivo",t)},"update:search-input":function(t){return e.$set(e.esp,"nameObjetivo",t)}},model:{value:e.esp.objetivo,callback:function(t){e.$set(e.esp,"objetivo",t)},expression:"esp.objetivo"}})],1)],1),e.verDatosAdicionalesObjetivo?a("v-row",{staticClass:"section mt-5",attrs:{dense:""}},[a("v-col",{attrs:{cols:"12",md:"12",sm:"12"}},[a("p",{staticClass:"color-black font-weight-bold"},[e._v("Datos adicionales al objetivo")])]),a("v-col",{attrs:{cols:"12",md:"4",sm:"12"}},[a("v-text-field",{attrs:{label:"No.arboles antes de la afectación",hint:"No.arboles antes de la afectación",type:"number",dense:"",solo:"",flat:"",outlined:"",filled:"","prepend-inner-icon":"mdi-decagram","rules.required":"",rules:e.rules.required,onkeypress:e.rules.regexNumber},model:{value:e.esp.noArbolesAntesAfectacion,callback:function(t){e.$set(e.esp,"noArbolesAntesAfectacion",t)},expression:"esp.noArbolesAntesAfectacion"}})],1),a("v-col",{attrs:{cols:"12",md:"4",sm:"12"}},[a("v-text-field",{attrs:{label:"No.entresacas o raleos a la fecha",hint:"No.entresacas o raleos a la fecha",type:"number",dense:"",solo:"",flat:"",outlined:"",filled:"","prepend-inner-icon":"mdi-decagram","rules.required":"",rules:e.rules.required,onkeypress:e.rules.regexNumber},model:{value:e.esp.noEntresacas,callback:function(t){e.$set(e.esp,"noEntresacas",t)},expression:"esp.noEntresacas"}})],1),a("v-col",{attrs:{cols:"12",md:"4",sm:"12"}},[a("v-text-field",{attrs:{label:"Valor entresacas",hint:"Valor entresacas",dense:"",solo:"",flat:"",outlined:"",filled:"","append-icon":"mdi-currency-usd","prepend-inner-icon":"mdi-decagram","rules.required":"",rules:e.rules.required,onkeypress:e.rules.regexNumber},on:{blur:function(t){return e.formatCurrency("esp","valEntreSacas")}},model:{value:e.esp.valEntreSacas,callback:function(t){e.$set(e.esp,"valEntreSacas",t)},expression:"esp.valEntreSacas"}})],1),a("v-col",{attrs:{cols:"12",md:"4",sm:"12"}},[a("v-text-field",{attrs:{label:"Porcentaje entresacas",hint:"Porcentaje entresacas",type:"number",dense:"",solo:"",flat:"",outlined:"",filled:"","prepend-inner-icon":"mdi-decagram","rules.required":"",rules:e.rules.required,onkeypress:e.rules.regexNumber},model:{value:e.esp.porceEntreSacas,callback:function(t){e.$set(e.esp,"porceEntreSacas",t)},expression:"esp.porceEntreSacas"}})],1),a("v-col",{attrs:{cols:"12",md:"4",sm:"12"}},[a("v-text-field",{attrs:{label:"Diámetro promedio a la altura del pecho (m)",hint:"Diámetro promedio a la altura del pecho (m)",type:"number",dense:"",solo:"",flat:"",outlined:"",filled:"","prepend-inner-icon":"mdi-decagram","rules.required":"",rules:e.rules.required,onkeypress:e.rules.regexNumber},model:{value:e.esp.diametroPromedio,callback:function(t){e.$set(e.esp,"diametroPromedio",t)},expression:"esp.diametroPromedio"}})],1),a("v-col",{attrs:{cols:"12",md:"4",sm:"12"}},[a("v-text-field",{attrs:{label:"Altura comercial (altura aprovechable del arbol)",hint:"Altura comercial (altura aprovechable del arbol)",type:"number",dense:"",solo:"",flat:"",outlined:"",filled:"","prepend-inner-icon":"mdi-decagram","rules.required":"",rules:e.rules.required,onkeypress:e.rules.regexNumber,title:"Es la altura aprovechable del arbol"},model:{value:e.esp.alturaComercial,callback:function(t){e.$set(e.esp,"alturaComercial",t)},expression:"esp.alturaComercial"}})],1),a("v-col",{attrs:{cols:"12",md:"4",sm:"12"}},[a("v-text-field",{attrs:{label:"Altura total",hint:"Altura total",type:"number",dense:"",solo:"",flat:"",outlined:"",filled:"","prepend-inner-icon":"mdi-decagram","rules.required":"",rules:e.rules.required,onkeypress:e.rules.regexNumber,title:"Es la altura de la base a la parte superior de la copa"},model:{value:e.esp.alturaTotal,callback:function(t){e.$set(e.esp,"alturaTotal",t)},expression:"esp.alturaTotal"}})],1),a("v-col",{attrs:{cols:"12",md:"4",sm:"12"}},[a("v-text-field",{attrs:{label:"Turno de plantación en años",hint:"Turno de plantación en años",dense:"",solo:"",flat:"",outlined:"",filled:"","prepend-inner-icon":"mdi-decagram","rules.required":"",rules:e.rules.required,onkeypress:e.rules.regexNumber},model:{value:e.esp.plantacionAnos,callback:function(t){e.$set(e.esp,"plantacionAnos",t)},expression:"esp.plantacionAnos"}})],1),a("v-col",{attrs:{cols:"12",md:"4",sm:"12"}},[a("v-text-field",{attrs:{label:"Porcentaje de árboles al finalizar el turno",hint:"Porcentaje de árboles al finalizar el turno",type:"number",dense:"",solo:"",flat:"",outlined:"",filled:"","prepend-inner-icon":"mdi-decagram","rules.required":"",rules:e.rules.required,onkeypress:e.rules.regexNumber},model:{value:e.esp.porceArbolesTurnoFinal,callback:function(t){e.$set(e.esp,"porceArbolesTurnoFinal",t)},expression:"esp.porceArbolesTurnoFinal"}})],1)],1):e._e(),a("v-row",{staticClass:"section mt-5",attrs:{dense:""}},[a("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"auto"},scopedSlots:e._u([{key:"activator",fn:function(t){var o=t.on,i=t.attrs;return[a("v-col",{staticClass:"mt-3",attrs:{cols:"12",md:"4",sm:"12"}},[a("v-text-field",e._g(e._b({attrs:{label:"Fecha establecimiento",hint:"Fecha establecimiento",readonly:"",dense:"",solo:"",flat:"",outlined:"",filled:""},model:{value:e.esp.fecha,callback:function(t){e.$set(e.esp,"fecha",t)},expression:"esp.fecha"}},"v-text-field",i,!1),o))],1)]}}]),model:{value:e.esp.menuFecha,callback:function(t){e.$set(e.esp,"menuFecha",t)},expression:"esp.menuFecha"}},[a("v-col",{attrs:{cols:"12",md:"4",sm:"12"}},[a("v-date-picker",{attrs:{outlined:""},on:{input:function(t){e.esp.menuFecha=!1}},model:{value:e.esp.fecha,callback:function(t){e.$set(e.esp,"fecha",t)},expression:"esp.fecha"}})],1)],1),a("v-col",{staticClass:"mt-3",attrs:{cols:"12",md:"4",sm:"12"}},[a("v-text-field",{attrs:{label:"Densidad siembra/hectarea",hint:"Densidad siembra/hectarea",dense:"",solo:"",flat:"",outlined:"",filledf:""},model:{value:e.esp.densHectarea,callback:function(t){e.$set(e.esp,"densHectarea",t)},expression:"esp.densHectarea"}})],1),a("v-col",{staticClass:"mt-3",attrs:{cols:"12",md:"4",sm:"12"}},[a("v-text-field",{attrs:{label:"Área sembrada/hectarea",hint:"Área sembrada/hectarea",dense:"",solo:"",flat:"",outlined:"",filled:""},model:{value:e.esp.areaSembrada,callback:function(t){e.$set(e.esp,"areaSembrada",t)},expression:"esp.areaSembrada"}})],1)],1),a("v-row",{staticClass:"section mt-5",attrs:{dense:""}},[a("v-col",{attrs:{cols:"12",md:"12",sm:"12"}},[a("p",{staticClass:"color-black font-weight-bold"},[e._v("Afectación")])]),a("v-col",{attrs:{cols:"12",md:"4",sm:"12"}},[a("v-text-field",{attrs:{label:"Área afectada en Hectareas",hint:"Área afectada en Hectareas",type:"number",dense:"",solo:"",flat:"",outlined:"",filled:"",onkeypress:e.rules.regexNumber},model:{value:e.esp.areaAfectadaHectareas,callback:function(t){e.$set(e.esp,"areaAfectadaHectareas",t)},expression:"esp.areaAfectadaHectareas"}})],1),a("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"auto"},scopedSlots:e._u([{key:"activator",fn:function(t){var o=t.on,i=t.attrs;return[a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-text-field",e._g(e._b({attrs:{label:"Fecha en el cual empezó a afectar el sistema forestal",hint:"Fecha en el cual empezó a afectar el sistema forestal",readonly:"",dense:"",solo:"",flat:"",outlined:"",filled:""},model:{value:e.esp.fechaAfactaForestal,callback:function(t){e.$set(e.esp,"fechaAfactaForestal",t)},expression:"esp.fechaAfactaForestal"}},"v-text-field",i,!1),o))],1)]}}]),model:{value:e.esp.menuFechaAfactaForestal,callback:function(t){e.$set(e.esp,"menuFechaAfactaForestal",t)},expression:"esp.menuFechaAfactaForestal"}},[a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-date-picker",{attrs:{outlined:""},on:{input:function(t){e.esp.menuFechaAfactaForestal=!1}},model:{value:e.esp.fechaAfactaForestal,callback:function(t){e.$set(e.esp,"fechaAfactaForestal",t)},expression:"esp.fechaAfactaForestal"}})],1)],1),a("v-col",{attrs:{cols:"12",md:"4",sm:"12"}},[a("v-text-field",{attrs:{label:"Tiempo en días que afectó el sistema forestal",hint:"Tiempo en días que afectó el sistema forestal",type:"number",dense:"",solo:"",flat:"",outlined:"",filled:"",onkeypress:e.rules.regexNumber},model:{value:e.esp.diasAfectoSistemaForestal,callback:function(t){e.$set(e.esp,"diasAfectoSistemaForestal",t)},expression:"esp.diasAfectoSistemaForestal"}})],1),a("v-col",{attrs:{cols:"12",md:"4",sm:"12"}},[a("v-text-field",{attrs:{label:"Número de árboles afectados",hint:"Número de árboles afectados",type:"number",dense:"",solo:"",flat:"",outlined:"",filled:"",onkeypress:e.rules.regexNumber},model:{value:e.esp.noArbolesAfectados,callback:function(t){e.$set(e.esp,"noArbolesAfectados",t)},expression:"esp.noArbolesAfectados"}})],1),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-text-field",{attrs:{label:"Valor que esperaba recibir al vender la producción afectada",hint:"Valor que esperaba recibir al vender la producción afectada",dense:"",solo:"",flat:"",outlined:"",filled:"","append-icon":"mdi-currency-usd",onkeypress:e.rules.regexNumber},on:{blur:function(t){return e.formatCurrency("esp","valorVenderProduccionAfectada")}},model:{value:e.esp.valorVenderProduccionAfectada,callback:function(t){e.$set(e.esp,"valorVenderProduccionAfectada",t)},expression:"esp.valorVenderProduccionAfectada"}})],1),e.verVolumenMadera?a("v-col",{attrs:{cols:"12",md:"4",sm:"12"}},[a("v-text-field",{attrs:{label:"Volumen de madera afectado",hint:"Volumen de madera afectado",type:"number",dense:"",solo:"",flat:"",outlined:"",filled:"","prepend-inner-icon":"mdi-decagram","rules.required":"",rules:e.rules.required,onkeypress:e.rules.regexNumber},model:{value:e.esp.vlMaderaAfectado,callback:function(t){e.$set(e.esp,"vlMaderaAfectado",t)},expression:"esp.vlMaderaAfectado"}})],1):e._e()],1)],1),a("v-row",{staticClass:"section mt-5",attrs:{dense:""}},[a("v-col",{attrs:{cols:"12",md:"8",sm:"12"}},[a("v-switch",{staticClass:"ma-2",attrs:{inset:"",label:"Afectaciones en maquinaria, equipo, insumos y herramienta actividad forestal"},on:{click:e.estadoAfectacion},model:{value:e.esp.afectacionesEnMaquinaria,callback:function(t){e.$set(e.esp,"afectacionesEnMaquinaria",t)},expression:"esp.afectacionesEnMaquinaria"}})],1),e.esp.afectacionesEnMaquinaria?a("v-col",{attrs:{cols:"12",md:"6",sm:"10"}},[a("v-autocomplete",{attrs:{label:"Tipo infraestructura",hint:"Tipo infraestructura",items:e.tipoInfraestructura,"item-value":"valor","item-text":"text","search-input":e.nombreMaquinariaSelect,dense:"",solo:"",flat:"",outlined:"",filled:"",clearable:""},on:{"update:searchInput":function(t){e.nombreMaquinariaSelect=t},"update:search-input":function(t){e.nombreMaquinariaSelect=t},change:function(t){return e.mostrarTipoInfraestructura()}},model:{value:e.idTipoInfraestructura,callback:function(t){e.idTipoInfraestructura=t},expression:"idTipoInfraestructura"}})],1):e._e(),e.esp.afectacionesEnMaquinaria?a("v-col",{attrs:{cols:"12",md:"2",sm:"2"}},[a("v-btn",{staticClass:"mx-2 background-primary-dark",attrs:{fab:"",dark:"",small:""},on:{click:e.addInfraestructura}},[a("v-icon",{attrs:{dark:""}},[e._v("mdi-plus")])],1)],1):e._e()],1),e.esp.afectacionesEnMaquinaria?a("v-row",{staticClass:"section mt-5",attrs:{dense:""}},[e.semillasadd.length>0?a("v-col",{attrs:{cols:"12",sm:"12",md:"6"}},[a("p",{staticClass:"color-black font-weight-bold",attrs:{align:"center",justify:"center"}},[e._v("Semilla")]),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.semillasHeaders,items:e.semillasadd},scopedSlots:e._u([{key:"top",fn:function(){},proxy:!0},{key:"item.actions",fn:function(t){var o=t.item;return[a("v-icon",{attrs:{small:""},on:{click:function(t){return e.deleteSemilla(o)}}},[e._v(" mdi-delete ")])]}}],null,!1,3022107683)})],1):e._e(),e.fertilizanteadd.length>0?a("v-col",{attrs:{cols:"12",sm:"12",md:"6"}},[a("p",{staticClass:"color-black font-weight-bold",attrs:{align:"center",justify:"center"}},[e._v("Fertilizante")]),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.fertilizanteHeaders,items:e.fertilizanteadd},scopedSlots:e._u([{key:"top",fn:function(){},proxy:!0},{key:"item.actions",fn:function(t){var o=t.item;return[a("v-icon",{attrs:{small:""},on:{click:function(t){return e.deleteFertilizante(o)}}},[e._v(" mdi-delete ")])]}}],null,!1,3412113501)})],1):e._e(),e.plaguicidadadd.length>0?a("v-col",{attrs:{cols:"12",sm:"12",md:"6"}},[a("p",{staticClass:"color-black font-weight-bold",attrs:{align:"center",justify:"center"}},[e._v("Plaguicida")]),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.plaguicidaHeaders,items:e.plaguicidadadd},scopedSlots:e._u([{key:"top",fn:function(){},proxy:!0},{key:"item.actions",fn:function(t){var o=t.item;return[a("v-icon",{attrs:{small:""},on:{click:function(t){return e.deletePlaguicida(o)}}},[e._v(" mdi-delete ")])]}}],null,!1,3672467481)})],1):e._e(),e.maquinariaadd.length>0?a("v-col",{attrs:{cols:"12",sm:"12",md:"6"}},[a("p",{staticClass:"color-black font-weight-bold",attrs:{align:"center",justify:"center"}},[e._v("Maquinaria")]),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.maquinariaHeaders,items:e.maquinariaadd},scopedSlots:e._u([{key:"top",fn:function(){},proxy:!0},{key:"item.actions",fn:function(t){var o=t.item;return[a("v-icon",{attrs:{small:""},on:{click:function(t){return e.deleteMaquinaria(o)}}},[e._v(" mdi-delete ")])]}}],null,!1,3420571076)})],1):e._e()],1):e._e(),a("v-row",{staticClass:"mt-5",attrs:{dense:""}},[a("v-col",{staticClass:"container-titles mt-5",attrs:{cols:"12",md:"12",sm:"12",align:"center",justify:"center"}},[a("p",{staticClass:"color-black font-weight-bold font-16"},[e._v("Costos de producción forestal")])])],1),a("v-form",{ref:"formCostoDirecto",attrs:{"lazy-validation":""},model:{value:e.validCostoDirecto,callback:function(t){e.validCostoDirecto=t},expression:"validCostoDirecto"}},[a("v-row",{staticClass:"section mt-5",attrs:{dense:""}},[a("v-col",{attrs:{cols:"12",md:"12",sm:"12"}},[a("p",{staticClass:"color-black font-weight-bold"},[e._v("Costos Directos")])]),a("v-col",{attrs:{cols:"12",md:"6",sm:"12"}},[a("v-select",{attrs:{label:"Actividad",hint:"Actividad",items:e.actividades,"item-value":"valor","item-text":"text",dense:"",solo:"",flat:"",outlined:"",filled:"",clearable:"",rules:e.rules.required},model:{value:e.esp.actividad,callback:function(t){e.$set(e.esp,"actividad",t)},expression:"esp.actividad"}})],1),a("v-col",{attrs:{cols:"12",md:"6",sm:"12"}},[a("v-text-field",{attrs:{label:"Costo generado en pesos colombianos",hint:"Costo generado en pesos colombianos",dense:"",solo:"",flat:"",outlined:"",filled:"",rules:e.rules.required,onkeypress:e.rules.regexNumber},on:{blur:function(t){return e.formatCurrency("esp","costoGenerado")}},model:{value:e.esp.costoGenerado,callback:function(t){e.$set(e.esp,"costoGenerado",t)},expression:"esp.costoGenerado"}})],1),a("v-col",{attrs:{cols:"12",md:"9",sm:"12"}}),a("v-col",{attrs:{cols:"12",sm:"12",md:"3"}},[a("v-btn",{staticClass:"background-primary-dark button-basic",attrs:{elevation:"2",block:"",raised:"",depressed:""},on:{click:e.addCostoDirecto}},[e._v("Agregar costo")])],1),a("v-data-table",{staticClass:"elevation-1",staticStyle:{width:"100%"},attrs:{headers:e.costosDirectosHeader,items:e.itemsCostosDirectos},scopedSlots:e._u([{key:"top",fn:function(){},proxy:!0},{key:"item.actions",fn:function(t){var o=t.item;return[a("v-icon",{attrs:{small:""},on:{click:function(t){return e.deleteCostoDirecto(o)}}},[e._v(" mdi-delete ")])]}}])})],1)],1),a("v-form",{ref:"formCostoInDirecto",attrs:{"lazy-validation":""},model:{value:e.validCostoInDirecto,callback:function(t){e.validCostoInDirecto=t},expression:"validCostoInDirecto"}},[a("v-row",{staticClass:"section mt-5",attrs:{dense:""}},[a("v-col",{attrs:{cols:"12",md:"12",sm:"12"}},[a("p",{staticClass:"color-black font-weight-bold"},[e._v("Costos Indirectos")])]),a("v-col",{attrs:{cols:"12",md:"6",sm:"12"}},[a("v-select",{attrs:{label:"Rubro",hint:"Rubro",items:e.rubros,"item-value":"valor","item-text":"text",dense:"",solo:"",flat:"",outlined:"",filled:"",clearable:"",rules:e.rules.required},model:{value:e.esp.rubrosIndirectos,callback:function(t){e.$set(e.esp,"rubrosIndirectos",t)},expression:"esp.rubrosIndirectos"}})],1),a("v-col",{attrs:{cols:"12",md:"6",sm:"12"}},[a("v-text-field",{attrs:{label:"Costo generado en pesos colombianos",hint:"Costo generado en pesos colombianos",dense:"",solo:"",flat:"",outlined:"",filled:"",rules:e.rules.required,onkeypress:e.rules.regexNumber},on:{blur:function(t){return e.formatCurrency("esp","costoGeneradoIndirecto")}},model:{value:e.esp.costoGeneradoIndirecto,callback:function(t){e.$set(e.esp,"costoGeneradoIndirecto",t)},expression:"esp.costoGeneradoIndirecto"}})],1),a("v-col",{attrs:{cols:"12",md:"9",sm:"12"}}),a("v-col",{attrs:{cols:"12",sm:"12",md:"3"}},[a("v-btn",{staticClass:"background-primary-dark button-basic",attrs:{elevation:"2",block:"",raised:"",depressed:""},on:{click:e.addCostoIndirecto}},[e._v("Agregar costo")])],1),a("v-data-table",{staticClass:"elevation-1",staticStyle:{width:"100%"},attrs:{headers:e.costosIndirectosHeader,items:e.itemsCostosIndirectos},scopedSlots:e._u([{key:"top",fn:function(){},proxy:!0},{key:"item.actions",fn:function(t){var o=t.item;return[a("v-icon",{attrs:{small:""},on:{click:function(t){return e.deleteCostoIndirecto(o)}}},[e._v(" mdi-delete ")])]}}])})],1)],1),a("v-row",{staticClass:"mt-5"},[a("v-col",{attrs:{cols:"12",md:"9",sm:"12"}}),a("v-col",{attrs:{cols:"12",md:"3",sm:"12"}},[a("v-btn",{staticClass:"success button-basic",attrs:{elevation:"2",block:"",raised:"",depressed:""},on:{click:function(t){return e.addEspecie()}}},[e._v(" Guardar sistema ")])],1)],1)],1)],1)],1)],1)],1),a("v-container",[a("v-dialog",{attrs:{persistent:"","max-width":"80%"},model:{value:e.modalMaquinaria,callback:function(t){e.modalMaquinaria=t},expression:"modalMaquinaria"}},[a("v-card",{staticClass:"border-basic",attrs:{flat:""}},[a("div",{staticStyle:{"text-align":"right"}},[a("v-btn",{staticClass:"color-primary-dark",attrs:{icon:"",dark:""},on:{click:function(t){e.modalMaquinaria=!1}}},[a("v-icon",[e._v("mdi-close-circle")])],1)],1),a("v-card-title",{attrs:{"primary-title":""}},[a("v-container",{staticClass:"color-primary-dark font-weight-bold"},[a("v-row",{staticClass:"align-center justify-center container-titles",staticStyle:{height:"80px"},attrs:{dense:""}},[a("v-col",{attrs:{cols:"12",md:"12",sm:"12"}},[a("center",[e._v(e._s(e.nombreMaquinariaSelect))])],1)],1)],1)],1),a("v-card-text",[a("v-form",{ref:"formInfraestructura",attrs:{"lazy-validation":""},model:{value:e.validInfraestructura,callback:function(t){e.validInfraestructura=t},expression:"validInfraestructura"}},[e.verCamposSemilla?a("v-container",[a("v-row",{staticClass:"section",attrs:{dense:""}},[a("v-col",{attrs:{cols:"12",sm:"12",md:"12"}}),a("v-col",{attrs:{cols:"12",md:"4",sm:"12"}},[a("v-autocomplete",{attrs:{label:"Especie forestal afectada",hint:"Especie forestal afectada",items:e.espForestales,"search-input":e.semilla.especieSemilla,"item-value":"valor","item-text":"text",dense:"",solo:"",flat:"",outlined:"",filled:"",clearable:"","prepend-inner-icon":"mdi-decagram","rules.required":"",rules:e.rules.required},on:{"update:searchInput":function(t){return e.$set(e.semilla,"especieSemilla",t)},"update:search-input":function(t){return e.$set(e.semilla,"especieSemilla",t)}},model:{value:e.semilla.espAfectada,callback:function(t){e.$set(e.semilla,"espAfectada",t)},expression:"semilla.espAfectada"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-autocomplete",{attrs:{label:"Lotes de propagación",hint:"Lotes de propagación",items:e.lotePropagacionSemilla,"item-value":"valor","item-text":"text","search-input":e.semilla.nameLotePropagacion,dense:"",solo:"",flat:"",clearable:"",outlined:"",filled:"","prepend-inner-icon":"mdi-decagram",required:"",rules:e.rules.required},on:{"update:searchInput":function(t){return e.$set(e.semilla,"nameLotePropagacion",t)},"update:search-input":function(t){return e.$set(e.semilla,"nameLotePropagacion",t)}},model:{value:e.semilla.idLotePropagacion,callback:function(t){e.$set(e.semilla,"idLotePropagacion",t)},expression:"semilla.idLotePropagacion"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"Cantidad de semilla almacenada",hint:"Cantidad de semilla almacenada",type:"number",dense:"",solo:"",flat:"",outlined:"",filled:"",onkeypress:e.rules.regexNumber,"prepend-inner-icon":"mdi-decagram",required:"",rules:e.rules.required},model:{value:e.semilla.canSemillas,callback:function(t){e.$set(e.semilla,"canSemillas",t)},expression:"semilla.canSemillas"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"Valor en pesos de la afectación",hint:"Valor en pesos de la afectación",dense:"",solo:"",flat:"",outlined:"","append-icon":"mdi-currency-usd",filled:"",onkeypress:e.rules.regexNumber,"prepend-inner-icon":"mdi-decagram",required:"",rules:e.rules.required},on:{blur:function(t){return e.formatCurrency("semilla","valPesos")}},model:{value:e.semilla.valPesos,callback:function(t){e.$set(e.semilla,"valPesos",t)},expression:"semilla.valPesos"}})],1)],1),a("v-row",{staticClass:"section mt-5",attrs:{dense:""}},[a("v-col",{attrs:{cols:"12",md:"12",sm:"12"}},[a("p",{staticClass:"color-black font-weight-bold"},[e._v("Material de la siembra")])]),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-autocomplete",{attrs:{label:"¿Qué tipo de material utilizó para la siembra?",hint:"¿Qué tipo de material utilizó para la siembra?",items:e.tipoSemilla,"item-value":"valor","item-text":"text","search-input":e.semilla.nameTipoSemilla,dense:"",solo:"",flat:"",clearable:"",outlined:"",filled:"","prepend-inner-icon":"mdi-decagram",required:"",rules:e.rules.required},on:{"update:searchInput":function(t){return e.$set(e.semilla,"nameTipoSemilla",t)},"update:search-input":function(t){return e.$set(e.semilla,"nameTipoSemilla",t)}},model:{value:e.semilla.idTipoSemilla,callback:function(t){e.$set(e.semilla,"idTipoSemilla",t)},expression:"semilla.idTipoSemilla"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"¿Cantidad semillas utilizadas en la siembra?",hint:"¿Cantidad semillas utilizadas en la siembra?",type:"number",dense:"",outlined:"",solo:"",flat:"",filled:"",onkeypress:e.rules.regexNumber,"prepend-inner-icon":"mdi-decagram",required:"",rules:e.rules.required},model:{value:e.semilla.cantSemillas,callback:function(t){e.$set(e.semilla,"cantSemillas",t)},expression:"semilla.cantSemillas"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-autocomplete",{attrs:{label:"¿Unidad para reportar la cantidad de semilla?",hint:"¿Unidad para reportar la cantidad de semilla?",items:e.unidadSemilla,"item-value":"valor","item-text":"text","search-input":e.semilla.nameMedidaSemilla,dense:"",solo:"",flat:"",clearable:"",outlined:"",filled:"","prepend-inner-icon":"mdi-decagram",required:"",rules:e.rules.required},on:{"update:searchInput":function(t){return e.$set(e.semilla,"nameMedidaSemilla",t)},"update:search-input":function(t){return e.$set(e.semilla,"nameMedidaSemilla",t)}},model:{value:e.semilla.medidaSemilla,callback:function(t){e.$set(e.semilla,"medidaSemilla",t)},expression:"semilla.medidaSemilla"}})],1),e.verCampoCargaSemilla?a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-autocomplete",{attrs:{label:"¿Equivalencia en kilos de la carga?",hint:"¿Equivalencia en kilos de la carga?",items:e.equivaleKilos,"item-value":"valor","item-text":"text","search-input":e.semilla.nameEquivalencia,dense:"",solo:"",flat:"",clearable:"",outlined:"",filled:"","prepend-inner-icon":"mdi-decagram",required:"",rules:e.rules.required},on:{"update:searchInput":function(t){return e.$set(e.semilla,"nameEquivalencia",t)},"update:search-input":function(t){return e.$set(e.semilla,"nameEquivalencia",t)}},model:{value:e.semilla.equivaleKilos,callback:function(t){e.$set(e.semilla,"equivaleKilos",t)},expression:"semilla.equivaleKilos"}})],1):e._e(),e.verOtraUnidadSemilla?a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"ingrese la otra equivalencia",hint:"ingrese la otra equivalencia",type:"number",dense:"",outlined:"",solo:"",flat:"",filled:"",onkeypress:e.rules.regexNumber,"prepend-inner-icon":"mdi-decagram",required:"",rules:e.rules.required},model:{value:e.semilla.nuevaEquivalencia,callback:function(t){e.$set(e.semilla,"nuevaEquivalencia",t)},expression:"semilla.nuevaEquivalencia"}})],1):e._e(),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-autocomplete",{attrs:{label:"¿Cuál es la fuente de la semilla?",hint:"¿Cuál es la fuente de la semilla?",items:e.fuenteSemilla,"item-value":"valor","item-text":"text","search-input":e.semilla.nameFuenteSemilla,dense:"",solo:"",flat:"",clearable:"",outlined:"",filled:"","prepend-inner-icon":"mdi-decagram",required:"",rules:e.rules.required},on:{"update:searchInput":function(t){return e.$set(e.semilla,"nameFuenteSemilla",t)},"update:search-input":function(t){return e.$set(e.semilla,"nameFuenteSemilla",t)}},model:{value:e.semilla.fuenteSemilla,callback:function(t){e.$set(e.semilla,"fuenteSemilla",t)},expression:"semilla.fuenteSemilla"}})],1)],1)],1):e._e(),e.verCamposFertilizante?a("v-row",{staticClass:"section",attrs:{dense:""}},[a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-autocomplete",{attrs:{label:"Tipo de fertilizante",hint:"Tipo de fertilizante",items:e.tipoFertilizante,"item-value":"valor","item-text":"text","search-input":e.fertilizante.nameTipoFertilizante,dense:"",solo:"",flat:"",clearable:"",outlined:"",filled:"","prepend-inner-icon":"mdi-decagram",required:"",rules:e.rules.required},on:{"update:searchInput":function(t){return e.$set(e.fertilizante,"nameTipoFertilizante",t)},"update:search-input":function(t){return e.$set(e.fertilizante,"nameTipoFertilizante",t)}},model:{value:e.fertilizante.idTipoFertilizante,callback:function(t){e.$set(e.fertilizante,"idTipoFertilizante",t)},expression:"fertilizante.idTipoFertilizante"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"Nombre",hint:"Nombre",dense:"",solo:"",flat:"",outlined:"",filled:"","prepend-inner-icon":"mdi-decagram",required:"",rules:e.rules.required},model:{value:e.fertilizante.nombre,callback:function(t){e.$set(e.fertilizante,"nombre",t)},expression:"fertilizante.nombre"}})],1),a("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"auto"},scopedSlots:e._u([{key:"activator",fn:function(t){var o=t.on,i=t.attrs;return[a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-text-field",e._g(e._b({attrs:{label:"Fecha adquisición",hint:"Fecha adquisición",readonly:"",dense:"",solo:"",flat:"",outlined:"",filled:"","prepend-inner-icon":"mdi-decagram",required:"",rules:e.rules.required},model:{value:e.fertilizante.fechaAdquisicion,callback:function(t){e.$set(e.fertilizante,"fechaAdquisicion",t)},expression:"fertilizante.fechaAdquisicion"}},"v-text-field",i,!1),o))],1)]}}],null,!1,1053630218),model:{value:e.fertilizante.menuFechaAdquisicion,callback:function(t){e.$set(e.fertilizante,"menuFechaAdquisicion",t)},expression:"fertilizante.menuFechaAdquisicion"}},[a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-date-picker",{attrs:{outlined:""},on:{input:function(t){e.fertilizante.menuFechaAdquisicion=!1}},model:{value:e.fertilizante.fechaAdquisicion,callback:function(t){e.$set(e.fertilizante,"fechaAdquisicion",t)},expression:"fertilizante.fechaAdquisicion"}})],1)],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"Cantidad de fertilizante afectado Kg o Litros",hint:"Cantidad de fertilizante afectado Kg o Litros",type:"number",dense:"",solo:"",flat:"",outlined:"",filled:"",onkeypress:e.rules.regexNumber,"prepend-inner-icon":"mdi-decagram",required:"",rules:e.rules.required},model:{value:e.fertilizante.canFertilizante,callback:function(t){e.$set(e.fertilizante,"canFertilizante",t)},expression:"fertilizante.canFertilizante"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"Valor en pesos de los fertilizantes almacenados",hint:"Valor en pesos de los fertilizantes almacenados",dense:"",solo:"",flat:"","append-icon":"mdi-currency-usd",outlined:"",filled:"",onkeypress:e.rules.regexNumber,"prepend-inner-icon":"mdi-decagram",required:"",rules:e.rules.required},on:{blur:function(t){return e.formatCurrency("fertilizante","valPesos")}},model:{value:e.fertilizante.valPesos,callback:function(t){e.$set(e.fertilizante,"valPesos",t)},expression:"fertilizante.valPesos"}})],1)],1):e._e(),e.verCamposPlaguicidas?a("v-row",{staticClass:"section",attrs:{dense:""}},[a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-autocomplete",{attrs:{label:"Tipo de plaguicida almacenado",hint:"Tipo de plaguicida almacenado",items:e.tiposPlaguicidas,"item-value":"valor","item-text":"text","search-input":e.plaguicida.nameTipoPlaguicida,dense:"",solo:"",flat:"",clearable:"",outlined:"",filled:"","prepend-inner-icon":"mdi-decagram",required:"",rules:e.rules.required},on:{"update:searchInput":function(t){return e.$set(e.plaguicida,"nameTipoPlaguicida",t)},"update:search-input":function(t){return e.$set(e.plaguicida,"nameTipoPlaguicida",t)}},model:{value:e.plaguicida.idTipoPlaguicida,callback:function(t){e.$set(e.plaguicida,"idTipoPlaguicida",t)},expression:"plaguicida.idTipoPlaguicida"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-autocomplete",{attrs:{label:"Presentación",hint:"Presentación",items:e.presentacion,"item-value":"valor","item-text":"text","search-input":e.plaguicida.nameTipoPresentacion,solo:"",flat:"",clearable:"",dense:"",outlined:"",filled:"","prepend-inner-icon":"mdi-decagram",required:"",rules:e.rules.required},on:{"update:searchInput":function(t){return e.$set(e.plaguicida,"nameTipoPresentacion",t)},"update:search-input":function(t){return e.$set(e.plaguicida,"nameTipoPresentacion",t)}},model:{value:e.plaguicida.idTipoPresentacion,callback:function(t){e.$set(e.plaguicida,"idTipoPresentacion",t)},expression:"plaguicida.idTipoPresentacion"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"Cantidad de plaguicidas almacenados afectados (Kg)",hint:"Cantidad de plaguicidas almacenados afectados (Kg)","persistent-hint":"",type:"number",dense:"",solo:"",flat:"",outlined:"",filled:"",onkeypress:e.rules.regexNumber,"prepend-inner-icon":"mdi-decagram",required:"",rules:e.rules.required},model:{value:e.plaguicida.cantPlaguicidaKg,callback:function(t){e.$set(e.plaguicida,"cantPlaguicidaKg",t)},expression:"plaguicida.cantPlaguicidaKg"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"Cantidad de plaguicidas almacenados afectados (Litros)",hint:"Cantidad de plaguicidas almacenados afectados (Litros)","persistent-hint":"",type:"number",dense:"",solo:"",flat:"",outlined:"",filled:"",onkeypress:e.rules.regexNumber,"prepend-inner-icon":"mdi-decagram",required:"",rules:e.rules.required},model:{value:e.plaguicida.cantPlaguicidaLt,callback:function(t){e.$set(e.plaguicida,"cantPlaguicidaLt",t)},expression:"plaguicida.cantPlaguicidaLt"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"Valor en pesos de la afectación",hint:"Valor en pesos de la afectación",dense:"",outlined:"",solo:"",flat:"","append-icon":"mdi-currency-usd",filled:"",onkeypress:e.rules.regexNumber,"prepend-inner-icon":"mdi-decagram",required:"",rules:e.rules.required},on:{blur:function(t){return e.formatCurrency("plaguicida","valPesos")}},model:{value:e.plaguicida.valPesos,callback:function(t){e.$set(e.plaguicida,"valPesos",t)},expression:"plaguicida.valPesos"}})],1)],1):e._e(),e.verCamposMaquinaria?a("v-row",{staticClass:"section",attrs:{dense:""}},[a("v-col",{attrs:{cols:"12",sm:"12",md:"12"}},[e.verCamposMaquinaria?a("v-chip",{staticClass:"section",attrs:{dense:""}},[e._v(" Edad del equipo en años: "+e._s(e.calcularEdadEquipo)+" ")]):e._e()],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-autocomplete",{attrs:{label:"Tipo de maquinaria agrícola afectada",hint:"Tipo de maquinaria agrícola afectada",items:e.tipoMaquinariaAgricola,"item-value":"valor","item-text":"text","search-input":e.maquinariaAgricola.nameTipoMaquinaria,dense:"",solo:"",flat:"",clearable:"",outlined:"",filled:"","prepend-inner-icon":"mdi-decagram",required:"",rules:e.rules.required},on:{"update:searchInput":function(t){return e.$set(e.maquinariaAgricola,"nameTipoMaquinaria",t)},"update:search-input":function(t){return e.$set(e.maquinariaAgricola,"nameTipoMaquinaria",t)}},model:{value:e.maquinariaAgricola.idTipoMaquinariaAgricola,callback:function(t){e.$set(e.maquinariaAgricola,"idTipoMaquinariaAgricola",t)},expression:"maquinariaAgricola.idTipoMaquinariaAgricola"}})],1),a("v-menu",{ref:"menu",attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"auto"},scopedSlots:e._u([{key:"activator",fn:function(t){var o=t.on,i=t.attrs;return[a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",e._g(e._b({attrs:{label:"Año de adquisición del equipo",hint:"Año de adquisición del equipo",readonly:"",dense:"",solo:"",flat:"",outlined:"",filled:"","prepend-inner-icon":"mdi-decagram",required:"",rules:e.rules.required},model:{value:e.maquinariaAgricola.anoAdquisicion,callback:function(t){e.$set(e.maquinariaAgricola,"anoAdquisicion",t)},expression:"maquinariaAgricola.anoAdquisicion"}},"v-text-field",i,!1),o))],1)]}}],null,!1,540261944),model:{value:e.menuFechaAno,callback:function(t){e.menuFechaAno=t},expression:"menuFechaAno"}},[a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-date-picker",{ref:"picker",attrs:{outlined:""},on:{"click:year":function(t){return e.saveYear()},"click:month":!1},model:{value:e.maquinariaAgricola.anoAdquisicion,callback:function(t){e.$set(e.maquinariaAgricola,"anoAdquisicion",t)},expression:"maquinariaAgricola.anoAdquisicion"}})],1)],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"Valor en pesos de la afectación",hint:"Valor en pesos de la afectación",dense:"",solo:"",flat:"","append-icon":"mdi-currency-usd",outlined:"",filled:"",onkeypress:e.rules.regexNumber,"prepend-inner-icon":"mdi-decagram",required:"",rules:e.rules.required},on:{blur:function(t){return e.formatCurrency("maquinariaAgricola","valorPesos")}},model:{value:e.maquinariaAgricola.valorPesos,callback:function(t){e.$set(e.maquinariaAgricola,"valorPesos",t)},expression:"maquinariaAgricola.valorPesos"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"¿% en que disminuyó su producción por la afectación de la maquinaria?",hint:"¿% en que disminuyó su producción por la afectación de la maquinaria?",dense:"",solo:"",flat:"",outlined:"",filled:"",onkeypress:e.rules.regexNumber,"prepend-inner-icon":"mdi-decagram",required:"",rules:e.rules.required},model:{value:e.maquinariaAgricola.porceDisminucion,callback:function(t){e.$set(e.maquinariaAgricola,"porceDisminucion",t)},expression:"maquinariaAgricola.porceDisminucion"}})],1)],1):e._e()],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{staticClass:"background-primary-dark button-basic",attrs:{elevation:"2",raised:"",depressed:""},on:{click:function(t){e.modalMaquinaria=!1}}},[e._v("Cerrar")]),a("v-btn",{staticClass:"background-primary-dark button-basic",attrs:{elevation:"2",raised:"",depressed:""},on:{click:function(t){return e.agregarTipoInfraestructura()}}},[e._v("Agregar")])],1)],1)],1)],1)],1)},nt=[],st=(a("5319"),{name:"dataEspecie",props:["obtenerDataEspecie"],data:function(){return{dialog:!1,notifications:!1,sound:!0,widgets:!1,expanded:[],validSectionOne:!0,modalMaquinaria:!1,validCostoDirecto:!0,validCostoInDirecto:!0,validInfraestructura:!0,especiesHeaders:[{text:"Fase productiva",align:"start",sortable:!1,value:"nameFaseProd"},{text:"Nombre especie",align:"start",sortable:!1,value:"nameEspAfectada"},{text:"Nombre común",align:"start",sortable:!1,value:"nombre"},{text:"Objetivo",align:"start",sortable:!1,value:"nameObjetivo"},{text:"Acciones",value:"actions",sortable:!1,width:"2%"}],especies:[],costosDirectosHeader:[{text:"Id",align:"start",sortable:!1,value:"id"},{text:"Rubro",align:"start",sortable:!1,value:"rubros"},{text:"Costo",align:"start",sortable:!1,value:"costo"},{text:"Eliminar",value:"actions",sortable:!1,width:"2%"}],itemsCostosDirectos:[],costosIndirectosHeader:[{text:"Id",align:"start",sortable:!1,value:"id"},{text:"Rubro",align:"start",sortable:!1,value:"rubros"},{text:"Costo",align:"start",sortable:!1,value:"costo"},{text:"Eliminar",value:"actions",sortable:!1,width:"2%"}],itemsCostosIndirectos:[],semillasHeaders:[{text:"Especie",align:"start",sortable:!1,value:"especieSemilla"},{text:"Tipo",align:"start",sortable:!1,value:"nameTipoSemilla"},{text:"Lotes de propagación",align:"start",sortable:!1,value:"nameLotePropagacion"},{text:"Cant.Semilla",align:"start",sortable:!1,value:"canSemillas"},{text:"Val.Pesos",align:"start",sortable:!1,value:"valPesos"},{text:"Cantidad",align:"start",sortable:!1,value:"cantSemillas"},{text:"Unidad medida",align:"start",sortable:!1,value:"nameMedidaSemilla"},{text:"Fuente",align:"start",sortable:!1,value:"nameFuenteSemilla"},{text:"Eliminar",value:"actions",sortable:!1,width:"2%"}],semillasadd:[],fertilizanteHeaders:[{text:"Tipo",align:"start",sortable:!1,value:"nameTipoFertilizante"},{text:"Nombre",align:"start",sortable:!1,value:"nombre"},{text:"Fch.Adquisición",align:"start",sortable:!1,value:"fechaAdquisicion"},{text:"Cant.Fertilizante",align:"start",sortable:!1,value:"canFertilizante"},{text:"Val.Pesos",align:"start",sortable:!1,value:"valPesos"},{text:"Eliminar",value:"actions",sortable:!1,width:"2%"}],fertilizanteadd:[],plaguicidaHeaders:[{text:"Tipo",align:"start",sortable:!1,value:"nameTipoPlaguicida"},{text:"Presentación",align:"start",sortable:!1,value:"nameTipoPresentacion"},{text:"Cant.Plaguicida Kg",align:"start",sortable:!1,value:"cantPlaguicidaKg"},{text:"Cant.Plaguicida Lt",align:"start",sortable:!1,value:"cantPlaguicidaLt"},{text:"Val.Pesos",align:"start",sortable:!1,value:"valPesos"},{text:"Eliminar",value:"actions",sortable:!1,width:"2%"}],plaguicidadadd:[],maquinariaHeaders:[{text:"Tipo",align:"start",sortable:!1,value:"nameTipoMaquinaria"},{text:"Año aduisición",align:"start",sortable:!1,value:"anoAdquisicion"},{text:"Val.Pesos",align:"start",sortable:!1,value:"valorPesos"},{text:"%Disminución",align:"start",sortable:!1,value:"porceDisminucion"},{text:"Eliminar",value:"actions",sortable:!1,width:"2%"}],maquinariaadd:[],esp:{},semilla:{},fertilizante:{},plaguicida:{},maquinariaAgricola:{},fasesProd:[],espForestales:[],espExtractivas:[],espObjetivos:[],tipoInfraestructura:[],tipoSemilla:[],lotePropagacionSemilla:[],unidadSemilla:[],tipoFertilizante:[],listaPresentacion:[],tipoMaquinariaAgricola:[],rubros:[],actividades:[],nombreMaquinariaSelect:"",idTipoInfraestructura:"",fuenteSemilla:[],equivaleKilos:[],materiralSiembra:[],tiposPlaguicidas:[],presentacion:[],calcularEdadEquipo:0,menuFechaAno:!1,editedIndex:-1,rules:{required:[function(e){return!!e||"Campo requerido"}],regexNumber:"return (event.charCode >= 48 && event.charCode <= 57 || event.charCode == 46)"}}},mounted:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getDataEventSpecie();case 2:return t.next=4,e.edicionForestal();case 4:case"end":return t.stop()}}),t)})))()},methods:{cerrarModal:function(){this.limpiarCampos()},addEspecie:function(){if(this.$refs.formSectionOne.validate()){if(0===this.itemsCostosDirectos.length||0===this.itemsCostosIndirectos.length)return void this.$swal({icon:"error",text:"No se han registrados costos directos o indirectos.",confirmButtonText:"Aceptar"});this.esp.costosDirectos=this.itemsCostosDirectos,this.esp.costosInDirectos=this.itemsCostosIndirectos,this.esp.semilla=this.semillasadd,this.esp.fertilizante=this.fertilizanteadd,this.esp.plaguicida=this.plaguicidadadd,this.esp.maquinariaAgricola=this.maquinariaadd,this.editedIndex>-1?Object.assign(this.especies[this.editedIndex],this.esp):this.especies.push(this.esp),this.obtenerDataEspecie(this.especies),this.limpiarCampos()}},limpiarCampos:function(){this.itemsCostosDirectos=[],this.itemsCostosIndirectos=[],this.semillasadd=[],this.fertilizanteadd=[],this.plaguicidadadd=[],this.maquinariaadd=[],this.esp={},this.editedIndex=-1,this.dialog=!1},deleteEspecie:function(e){var t=this;this.$swal({title:"Confirmación",text:"Eliminar sistema forestal?",icon:"warning",showCancelButton:!0,confirmButtonText:"Confirmar",cancelButtonText:"Cancelar",showCloseButton:!0,showLoaderOnConfirm:!0}).then((function(a){if(a.value){var o=t.especies.indexOf(e);t.especies.splice(o,1),t.obtenerDataEspecie(t.especies)}}))},editarEspecie:function(e){this.editedIndex=this.especies.indexOf(e),this.itemsCostosDirectos=e.costosDirectos,this.itemsCostosIndirectos=e.costosInDirectos,this.semillasadd=e.semilla,this.fertilizanteadd=e.fertilizante,this.plaguicidadadd=e.plaguicida,this.maquinariaadd=e.maquinariaAgricola,this.esp=Object.assign({},e),this.dialog=!0},mostrarTipoInfraestructura:function(){this.modalMaquinaria=!0,this.nombreMaquinariaSelect=this.nameTipoInfraestructura},addInfraestructura:function(){this.idTipoInfraestructura&&this.mostrarTipoInfraestructura()},agregarTipoInfraestructura:function(){if(this.$refs.formInfraestructura.validate()){var e=parseInt(this.idTipoInfraestructura);1===e&&(this.semillasadd.push(this.semilla),this.semilla={}),2===e&&(this.fertilizanteadd.push(this.fertilizante),this.fertilizante={}),3===e&&(this.plaguicidadadd.push(this.plaguicida),this.plaguicida={}),4===e&&(this.maquinariaadd.push(this.maquinariaAgricola),this.maquinariaAgricola={},this.calcularEdadEquipo=0),this.modalMaquinaria=!1}},deleteSemilla:function(e){var t=this;this.$swal({title:"Confirmación",text:"Eliminar semilla?",icon:"warning",showCancelButton:!0,confirmButtonText:"Confirmar",cancelButtonText:"Cancelar",showCloseButton:!0,showLoaderOnConfirm:!0}).then((function(a){if(a.value){var o=t.semillasadd.indexOf(e);t.semillasadd.splice(o,1)}}))},deleteFertilizante:function(e){var t=this;this.$swal({title:"Confirmación",text:"Eliminar fertilizante?",icon:"warning",showCancelButton:!0,confirmButtonText:"Confirmar",cancelButtonText:"Cancelar",showCloseButton:!0,showLoaderOnConfirm:!0}).then((function(a){if(a.value){var o=t.fertilizanteadd.indexOf(e);t.fertilizanteadd.splice(o,1)}}))},deletePlaguicida:function(e){var t=this;this.$swal({title:"Confirmación",text:"Eliminar plaguicida?",icon:"warning",showCancelButton:!0,confirmButtonText:"Confirmar",cancelButtonText:"Cancelar",showCloseButton:!0,showLoaderOnConfirm:!0}).then((function(a){if(a.value){var o=t.plaguicidadadd.indexOf(e);t.plaguicidadadd.splice(o,1)}}))},deleteMaquinaria:function(e){var t=this;this.$swal({title:"Confirmación",text:"Eliminar maquinaria?",icon:"warning",showCancelButton:!0,confirmButtonText:"Confirmar",cancelButtonText:"Cancelar",showCloseButton:!0,showLoaderOnConfirm:!0}).then((function(a){if(a.value){var o=t.maquinariaadd.indexOf(e);t.maquinariaadd.splice(o,1)}}))},saveYear:function(){var e=this.$refs.picker.$data.inputYear;this.maquinariaAgricola.anoAdquisicion=e+"",this.$refs.picker.activePicker="YEAR",this.menuFechaAno=!1;var t=new Date,a=t.getFullYear();this.calcularEdadEquipo=a>e?a-e:0},deleteCostoDirecto:function(e){var t=this;this.$swal({title:"Confirmación",text:"Eliminar costo directo?",icon:"warning",showCancelButton:!0,confirmButtonText:"Confirmar",cancelButtonText:"Cancelar",showCloseButton:!0,showLoaderOnConfirm:!0}).then((function(a){if(a.value){var o=t.itemsCostosDirectos.indexOf(e);t.itemsCostosDirectos.splice(o,1)}}))},addCostoDirecto:function(){var e=this;if(this.$refs.formCostoDirecto.validate()){var t={};t.costo=this.esp.costoGenerado,t.id=this.esp.actividad;var a=this.actividades.filter((function(t){return t.valor===e.esp.actividad}));t.rubros=a[0].text,this.itemsCostosDirectos.push(t),this.esp.costoGenerado="",this.esp.actividad={}}},deleteCostoIndirecto:function(e){var t=this;this.$swal({title:"Confirmación",text:"Eliminar costo indirecto?",icon:"warning",showCancelButton:!0,confirmButtonText:"Confirmar",cancelButtonText:"Cancelar",showCloseButton:!0,showLoaderOnConfirm:!0}).then((function(a){if(a.value){var o=t.itemsCostosIndirectos.indexOf(e);t.itemsCostosIndirectos.splice(o,1)}}))},addCostoIndirecto:function(){var e=this;if(this.$refs.formCostoInDirecto.validate()){var t={};t.costo=this.esp.costoGeneradoIndirecto,t.id=this.esp.rubrosIndirectos;var a=this.rubros.filter((function(t){return t.valor===e.esp.rubrosIndirectos}));t.rubros=a[0].text,this.itemsCostosIndirectos.push(t),this.esp.costoGeneradoIndirecto="",this.esp.rubrosIndirectos={}}},estadoAfectacion:function(){this.esp.afectacionesEnMaquinaria||(this.semillasadd=[],this.fertilizanteadd=[],this.plaguicidadadd=[],this.maquinariaadd=[])},getDataEventSpecie:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a,o,i,r,n,s,l,c,u,d,p,v,f,h,b,g,x,k,C,q,w,y,P,A,E,_,I,S,$,T,M,R,F;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,m("forestal",!0);case 3:for(o in a=t.sent,a.faseProductiva)i={valor:a.faseProductiva[o][0],text:a.faseProductiva[o][1]},e.fasesProd.push(i);for(r in a.especieForestal)n={valor:a.especieForestal[r][0],text:a.especieForestal[r][1]},e.espForestales.push(n);for(s in a.especieExtractiva)l={valor:a.especieExtractiva[s][0],text:a.especieExtractiva[s][1]},e.espExtractivas.push(l);for(c in a.objePlantacion)u={valor:a.objePlantacion[c][0],text:a.objePlantacion[c][1]},e.espObjetivos.push(u);for(d in a.tipoInfraestrcutura)p={valor:a.tipoInfraestrcutura[d][0],text:a.tipoInfraestrcutura[d][1]},e.tipoInfraestructura.push(p);for(v in a.tipoSemilla)f={valor:a.tipoSemilla[v][0],text:a.tipoSemilla[v][1]},e.tipoSemilla.push(f);for(h in a.fuenteSemilla)b={valor:a.fuenteSemilla[h][0],text:a.fuenteSemilla[h][1]},e.fuenteSemilla.push(b);for(g in a.lotePropaga)x={valor:a.lotePropaga[g][0],text:a.lotePropaga[g][1]},e.lotePropagacionSemilla.push(x);for(k in a.unidadSemilla)C={valor:a.unidadSemilla[k][0],text:a.unidadSemilla[k][1]},e.unidadSemilla.push(C);for(q in a.eqvCarga)w={valor:a.eqvCarga[q][0],text:a.eqvCarga[q][1]},e.equivaleKilos.push(w);for(y in a.tipoFertilizante)P={valor:a.tipoFertilizante[y][0],text:a.tipoFertilizante[y][1]},e.tipoFertilizante.push(P);for(A in a.tipoPlaguicida)E={valor:a.tipoPlaguicida[A][0],text:a.tipoPlaguicida[A][1]},e.tiposPlaguicidas.push(E);for(_ in a.presentacionPlaguicida)I={valor:a.presentacionPlaguicida[_][0],text:a.presentacionPlaguicida[_][1]},e.presentacion.push(I);for(S in a.tipoMaquinaria)$={valor:a.tipoMaquinaria[S][0],text:a.tipoMaquinaria[S][1]},e.tipoMaquinariaAgricola.push($);for(T in a.rubros)M={valor:a.rubros[T][0],text:a.rubros[T][1]},e.rubros.push(M);for(R in a.actividad)F={valor:a.actividad[R][0],text:a.actividad[R][1]},e.actividades.push(F);t.next=25;break;case 22:t.prev=22,t.t0=t["catch"](0),console.log(t.t0);case 25:case"end":return t.stop()}}),t,null,[[0,22]])})))()},edicionForestal:function(){var e=this.$route.params.evento;void 0!==e&&e.dataEspecies.forestal.length>0&&(this.especies=e.dataEspecies.forestal)},formatCurrency:function(e,t){this[e][t]&&(this[e][t]=this[e][t].toString(),this[e][t]=parseFloat(this[e][t].replace(/[^\d\.]/g,"")),this[e][t]=this.$options.filters.currency(this[e][t]))}},computed:{width:function(){var e;switch(this.$vuetify.breakpoint.name){case"xs":e=!0;break;case"sm":e=!0;break;case"md":e=!1;break;case"lg":e=!1;break;case"xl":e=!1;break}return e},verDatosAdicionalesObjetivo:function(){var e=[1,2,4],t=!!e.includes(this.esp.objetivo);return t||(delete this.esp.noArbolesAntesAfectacion,delete this.esp.noEntresacas,delete this.esp.valEntreSacas,delete this.esp.porceEntreSacas,delete this.esp.diametroPromedio,delete this.esp.alturaComercial,delete this.esp.alturaTotal,delete this.esp.plantacionAnos,delete this.esp.porceArbolesTurnoFinal,delete this.esp.vlMaderaAfectado),t},verVolumenMadera:function(){var e=[1],t=!!e.includes(this.esp.objetivo);return t||delete this.esp.vlMaderaAfectado,t},verCamposSemilla:function(){var e=!1;return this.idTipoInfraestructura&&(e=1===this.idTipoInfraestructura),e},verCamposFertilizante:function(){var e=!1;return this.idTipoInfraestructura&&(e=2===this.idTipoInfraestructura),e},verCamposPlaguicidas:function(){var e=!1;return this.idTipoInfraestructura&&(e=3===this.idTipoInfraestructura),e},verCamposMaquinaria:function(){var e=!1;return this.idTipoInfraestructura&&(e=4===this.idTipoInfraestructura),e},verCampoCargaSemilla:function(){var e=!1;return 4===this.semilla.medidaSemilla?e=!0:this.semilla.nuevaEquivalencia=null,e},verOtraUnidadSemilla:function(){var e=!1;return 4===this.semilla.medidaSemilla&&6===this.semilla.equivaleKilos&&(e=!0),e}}}),lt=st,ct=Object(E["a"])(lt,rt,nt,!1,null,null,null),ut=ct.exports,dt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-data-table",{staticClass:"elevation-2",attrs:{headers:e.agroHeader,items:e.especiesAgropecuario},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-toolbar",{staticClass:"background-primary-dropdowns border-head-table font-weight-bold",attrs:{flat:""}},[a("span",{staticClass:"mr-2"},[e._v("Sistema agropecuario")]),a("v-btn",{staticClass:"background-primary-dark",attrs:{elevation:"2",fab:"",dark:"",small:""},on:{click:function(t){e.dialogAgropecuario=!0}}},[a("v-icon",[e._v("mdi-plus")])],1)],1)]},proxy:!0},{key:"item.actions",fn:function(t){var o=t.item;return[a("v-icon",{attrs:{small:"",color:"#004884"},on:{click:function(t){return e.editarEspecieAgro(o)}}},[e._v(" mdi-pencil ")]),a("v-icon",{attrs:{small:"",color:"#004884"},on:{click:function(t){return e.deleteEspecieAgro(o)}}},[e._v(" mdi-delete ")])]}}])})],1)],1)],1),a("v-container",[a("v-dialog",{attrs:{persistent:"",overlay:!1,"max-width":"100%",transition:"dialog-transition"},model:{value:e.dialogAgropecuario,callback:function(t){e.dialogAgropecuario=t},expression:"dialogAgropecuario"}},[a("v-card",{staticClass:"border-basic",attrs:{flat:""}},[a("div",{staticStyle:{"text-align":"right"}},[a("v-btn",{staticClass:"color-primary-dark",attrs:{icon:"",dark:""},on:{click:e.cerrarModal}},[a("v-icon",[e._v("mdi-close-circle")])],1)],1),a("v-card-title",{attrs:{"primary-title":""}},[a("v-container",{staticClass:"color-primary-dark font-weight-bold"},[a("v-row",{staticClass:"align-center justify-center container-titles",staticStyle:{height:"80px"},attrs:{dense:""}},[a("v-col",{attrs:{cols:"12",md:"12",sm:"12"}},[a("center",[e._v("Sistema agropecuario")])],1)],1)],1)],1),a("v-card-text",[a("v-container",[a("v-row",{attrs:{dense:""}},[a("v-col",{staticClass:"container-titles mt-5",attrs:{cols:"12",md:"12",sm:"12",align:"center",justify:"center"}},[a("p",{staticClass:"color-black font-weight-bold font-16"},[e._v("Cultivos afectados")])])],1),a("v-form",{ref:"formSectionOne",attrs:{"lazy-validation":""},model:{value:e.validFormSectionOne,callback:function(t){e.validFormSectionOne=t},expression:"validFormSectionOne"}},[a("v-row",{staticClass:"section mt-5",attrs:{dense:""}},[a("v-col",{attrs:{cols:"12",md:"12",sm:"12"}},[a("p",{staticClass:"color-black font-weight-bold"},[e._v("Datos de la especie")])]),a("v-col",{attrs:{cols:"12",md:"12",sm:"12"}},[a("v-chip",{staticClass:"mt-2 mb-4"},[e._v(" Hectáreas: "+e._s(e.calcularHectareaSegunArea)+" ")])],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-autocomplete",{attrs:{label:"¿Cuál es el nombre del cultivo?",hint:"¿Cuál es el nombre del cultivo?",items:e.tipoCultivo,"search-input":e.agropecuario.nameTipoCultivo,"item-value":"codcultivo","item-text":"tipocultivo",dense:"",solo:"",flat:"",clearable:"",outlined:"",filled:"","prepend-inner-icon":"mdi-decagram",required:"",rules:e.required},on:{"update:searchInput":function(t){return e.$set(e.agropecuario,"nameTipoCultivo",t)},"update:search-input":function(t){return e.$set(e.agropecuario,"nameTipoCultivo",t)},change:e.consultarGasto},model:{value:e.agropecuario.nombreCultivo,callback:function(t){e.$set(e.agropecuario,"nombreCultivo",t)},expression:"agropecuario.nombreCultivo"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-autocomplete",{attrs:{label:"¿Unidad de área se realiza el reporte?",hint:"¿Unidad de área se realiza el reporte?",items:e.unidadArea,"search-input":e.agropecuario.nameUnidadArea,"item-value":"codundarea","item-text":"undarea",dense:"",solo:"",flat:"",clearable:"",outlined:"",filled:"","prepend-inner-icon":"mdi-decagram",required:"",rules:e.required},on:{"update:searchInput":function(t){return e.$set(e.agropecuario,"nameUnidadArea",t)},"update:search-input":function(t){return e.$set(e.agropecuario,"nameUnidadArea",t)}},model:{value:e.agropecuario.unidadArea,callback:function(t){e.$set(e.agropecuario,"unidadArea",t)},expression:"agropecuario.unidadArea"}})],1),4===e.agropecuario.unidadArea?a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"nombre nueva unidad",hint:"nombre nueva unidad",dense:"",outlined:"",solo:"",flat:"",filled:"","prepend-inner-icon":"mdi-decagram",required:"",rules:e.required},model:{value:e.agropecuario.nombrenuvaunidad,callback:function(t){e.$set(e.agropecuario,"nombrenuvaunidad",t)},expression:"agropecuario.nombrenuvaunidad"}})],1):e._e(),4===e.agropecuario.unidadArea?a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"unidad en metros",hint:"unidad en metros",dense:"",outlined:"",solo:"",flat:"",filled:"",onkeypress:e.regexNumber,"prepend-inner-icon":"mdi-decagram",required:"",rules:e.required},model:{value:e.agropecuario.nuevaunidadmetros,callback:function(t){e.$set(e.agropecuario,"nuevaunidadmetros",t)},expression:"agropecuario.nuevaunidadmetros"}})],1):e._e(),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"Área total del cultivo sembrado",hint:"Área total del cultivo sembrado",type:"number",dense:"",outlined:"",solo:"",flat:"",filled:"",onkeypress:e.regexNumber,"prepend-inner-icon":"mdi-decagram",required:"",rules:e.required},model:{value:e.agropecuario.areaCultivo,callback:function(t){e.$set(e.agropecuario,"areaCultivo",t)},expression:"agropecuario.areaCultivo"}})],1)],1),a("v-row",{staticClass:"section mt-5",attrs:{dense:""}},[a("v-col",{attrs:{cols:"12",md:"12",sm:"12"}},[a("p",{staticClass:"color-black font-weight-bold"},[e._v("Material de la siembra")])]),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-autocomplete",{attrs:{label:"¿Qué tipo de material utilizó para la siembra?",hint:"¿Qué tipo de material utilizó para la siembra?",items:e.materiralSiembra,"search-input":e.agropecuario.nameMateriralSiembra,"item-value":"codmaterial","item-text":"material",dense:"",solo:"",flat:"",clearable:"",outlined:"",filled:""},on:{"update:searchInput":function(t){return e.$set(e.agropecuario,"nameMateriralSiembra",t)},"update:search-input":function(t){return e.$set(e.agropecuario,"nameMateriralSiembra",t)}},model:{value:e.agropecuario.materiralSiembra,callback:function(t){e.$set(e.agropecuario,"materiralSiembra",t)},expression:"agropecuario.materiralSiembra"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"¿Cantidad semillas utilizadas en la siembra?",hint:"¿Cantidad semillas utilizadas en la siembra?",type:"number",dense:"",outlined:"",solo:"",flat:"",filled:"",onkeypress:e.regexNumber},model:{value:e.agropecuario.cantSemillas,callback:function(t){e.$set(e.agropecuario,"cantSemillas",t)},expression:"agropecuario.cantSemillas"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-autocomplete",{attrs:{label:"¿Unidad para reportar la cantidad de semilla?",hint:"¿Unidad para reportar la cantidad de semilla?",items:e.medidaSemilla,"item-value":"codundcosecha","item-text":"undcosecha",dense:"",solo:"",flat:"",clearable:"",outlined:"",filled:""},model:{value:e.agropecuario.medidaSemilla,callback:function(t){e.$set(e.agropecuario,"medidaSemilla",t)},expression:"agropecuario.medidaSemilla"}})],1),e.verCampoCarga?a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-autocomplete",{attrs:{label:"¿Equivalencia en kilos de la carga?",hint:"¿Equivalencia en kilos de la carga?",items:e.equivaleKilos,"item-value":"codequivcarga","item-text":"eqvcargakg",dense:"",solo:"",flat:"",clearable:"",outlined:"",filled:""},model:{value:e.agropecuario.equivaleKilos,callback:function(t){e.$set(e.agropecuario,"equivaleKilos",t)},expression:"agropecuario.equivaleKilos"}})],1):e._e(),6===e.agropecuario.equivaleKilos?a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"ingrese la otra equivalencia",hint:"ingrese la otra equivalencia",type:"number",dense:"",outlined:"",solo:"",flat:"",filled:"",onkeypress:e.regexNumber},model:{value:e.agropecuario.nuevaEquivalencia,callback:function(t){e.$set(e.agropecuario,"nuevaEquivalencia",t)},expression:"agropecuario.nuevaEquivalencia"}})],1):e._e(),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-autocomplete",{attrs:{label:"¿Cuál es la fuente de la semilla?",hint:"¿Cuál es la fuente de la semilla?",items:e.fuenteSemilla,"item-value":"codfuensemilla","item-text":"fuensemilla",dense:"",solo:"",flat:"",clearable:"",outlined:"",filled:""},model:{value:e.agropecuario.fuenteSemilla,callback:function(t){e.$set(e.agropecuario,"fuenteSemilla",t)},expression:"agropecuario.fuenteSemilla"}})],1)],1),a("v-row",{staticClass:"section mt-5",attrs:{dense:""}},[a("v-col",{attrs:{cols:"12",md:"12",sm:"12"}},[a("p",{staticClass:"color-black font-weight-bold"},[e._v("Datos de la producción")])]),a("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"auto"},scopedSlots:e._u([{key:"activator",fn:function(t){var o=t.on,i=t.attrs;return[a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-text-field",e._g(e._b({attrs:{label:"¿Cuál fue la última fecha de siembra?",hint:"¿Cuál fue la última fecha de siembra?",readonly:"",dense:"",solo:"",flat:"",outlined:"",filled:""},model:{value:e.agropecuario.fechaSiembra,callback:function(t){e.$set(e.agropecuario,"fechaSiembra",t)},expression:"agropecuario.fechaSiembra"}},"v-text-field",i,!1),o))],1)]}}]),model:{value:e.agropecuario.menuFechaSiembra,callback:function(t){e.$set(e.agropecuario,"menuFechaSiembra",t)},expression:"agropecuario.menuFechaSiembra"}},[a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-date-picker",{attrs:{outlined:""},on:{input:function(t){e.agropecuario.menuFechaSiembra=!1}},model:{value:e.agropecuario.fechaSiembra,callback:function(t){e.$set(e.agropecuario,"fechaSiembra",t)},expression:"agropecuario.fechaSiembra"}})],1)],1),73===e.agropecuario.nombreCultivo||70===e.agropecuario.nombreCultivo||69===e.agropecuario.nombreCultivo||68===e.agropecuario.nombreCultivo?a("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"auto"},scopedSlots:e._u([{key:"activator",fn:function(t){var o=t.on,i=t.attrs;return[a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-text-field",e._g(e._b({attrs:{label:"¿Mes y año de la primera cosecha?",hint:"¿Mes y año de la primera cosecha?",readonly:"",dense:"",solo:"",flat:"",outlined:"",filled:""},model:{value:e.agropecuario.fechaPrimeCosecha,callback:function(t){e.$set(e.agropecuario,"fechaPrimeCosecha",t)},expression:"agropecuario.fechaPrimeCosecha"}},"v-text-field",i,!1),o))],1)]}}],null,!1,184814626),model:{value:e.agropecuario.menuFechaPrimeCosecha,callback:function(t){e.$set(e.agropecuario,"menuFechaPrimeCosecha",t)},expression:"agropecuario.menuFechaPrimeCosecha"}},[a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-date-picker",{attrs:{type:"month",outlined:""},on:{input:function(t){e.agropecuario.menuFechaPrimeCosecha=!1}},model:{value:e.agropecuario.fechaPrimeCosecha,callback:function(t){e.$set(e.agropecuario,"fechaPrimeCosecha",t)},expression:"agropecuario.fechaPrimeCosecha"}})],1)],1):e._e(),a("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"auto"},scopedSlots:e._u([{key:"activator",fn:function(t){var o=t.on,i=t.attrs;return[a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-text-field",e._g(e._b({attrs:{label:"¿Mes que espera cosechar o cosechó el cultivo?",hint:"Si no se ha cosechado colocar la fecha esperada para la cosecha","persistent-hint":"",readonly:"",dense:"",solo:"",flat:"",outlined:"",filled:""},model:{value:e.agropecuario.fechaEsperaCosecha,callback:function(t){e.$set(e.agropecuario,"fechaEsperaCosecha",t)},expression:"agropecuario.fechaEsperaCosecha"}},"v-text-field",i,!1),o))],1)]}}]),model:{value:e.agropecuario.menuFechaEsperaCosecha,callback:function(t){e.$set(e.agropecuario,"menuFechaEsperaCosecha",t)},expression:"agropecuario.menuFechaEsperaCosecha"}},[a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-date-picker",{attrs:{type:"month",outlined:""},on:{input:function(t){e.agropecuario.menuFechaEsperaCosecha=!1}},model:{value:e.agropecuario.fechaEsperaCosecha,callback:function(t){e.$set(e.agropecuario,"fechaEsperaCosecha",t)},expression:"agropecuario.fechaEsperaCosecha"}})],1)],1)],1),a("v-row",{staticClass:"section mt-5",attrs:{dense:""}},[a("v-col",{attrs:{cols:"12",md:"12",sm:"12"}},[a("p",{staticClass:"color-black font-weight-bold"},[e._v("Cantidad producida")])]),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"¿Cuál fue la cantidad cosechada?",hint:"Si la pérdida del cultivo fue total y no se puede o no se espera cosechar , por favor digite 0",type:"number",dense:"",solo:"",flat:"",outlined:"",filled:"",onkeypress:e.regexNumber},model:{value:e.agropecuario.cantCosechada,callback:function(t){e.$set(e.agropecuario,"cantCosechada",t)},expression:"agropecuario.cantCosechada"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-autocomplete",{attrs:{label:"¿la unidad de medida para reportar la cantidad es?",hint:"¿la unidad de medida para reportar la cantidad es?",items:e.medidaCantCosechada,"item-value":"codundcosecha","item-text":"undcosecha",dense:"",solo:"",flat:"",clearable:"",outlined:"",filled:""},model:{value:e.agropecuario.medidaCantCosechada,callback:function(t){e.$set(e.agropecuario,"medidaCantCosechada",t)},expression:"agropecuario.medidaCantCosechada"}})],1),e.verCampoCargaCosecha?a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-autocomplete",{attrs:{label:"¿Equivalencia en kilos de la carga?",hint:"¿Equivalencia en kilos de la carga?",items:e.equivaleKilosCosecha,"item-value":"codequivcarga","item-text":"eqvcargakg",dense:"",solo:"",flat:"",clearable:"",outlined:"",filled:""},model:{value:e.agropecuario.equivaleKilosCosecha,callback:function(t){e.$set(e.agropecuario,"equivaleKilosCosecha",t)},expression:"agropecuario.equivaleKilosCosecha"}})],1):e._e(),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"Total recibido por la venta de lo cosechado",dense:"",outlined:"",solo:"",flat:"",filled:"","prepend-inner-icon":"mdi-currency-usd",onkeypress:e.regexNumber},on:{blur:function(t){return e.formatCurrency("agropecuario","totalReciCosechado")}},model:{value:e.agropecuario.totalReciCosechado,callback:function(t){e.$set(e.agropecuario,"totalReciCosechado",t)},expression:"agropecuario.totalReciCosechado"}})],1)],1),a("v-row",{staticClass:"section mt-5",attrs:{dense:""}},[a("v-col",{attrs:{cols:"12",md:"12",sm:"12"}},[a("p",{staticClass:"color-black font-weight-bold"},[e._v("Exposición del cultivo al evento")])]),a("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"auto"},scopedSlots:e._u([{key:"activator",fn:function(t){var o=t.on,i=t.attrs;return[a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-text-field",e._g(e._b({attrs:{label:"¿En qué fecha inició la afectación?",hint:"¿En qué fecha inició la afectación?",readonly:"",dense:"",solo:"",flat:"",outlined:"",filled:""},model:{value:e.agropecuario.fechaAfectacion,callback:function(t){e.$set(e.agropecuario,"fechaAfectacion",t)},expression:"agropecuario.fechaAfectacion"}},"v-text-field",i,!1),o))],1)]}}]),model:{value:e.agropecuario.menuFechaAfectacion,callback:function(t){e.$set(e.agropecuario,"menuFechaAfectacion",t)},expression:"agropecuario.menuFechaAfectacion"}},[a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-date-picker",{attrs:{outlined:""},on:{input:function(t){e.agropecuario.menuFechaAfectacion=!1}},model:{value:e.agropecuario.fechaAfectacion,callback:function(t){e.$set(e.agropecuario,"fechaAfectacion",t)},expression:"agropecuario.fechaAfectacion"}})],1)],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"¿Cuántos días duró expuesto el cultivo?",hint:"¿Cuántos días duró expuesto el cultivo?",type:"number",dense:"",solo:"",flat:"",outlined:"",filled:"",onkeypress:e.regexNumber},model:{value:e.agropecuario.diasCultivoExpuesto,callback:function(t){e.$set(e.agropecuario,"diasCultivoExpuesto",t)},expression:"agropecuario.diasCultivoExpuesto"}})],1)],1),a("v-row",{staticClass:"section mt-5",attrs:{dense:""}},[a("v-col",{attrs:{cols:"12",md:"12",sm:"12"}},[a("p",{staticClass:"color-black font-weight-bold"},[e._v("Cantidad proyectada")])]),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"¿Cantidad de producto que estimaba producir en la cosecha que se afectó?",hint:"Cantidad estimada a producir en la cosecha afectada",type:"number",dense:"",solo:"",flat:"",outlined:"",filled:"",onkeypress:e.regexNumber},model:{value:e.agropecuario.cantProduProducir,callback:function(t){e.$set(e.agropecuario,"cantProduProducir",t)},expression:"agropecuario.cantProduProducir"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-autocomplete",{attrs:{label:"¿la unidad de medida para reportar la cantidad es?",hint:"¿la unidad de medida para reportar la cantidad es?",items:e.medidaReportar,"item-value":"codundcosecha","item-text":"undcosecha",dense:"",solo:"",flat:"",clearable:"",outlined:"",filled:""},model:{value:e.agropecuario.medidaReportar,callback:function(t){e.$set(e.agropecuario,"medidaReportar",t)},expression:"agropecuario.medidaReportar"}})],1),e.verCampoCargaReportar?a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-autocomplete",{attrs:{label:"¿Equivalencia en kilos de la carga?",hint:"¿Equivalencia en kilos de la carga?",items:e.equivaleKilosReportar,"item-value":"codequivcarga","item-text":"eqvcargakg",dense:"",solo:"",flat:"",clearable:"",outlined:"",filled:""},model:{value:e.agropecuario.equivaleKilosReportar,callback:function(t){e.$set(e.agropecuario,"equivaleKilosReportar",t)},expression:"agropecuario.equivaleKilosReportar"}})],1):e._e(),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"Precio por kilo",hint:"Precio por kilo",dense:"",solo:"",flat:"",outlined:"",filled:"","prepend-inner-icon":"mdi-currency-usd",onkeypress:e.regexNumber},on:{blur:function(t){return e.formatCurrency("agropecuario","totalReportado")}},model:{value:e.agropecuario.totalReportado,callback:function(t){e.$set(e.agropecuario,"totalReportado",t)},expression:"agropecuario.totalReportado"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"Cantidad de dinero total que proyectaba recibir por la venta total de la producción",hint:"Dinero proyectado a recibir por la venta de la producción.",dense:"",solo:"",flat:"",outlined:"",filled:"","prepend-inner-icon":"mdi-currency-usd",onkeypress:e.regexNumber},on:{blur:function(t){return e.formatCurrency("agropecuario","totalProyectaVenta")}},model:{value:e.agropecuario.totalProyectaVenta,callback:function(t){e.$set(e.agropecuario,"totalProyectaVenta",t)},expression:"agropecuario.totalProyectaVenta"}})],1)],1)],1),a("v-row",{staticClass:"mt-5",attrs:{dense:""}},[a("v-col",{staticClass:"container-titles mt-5",attrs:{cols:"12",md:"12",sm:"12",align:"center",justify:"center"}},[a("p",{staticClass:"color-black font-weight-bold font-16"},[e._v("Costos de producción (por favor indique los costos asumidos en este último ciclo de cultivo)")])])],1),a("v-form",{ref:"formCostoDirect",attrs:{"lazy-validation":""},model:{value:e.validFormCostoDirect,callback:function(t){e.validFormCostoDirect=t},expression:"validFormCostoDirect"}},[a("v-row",{staticClass:"section mt-5",attrs:{dense:""}},[a("v-col",{attrs:{cols:"12",md:"12",sm:"12"}},[a("p",{staticClass:"color-black font-weight-bold"},[e._v("Costos directos")])]),e.verGastoJornal&&Object.keys(e.gastosAutomaticos).length>0?a("v-col",{attrs:{cols:"12",sm:"12",md:"12"}},[a("v-icon",{attrs:{color:"primary"}},[e._v(" mdi-information ")]),e._v(" Los datos cargados por defecto pueden ser cambiados. ")],1):e._e(),a("v-col",{attrs:{cols:"12",sm:"12",md:"4"}},[a("v-text-field",{attrs:{label:"Costo promedio del jornal",hint:"Costo promedio del jornal",dense:"",solo:"",flat:"",outlined:"",filled:"","append-icon":"mdi-currency-usd",onkeypress:e.regexNumber,"prepend-inner-icon":"mdi-decagram",required:"",rules:e.required},on:{blur:function(t){return e.formatCurrency("agropecuario","costoPromeJornal")}},model:{value:e.agropecuario.costoPromeJornal,callback:function(t){e.$set(e.agropecuario,"costoPromeJornal",t)},expression:"agropecuario.costoPromeJornal"}})],1),a("v-col",{attrs:{cols:"12",sm:"12",md:"4"}},[a("v-autocomplete",{attrs:{label:"Actividad",hint:"Actividad",items:e.tipoCostoDirecto,"item-value":"codtipactividad","item-text":"tipactividad",dense:"",solo:"",flat:"",clearable:"",outlined:"",filled:"","prepend-inner-icon":"mdi-decagram",required:"",rules:e.required},on:{change:e.asignarGastoAutomatico},model:{value:e.costoDirectoCampos.idTipoCostoDirecto,callback:function(t){e.$set(e.costoDirectoCampos,"idTipoCostoDirecto",t)},expression:"costoDirectoCampos.idTipoCostoDirecto"}})],1),a("v-col",{attrs:{cols:"12",sm:"12",md:"4"}},[a("v-text-field",{attrs:{label:"Número de jornales",hint:"Número de jornales",type:"number",dense:"",solo:"",flat:"",outlined:"",filled:"",onkeypress:e.regexNumber,"prepend-inner-icon":"mdi-decagram",required:"",rules:e.required},model:{value:e.costoDirectoCampos.noJornales,callback:function(t){e.$set(e.costoDirectoCampos,"noJornales",t)},expression:"costoDirectoCampos.noJornales"}})],1),e.verGastoJornal?a("v-col",{attrs:{cols:"12",sm:"12",md:"4"}},[a("v-text-field",{attrs:{label:"Gasto jornales",hint:"Gasto jornales",dense:"",solo:"",flat:"",outlined:"",filled:"","append-icon":"mdi-currency-usd",onkeypress:e.regexNumber,"prepend-inner-icon":"mdi-decagram",required:"",rules:e.required},on:{blur:function(t){return e.formatCurrency("costoDirectoCampos","gastos")}},model:{value:e.costoDirectoCampos.gastos,callback:function(t){e.$set(e.costoDirectoCampos,"gastos",t)},expression:"costoDirectoCampos.gastos"}})],1):e._e(),a("v-col",{attrs:{cols:"12",md:"9",sm:"12"}}),a("v-col",{attrs:{cols:"12",sm:"12",md:"3"}},[a("v-btn",{staticClass:"background-primary-dark button-basic",attrs:{elevation:"2",block:"",raised:"",depressed:""},on:{click:e.agregarCostoDirecto}},[e._v("Agregar costo")])],1),a("v-col",{attrs:{cols:"12",sm:"12",md:"12"}},[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.costoDirectoHeader,items:e.costosDirectos},scopedSlots:e._u([{key:"top",fn:function(){},proxy:!0},{key:"item.actions",fn:function(t){var o=t.item;return[a("v-icon",{attrs:{small:""},on:{click:function(t){return e.deleteCostoDirecto(o)}}},[e._v(" mdi-delete ")])]}}])})],1)],1)],1),a("v-form",{ref:"formCostoInDirect",attrs:{"lazy-validation":""},model:{value:e.validFormCostoInDirect,callback:function(t){e.validFormCostoInDirect=t},expression:"validFormCostoInDirect"}},[a("v-row",{staticClass:"section mt-5",attrs:{dense:""}},[a("v-col",{attrs:{cols:"12",md:"12",sm:"12"}},[a("p",{staticClass:"color-black font-weight-bold"},[e._v("Costos indirectos")])]),a("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[a("v-autocomplete",{attrs:{label:"Rubro",hint:"Rubro",items:e.tipoCostoInDirecto,"item-value":"codrubro","item-text":"rubros",dense:"",solo:"",flat:"",clearable:"",outlined:"",filled:"","prepend-inner-icon":"mdi-decagram",required:"",rules:e.required},model:{value:e.costoIndirectoCampo.tipoCostoInDirecto,callback:function(t){e.$set(e.costoIndirectoCampo,"tipoCostoInDirecto",t)},expression:"costoIndirectoCampo.tipoCostoInDirecto"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[a("v-text-field",{attrs:{label:"Costo generado en pesos colombianos",hint:"Costo generado en pesos colombianos",dense:"",outlined:"",solo:"",flat:"",filled:"",onkeypress:e.regexNumber,"append-icon":"mdi-currency-usd","prepend-inner-icon":"mdi-decagram",required:"",rules:e.required},on:{blur:function(t){return e.formatCurrency("costoIndirectoCampo","costo")}},model:{value:e.costoIndirectoCampo.costo,callback:function(t){e.$set(e.costoIndirectoCampo,"costo",t)},expression:"costoIndirectoCampo.costo"}})],1),a("v-col",{attrs:{cols:"12",md:"9",sm:"12"}}),a("v-col",{attrs:{cols:"12",sm:"12",md:"3"}},[a("v-btn",{staticClass:"background-primary-dark button-basic",attrs:{elevation:"2",block:"",raised:"",depressed:""},on:{click:e.agregarCostoIndirecto}},[e._v("Agregar costo")])],1),a("v-col",{attrs:{cols:"12",sm:"12",md:"12"}},[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.costoIndirectoHeader,items:e.costosIndirectos},scopedSlots:e._u([{key:"top",fn:function(){},proxy:!0},{key:"item.actions",fn:function(t){var o=t.item;return[a("v-icon",{attrs:{small:""},on:{click:function(t){return e.deleteCostoIndirecto(o)}}},[e._v(" mdi-delete ")])]}}])})],1)],1)],1),e.verDatosCredito?a("v-row",{staticClass:"section mt-5",attrs:{dense:""}},[a("v-col",{attrs:{cols:"12",md:"12",sm:"12"}},[a("p",{staticClass:"color-black font-weight-bold"},[e._v("Datos de crédito")])]),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-autocomplete",{attrs:{label:"¿Qué entidad bancaria le dio el crédito?",hint:"¿Qué entidad bancaria le dio el crédito?",items:e.entidadesBancarias,"item-value":"codentcredito","item-text":"entcredito",dense:"",solo:"",flat:"",clearable:"",outlined:"",filled:""},model:{value:e.agropecuario.idEntidadesBancarias,callback:function(t){e.$set(e.agropecuario,"idEntidadesBancarias",t)},expression:"agropecuario.idEntidadesBancarias"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"¿(%) costos de cultivo que cubrió con el crédito?",hint:"¿(%) costos de cultivo que cubrió con el crédito?",type:"number",dense:"",solo:"",flat:"",outlined:"",filled:""},model:{value:e.agropecuario.porceCostoCredito,callback:function(t){e.$set(e.agropecuario,"porceCostoCredito",t)},expression:"agropecuario.porceCostoCredito"}})],1)],1):e._e(),e.verDatosAeguramiento?a("v-row",{staticClass:"section mt-5",attrs:{dense:""}},[a("v-col",{attrs:{cols:"12",md:"12",sm:"12"}},[a("p",{staticClass:"color-black font-weight-bold"},[e._v("Datos de aseguramiento")])]),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"Valor del cultivo asegurado",hint:"Valor del cultivo asegurado",dense:"",solo:"",flat:"",outlined:"",filled:"","append-icon":"mdi-currency-usd",onkeypress:e.regexNumber},on:{blur:function(t){return e.formatCurrency("agropecuario","valCultiAsegurado")}},model:{value:e.agropecuario.valCultiAsegurado,callback:function(t){e.$set(e.agropecuario,"valCultiAsegurado",t)},expression:"agropecuario.valCultiAsegurado"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-autocomplete",{attrs:{label:"Tipo de seguro",hint:"Tipo de seguro",items:e.tiposSeguro,"item-value":"codtipseguro","item-text":"tipseguro",dense:"",solo:"",flat:"",clearable:"",outlined:"",filled:""},model:{value:e.agropecuario.tipoSeguro,callback:function(t){e.$set(e.agropecuario,"tipoSeguro",t)},expression:"agropecuario.tipoSeguro"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"Porcentaje de resiembra",hint:"Porcentaje de resiembra",dense:"",outlined:"",solo:"",flat:"",filled:"",onkeypress:e.regexNumber},model:{value:e.agropecuario.porceResiembra,callback:function(t){e.$set(e.agropecuario,"porceResiembra",t)},expression:"agropecuario.porceResiembra"}})],1)],1):e._e(),a("v-row",{staticClass:"section mt-5",attrs:{dense:""}},[a("v-col",{staticClass:"ml-1",attrs:{cols:"12",sm:"12",md:"12"}},[a("v-switch",{attrs:{inset:"",label:"Afectaciones en maquinaria, equipo e insumos agrícolas almacenados"},on:{click:e.afectacionMaquinaria},model:{value:e.agropecuario.afectaMaquinaria,callback:function(t){e.$set(e.agropecuario,"afectaMaquinaria",t)},expression:"agropecuario.afectaMaquinaria"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[e.agropecuario.afectaMaquinaria?a("v-autocomplete",{attrs:{label:"Tipo de maquinaria",hint:"Tipo de maquinaria",items:e.infraEstructuraTipo,"item-value":"codInfraestructura","item-text":"infraestructura",dense:"",solo:"",flat:"",clearable:"",outlined:"",filled:""},on:{change:function(t){return e.mostrarTipoInfraestructura()}},model:{value:e.idTipoMaquinaria,callback:function(t){e.idTipoMaquinaria=t},expression:"idTipoMaquinaria"}}):e._e()],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[e.agropecuario.afectaMaquinaria?a("v-btn",{staticClass:"mx-2 background-primary-dark",attrs:{fab:"",dark:"",small:""},on:{click:e.addInfraestructura}},[a("v-icon",{attrs:{dark:""}},[e._v(" mdi-plus ")])],1):e._e()],1),a("v-row",{staticClass:"mt-1"},[e.dataTableSemilla.length>0?a("v-col",{attrs:{cols:"12",sm:"12",md:"6"}},[a("p",{staticClass:"color-black font-weight-bold",attrs:{align:"center",justify:"center"}},[e._v("Semilla")]),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.semillaHeader,items:e.dataTableSemilla},scopedSlots:e._u([{key:"top",fn:function(){},proxy:!0},{key:"item.actions",fn:function(t){var o=t.item;return[a("v-icon",{attrs:{small:""},on:{click:function(t){return e.deleteSemilla(o)}}},[e._v(" mdi-delete ")])]}}],null,!1,3022107683)})],1):e._e(),e.dataTableFertilizante.length>0?a("v-col",{attrs:{cols:"12",sm:"12",md:"6"}},[a("p",{staticClass:"color-black font-weight-bold",attrs:{align:"center",justify:"center"}},[e._v("Fertilizante")]),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.fertilizanteHeader,items:e.dataTableFertilizante},scopedSlots:e._u([{key:"top",fn:function(){},proxy:!0},{key:"item.actions",fn:function(t){var o=t.item;return[a("v-icon",{attrs:{small:""},on:{click:function(t){return e.deleteFertilizante(o)}}},[e._v(" mdi-delete ")])]}}],null,!1,3412113501)})],1):e._e(),e.dataTablePlaguicida.length>0?a("v-col",{attrs:{cols:"12",sm:"12",md:"6"}},[a("p",{staticClass:"color-black font-weight-bold",attrs:{align:"center",justify:"center"}},[e._v("Plaguicida")]),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.plaguicidaHeader,items:e.dataTablePlaguicida},scopedSlots:e._u([{key:"top",fn:function(){},proxy:!0},{key:"item.actions",fn:function(t){var o=t.item;return[a("v-icon",{attrs:{small:""},on:{click:function(t){return e.deletePlaguicida(o)}}},[e._v(" mdi-delete ")])]}}],null,!1,3672467481)})],1):e._e(),e.dataTableMaquinaria.length>0?a("v-col",{attrs:{cols:"12",sm:"12",md:"6"}},[a("p",{staticClass:"color-black font-weight-bold",attrs:{align:"center",justify:"center"}},[e._v("Maquinaria")]),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.maquinariaHeader,items:e.dataTableMaquinaria},scopedSlots:e._u([{key:"top",fn:function(){},proxy:!0},{key:"item.actions",fn:function(t){var o=t.item;return[a("v-icon",{attrs:{small:""},on:{click:function(t){return e.deleteMaquinaria(o)}}},[e._v(" mdi-delete ")])]}}],null,!1,3420571076)})],1):e._e()],1)],1),a("v-row",{staticClass:"mt-5"},[a("v-col",{attrs:{cols:"12",md:"9",sm:"12"}}),a("v-col",{attrs:{cols:"12",md:"3",sm:"12"}},[a("v-btn",{staticClass:"success button-basic",attrs:{elevation:"2",block:"",raised:"",depressed:""},on:{click:function(t){return e.guardarAgropecuario()}}},[e._v(" Guardar sistema ")])],1)],1)],1)],1)],1)],1)],1),a("v-container",[a("v-dialog",{attrs:{persistent:"","max-width":"80%"},model:{value:e.modalMaquinaria,callback:function(t){e.modalMaquinaria=t},expression:"modalMaquinaria"}},[a("v-card",{staticClass:"border-basic",attrs:{flat:""}},[a("div",{staticStyle:{"text-align":"right"}},[a("v-btn",{staticClass:"color-primary-dark",attrs:{icon:"",dark:""},on:{click:function(t){e.modalMaquinaria=!1}}},[a("v-icon",[e._v("mdi-close-circle")])],1)],1),a("v-card-title",{attrs:{"primary-title":""}},[a("v-container",{staticClass:"color-primary-dark font-weight-bold"},[a("v-row",{staticClass:"align-center justify-center container-titles",staticStyle:{height:"80px"},attrs:{dense:""}},[a("v-col",{attrs:{cols:"12",md:"12",sm:"12"}},[a("center",[e._v(e._s(e.nombreMaquinariaSelect))])],1)],1)],1)],1),a("v-card-text",[a("v-form",{ref:"formInfraestructura",attrs:{"lazy-validation":""},model:{value:e.validInfraestructura,callback:function(t){e.validInfraestructura=t},expression:"validInfraestructura"}},[e.verCamposSemilla?a("v-container",[a("v-row",{staticClass:"section",attrs:{dense:""}},[a("v-col",{attrs:{cols:"12",sm:"12",md:"12"}}),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-autocomplete",{attrs:{label:"¿Cuál es el nombre del cultivo?",hint:"¿Cuál es el nombre del cultivo?",items:e.tipoCultivo,"search-input":e.semilla.nameTipoCultivo,"item-value":"codcultivo","item-text":"tipocultivo",dense:"",solo:"",flat:"",clearable:"",outlined:"",filled:"","prepend-inner-icon":"mdi-decagram",required:"",rules:e.required},on:{"update:searchInput":function(t){return e.$set(e.semilla,"nameTipoCultivo",t)},"update:search-input":function(t){return e.$set(e.semilla,"nameTipoCultivo",t)}},model:{value:e.semilla.tipoCultivo,callback:function(t){e.$set(e.semilla,"tipoCultivo",t)},expression:"semilla.tipoCultivo"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"Cantidad de semilla almacenada",hint:"Cantidad de semilla almacenada",type:"number",dense:"",solo:"",flat:"",outlined:"",filled:"",onkeypress:e.regexNumber,"prepend-inner-icon":"mdi-decagram",required:"",rules:e.required},model:{value:e.semilla.canSemillas,callback:function(t){e.$set(e.semilla,"canSemillas",t)},expression:"semilla.canSemillas"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"Valor en pesos de la afectación",hint:"Valor en pesos de la afectación",dense:"",solo:"",flat:"",outlined:"","append-icon":"mdi-currency-usd",filled:"",onkeypress:e.regexNumber,"prepend-inner-icon":"mdi-decagram",required:"",rules:e.required},on:{blur:function(t){return e.formatCurrency("semilla","valPesos")}},model:{value:e.semilla.valPesos,callback:function(t){e.$set(e.semilla,"valPesos",t)},expression:"semilla.valPesos"}})],1)],1),a("v-row",{staticClass:"section mt-5",attrs:{dense:""}},[a("v-col",{attrs:{cols:"12",md:"12",sm:"12"}},[a("p",{staticClass:"color-black font-weight-bold"},[e._v("Material de la siembra")])]),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-autocomplete",{attrs:{label:"¿Qué tipo de material utilizó para la siembra?",hint:"¿Qué tipo de material utilizó para la siembra?",items:e.materiralSiembra,"item-value":"codmaterial","item-text":"material","search-input":e.semilla.nameTipoMaterial,dense:"",solo:"",flat:"",clearable:"",outlined:"",filled:"","prepend-inner-icon":"mdi-decagram",required:"",rules:e.required},on:{"update:searchInput":function(t){return e.$set(e.semilla,"nameTipoMaterial",t)},"update:search-input":function(t){return e.$set(e.semilla,"nameTipoMaterial",t)}},model:{value:e.semilla.materiralSiembra,callback:function(t){e.$set(e.semilla,"materiralSiembra",t)},expression:"semilla.materiralSiembra"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"¿Cantidad semillas utilizadas en la siembra?",hint:"¿Cantidad semillas utilizadas en la siembra?",type:"number",dense:"",outlined:"",solo:"",flat:"",filled:"",onkeypress:e.regexNumber,"prepend-inner-icon":"mdi-decagram",required:"",rules:e.required},model:{value:e.semilla.cantSemillas,callback:function(t){e.$set(e.semilla,"cantSemillas",t)},expression:"semilla.cantSemillas"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-autocomplete",{attrs:{label:"¿Unidad para reportar la cantidad de semilla?",hint:"¿Unidad para reportar la cantidad de semilla?",items:e.medidaSemilla,"item-value":"codundcosecha","item-text":"undcosecha","search-input":e.semilla.nameMedidaSemilla,dense:"",solo:"",flat:"",clearable:"",outlined:"",filled:"","prepend-inner-icon":"mdi-decagram",required:"",rules:e.required},on:{"update:searchInput":function(t){return e.$set(e.semilla,"nameMedidaSemilla",t)},"update:search-input":function(t){return e.$set(e.semilla,"nameMedidaSemilla",t)}},model:{value:e.semilla.medidaSemilla,callback:function(t){e.$set(e.semilla,"medidaSemilla",t)},expression:"semilla.medidaSemilla"}})],1),e.verCampoCargaSemilla?a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-autocomplete",{attrs:{label:"¿Equivalencia en kilos de la carga?",hint:"¿Equivalencia en kilos de la carga?",items:e.equivaleKilos,"item-value":"codequivcarga","item-text":"eqvcargakg",dense:"",solo:"",flat:"",clearable:"",outlined:"",filled:"","prepend-inner-icon":"mdi-decagram",required:"",rules:e.required},model:{value:e.semilla.equivaleKilos,callback:function(t){e.$set(e.semilla,"equivaleKilos",t)},expression:"semilla.equivaleKilos"}})],1):e._e(),e.verOtraUnidadSemilla?a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"ingrese la otra equivalencia",hint:"ingrese la otra equivalencia",type:"number",dense:"",outlined:"",solo:"",flat:"",filled:"",onkeypress:e.regexNumber,"prepend-inner-icon":"mdi-decagram",required:"",rules:e.required},model:{value:e.semilla.nuevaEquivalencia,callback:function(t){e.$set(e.semilla,"nuevaEquivalencia",t)},expression:"semilla.nuevaEquivalencia"}})],1):e._e(),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-autocomplete",{attrs:{label:"¿Cuál es la fuente de la semilla?",hint:"¿Cuál es la fuente de la semilla?",items:e.fuenteSemilla,"item-value":"codfuensemilla","item-text":"fuensemilla","search-input":e.semilla.nameFuenteSemilla,dense:"",solo:"",flat:"",clearable:"",outlined:"",filled:"","prepend-inner-icon":"mdi-decagram",required:"",rules:e.required},on:{"update:searchInput":function(t){return e.$set(e.semilla,"nameFuenteSemilla",t)},"update:search-input":function(t){return e.$set(e.semilla,"nameFuenteSemilla",t)}},model:{value:e.semilla.fuenteSemilla,callback:function(t){e.$set(e.semilla,"fuenteSemilla",t)},expression:"semilla.fuenteSemilla"}})],1)],1)],1):e._e(),e.verCamposFertilizante?a("v-row",{staticClass:"section",attrs:{dense:""}},[a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-autocomplete",{attrs:{label:"Tipo de fertilizante",hint:"Tipo de fertilizante",items:e.tiposFertilizantes,"item-value":"codfertilizante","item-text":"tipofertilizante","search-input":e.fertilizante.nameTipoFertilizante,dense:"",solo:"",flat:"",clearable:"",outlined:"",filled:"","prepend-inner-icon":"mdi-decagram",required:"",rules:e.required},on:{"update:searchInput":function(t){return e.$set(e.fertilizante,"nameTipoFertilizante",t)},"update:search-input":function(t){return e.$set(e.fertilizante,"nameTipoFertilizante",t)}},model:{value:e.fertilizante.idTipoFertilizante,callback:function(t){e.$set(e.fertilizante,"idTipoFertilizante",t)},expression:"fertilizante.idTipoFertilizante"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"Nombre",hint:"Nombre",dense:"",solo:"",flat:"",outlined:"",filled:"","prepend-inner-icon":"mdi-decagram",required:"",rules:e.required},model:{value:e.fertilizante.nombre,callback:function(t){e.$set(e.fertilizante,"nombre",t)},expression:"fertilizante.nombre"}})],1),a("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"auto"},scopedSlots:e._u([{key:"activator",fn:function(t){var o=t.on,i=t.attrs;return[a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-text-field",e._g(e._b({attrs:{label:"Fecha adquisición",hint:"Fecha adquisición",readonly:"",dense:"",solo:"",flat:"",outlined:"",filled:"","prepend-inner-icon":"mdi-decagram",required:"",rules:e.required},model:{value:e.fertilizante.fechaAdquisicion,callback:function(t){e.$set(e.fertilizante,"fechaAdquisicion",t)},expression:"fertilizante.fechaAdquisicion"}},"v-text-field",i,!1),o))],1)]}}],null,!1,1750279289),model:{value:e.fertilizante.menuFechaAdquisicion,callback:function(t){e.$set(e.fertilizante,"menuFechaAdquisicion",t)},expression:"fertilizante.menuFechaAdquisicion"}},[a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-date-picker",{attrs:{outlined:""},on:{input:function(t){e.fertilizante.menuFechaAdquisicion=!1}},model:{value:e.fertilizante.fechaAdquisicion,callback:function(t){e.$set(e.fertilizante,"fechaAdquisicion",t)},expression:"fertilizante.fechaAdquisicion"}})],1)],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"Cantidad de fertilizante afectado Kg o Litros",hint:"Cantidad de fertilizante afectado Kg o Litros",type:"number",dense:"",solo:"",flat:"",outlined:"",filled:"",onkeypress:e.regexNumber,"prepend-inner-icon":"mdi-decagram",required:"",rules:e.required},model:{value:e.fertilizante.canFertilizante,callback:function(t){e.$set(e.fertilizante,"canFertilizante",t)},expression:"fertilizante.canFertilizante"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"Valor en pesos de los fertilizantes almacenados",hint:"Valor en pesos de los fertilizantes almacenados",dense:"",solo:"",flat:"","append-icon":"mdi-currency-usd",outlined:"",filled:"",onkeypress:e.regexNumber,"prepend-inner-icon":"mdi-decagram",required:"",rules:e.required},on:{blur:function(t){return e.formatCurrency("fertilizante","valPesos")}},model:{value:e.fertilizante.valPesos,callback:function(t){e.$set(e.fertilizante,"valPesos",t)},expression:"fertilizante.valPesos"}})],1)],1):e._e(),e.verCamposPlaguicidas?a("v-row",{staticClass:"section",attrs:{dense:""}},[a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-autocomplete",{attrs:{label:"Tipo de plaguicida almacenado",hint:"Tipo de plaguicida almacenado",items:e.tiposPlaguicidas,"item-value":"codplaguicida","item-text":"tipoplaguicida","search-input":e.plaguicidas.nameTipoPlaguicida,dense:"",solo:"",flat:"",clearable:"",outlined:"",filled:"","prepend-inner-icon":"mdi-decagram",required:"",rules:e.required},on:{"update:searchInput":function(t){return e.$set(e.plaguicidas,"nameTipoPlaguicida",t)},"update:search-input":function(t){return e.$set(e.plaguicidas,"nameTipoPlaguicida",t)}},model:{value:e.plaguicidas.idTipoPlaguicida,callback:function(t){e.$set(e.plaguicidas,"idTipoPlaguicida",t)},expression:"plaguicidas.idTipoPlaguicida"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-autocomplete",{attrs:{label:"Presentación",hint:"Presentación",items:e.presentacion,"item-value":"codpresentacion","item-text":"presentacion","search-input":e.plaguicidas.nameTipoPresentacion,solo:"",flat:"",clearable:"",dense:"",outlined:"",filled:"","prepend-inner-icon":"mdi-decagram",required:"",rules:e.required},on:{"update:searchInput":function(t){return e.$set(e.plaguicidas,"nameTipoPresentacion",t)},"update:search-input":function(t){return e.$set(e.plaguicidas,"nameTipoPresentacion",t)}},model:{value:e.plaguicidas.idTipoPresentacion,callback:function(t){e.$set(e.plaguicidas,"idTipoPresentacion",t)},expression:"plaguicidas.idTipoPresentacion"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"Cantidad de plaguicidas almacenados afectados (Kg)",hint:"Cantidad de plaguicidas almacenados afectados (Kg)","persistent-hint":"",type:"number",dense:"",solo:"",flat:"",outlined:"",filled:"",onkeypress:e.regexNumber,"prepend-inner-icon":"mdi-decagram",required:"",rules:e.required},model:{value:e.plaguicidas.cantPlaguicidaKg,callback:function(t){e.$set(e.plaguicidas,"cantPlaguicidaKg",t)},expression:"plaguicidas.cantPlaguicidaKg"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"Cantidad de plaguicidas almacenados afectados (Litros)",hint:"Cantidad de plaguicidas almacenados afectados (Litros)","persistent-hint":"",type:"number",dense:"",solo:"",flat:"",outlined:"",filled:"",onkeypress:e.regexNumber,"prepend-inner-icon":"mdi-decagram",required:"",rules:e.required},model:{value:e.plaguicidas.cantPlaguicidaLt,callback:function(t){e.$set(e.plaguicidas,"cantPlaguicidaLt",t)},expression:"plaguicidas.cantPlaguicidaLt"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"Valor en pesos de la afectación",hint:"Valor en pesos de la afectación",dense:"",outlined:"",solo:"",flat:"","append-icon":"mdi-currency-usd",filled:"",onkeypress:e.regexNumber,"prepend-inner-icon":"mdi-decagram",required:"",rules:e.required},on:{blur:function(t){return e.formatCurrency("plaguicidas","valPesos")}},model:{value:e.plaguicidas.valPesos,callback:function(t){e.$set(e.plaguicidas,"valPesos",t)},expression:"plaguicidas.valPesos"}})],1)],1):e._e(),e.verCamposMaquinaria?a("v-row",{staticClass:"section",attrs:{dense:""}},[a("v-col",{attrs:{cols:"12",sm:"12",md:"12"}},[e.verCamposMaquinaria?a("v-chip",{staticClass:"section",attrs:{dense:""}},[e._v(" Edad del equipo en años: "+e._s(e.calcularEdadEquipo)+" ")]):e._e()],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-autocomplete",{attrs:{label:"Tipo de maquinaria agrícola afectada",hint:"Tipo de maquinaria agrícola afectada",items:e.tipoMaquinariaAgricola,"item-value":"codMaquinaria","item-text":"maquinaria","search-input":e.maquinaria.nameTipoMaquinaria,dense:"",solo:"",flat:"",clearable:"",outlined:"",filled:"","prepend-inner-icon":"mdi-decagram",required:"",rules:e.required},on:{"update:searchInput":function(t){return e.$set(e.maquinaria,"nameTipoMaquinaria",t)},"update:search-input":function(t){return e.$set(e.maquinaria,"nameTipoMaquinaria",t)}},model:{value:e.maquinaria.idTipoMaquinariaAgricola,callback:function(t){e.$set(e.maquinaria,"idTipoMaquinariaAgricola",t)},expression:"maquinaria.idTipoMaquinariaAgricola"}})],1),a("v-menu",{ref:"menu",attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"auto"},scopedSlots:e._u([{key:"activator",fn:function(t){var o=t.on,i=t.attrs;return[a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",e._g(e._b({attrs:{label:"Año de adquisición del equipo",hint:"Año de adquisición del equipo",readonly:"",dense:"",solo:"",flat:"",outlined:"",clearable:"",filled:"","prepend-inner-icon":"mdi-decagram",required:"",rules:e.required},model:{value:e.maquinaria.anoAdquisicion,callback:function(t){e.$set(e.maquinaria,"anoAdquisicion",t)},expression:"maquinaria.anoAdquisicion"}},"v-text-field",i,!1),o))],1)]}}],null,!1,3135693938),model:{value:e.menuFechaAno,callback:function(t){e.menuFechaAno=t},expression:"menuFechaAno"}},[a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-date-picker",{ref:"picker",attrs:{outlined:""},on:{"click:year":function(t){return e.saveYear()},"click:month":!1},model:{value:e.maquinaria.anoAdquisicion,callback:function(t){e.$set(e.maquinaria,"anoAdquisicion",t)},expression:"maquinaria.anoAdquisicion"}})],1)],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"Valor en pesos de la afectación",hint:"Valor en pesos de la afectación",dense:"",solo:"",flat:"","append-icon":"mdi-currency-usd",outlined:"",filled:"",onkeypress:e.regexNumber,"prepend-inner-icon":"mdi-decagram",required:"",rules:e.required},on:{blur:function(t){return e.formatCurrency("maquinaria","valorPesos")}},model:{value:e.maquinaria.valorPesos,callback:function(t){e.$set(e.maquinaria,"valorPesos",t)},expression:"maquinaria.valorPesos"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"¿% en que disminuyó su producción por la afectación de la maquinaria?",hint:"¿% en que disminuyó su producción por la afectación de la maquinaria?",dense:"",solo:"",flat:"",outlined:"",filled:"",onkeypress:e.regexNumber,"prepend-inner-icon":"mdi-decagram",required:"",rules:e.required},model:{value:e.maquinaria.porceDisminucion,callback:function(t){e.$set(e.maquinaria,"porceDisminucion",t)},expression:"maquinaria.porceDisminucion"}})],1)],1):e._e()],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{staticClass:"background-primary-dark button-basic",attrs:{elevation:"2",raised:"",depressed:""},on:{click:function(t){e.modalMaquinaria=!1}}},[e._v("Cerrar")]),a("v-btn",{staticClass:"background-primary-dark button-basic",attrs:{elevation:"2",raised:"",depressed:""},on:{click:function(t){return e.agregarTipoInfraestructura()}}},[e._v("Agregar")])],1)],1)],1)],1)],1)},mt=[],pt={name:"agropecuario",props:["obtenerDataAgro","departamento"],data:function(){return{dialogAgropecuario:!1,validFormSectionOne:!0,validFormCostoDirect:!0,validFormCostoInDirect:!0,validInfraestructura:!0,expanded:[],agroHeader:[{text:"Especie Agropecuaria",align:"start",sortable:!1,value:"nameTipoCultivo"},{text:"Unidad de área",align:"start",sortable:!1,value:"nameUnidadArea"},{text:"Área del cultivo",align:"start",sortable:!1,value:"areaCultivo"},{text:"Material siembra",align:"start",sortable:!1,value:"nameMateriralSiembra"},{text:"Acciones",value:"actions",sortable:!1,width:"2%"}],especiesAgropecuario:[],costoDirectoHeader:[{text:"Actividad",align:"start",sortable:!1,value:"actividad"},{text:"No.Jornales",align:"start",sortable:!1,value:"noJornales"},{text:"Gasto",align:"start",sortable:!1,value:"gastos"},{text:"Eliminar",value:"actions",sortable:!1,width:"2%"}],costosDirectos:[],costoIndirectoHeader:[{text:"Rubro",align:"start",sortable:!1,value:"actividad"},{text:"Costo",align:"start",sortable:!1,value:"costo"},{text:"Eliminar",value:"actions",sortable:!1,width:"2%"}],costosIndirectos:[],semillaHeader:[{text:"Tipo cultivo",align:"start",sortable:!1,value:"nameTipoCultivo"},{text:"Cant.Semilla",align:"start",sortable:!1,value:"canSemillas"},{text:"Val.Pesos",align:"start",sortable:!1,value:"valPesos"},{text:"Material",align:"start",sortable:!1,value:"materiralSiembra"},{text:"Material siembra",align:"start",sortable:!1,value:"nameTipoMaterial"},{text:"Cantidad",align:"start",sortable:!1,value:"cantSemillas"},{text:"Unidad medida",align:"start",sortable:!1,value:"nameMedidaSemilla"},{text:"Fuente",align:"start",sortable:!1,value:"nameFuenteSemilla"},{text:"Eliminar",value:"actions",sortable:!1,width:"2%"}],dataTableSemilla:[],fertilizanteHeader:[{text:"Tipo",align:"start",sortable:!1,value:"nameTipoFertilizante"},{text:"Nombre",align:"start",sortable:!1,value:"nombre"},{text:"Fch.Adquisición",align:"start",sortable:!1,value:"fechaAdquisicion"},{text:"Cant.Fertilizante",align:"start",sortable:!1,value:"canFertilizante"},{text:"Val.Pesos",align:"start",sortable:!1,value:"valPesos"},{text:"Eliminar",value:"actions",sortable:!1,width:"2%"}],dataTableFertilizante:[],plaguicidaHeader:[{text:"Tipo",align:"start",sortable:!1,value:"nameTipoPlaguicida"},{text:"Presentación",align:"start",sortable:!1,value:"nameTipoPresentacion"},{text:"Cant.Plaguicida Kg",align:"start",sortable:!1,value:"cantPlaguicidaKg"},{text:"Cant.Plaguicida Lt",align:"start",sortable:!1,value:"cantPlaguicidaLt"},{text:"Val.Pesos",align:"start",sortable:!1,value:"valPesos"},{text:"Eliminar",value:"actions",sortable:!1,width:"2%"}],dataTablePlaguicida:[],maquinariaHeader:[{text:"Tipo",align:"start",sortable:!1,value:"nameTipoMaquinaria"},{text:"Año aduisición",align:"start",sortable:!1,value:"anoAdquisicion"},{text:"Val.Pesos",align:"start",sortable:!1,value:"valorPesos"},{text:"%Disminución",align:"start",sortable:!1,value:"porceDisminucion"},{text:"Eliminar",value:"actions",sortable:!1,width:"2%"}],dataTableMaquinaria:[],agropecuario:{},tipoCultivo:[],unidadArea:[],materiralSiembra:[],cantSemillas:[],medidaSemilla:[],equivaleKilos:[],fuenteSemilla:[],medidaCantCosechada:[],equivaleKilosCosecha:[],medidaReportar:[],equivaleKilosReportar:[],costoDirectoCampos:{},costoIndirectoCampo:{},tipoCostoDirecto:[],tipoCostoInDirecto:[],entidadesBancarias:[],idEntidadesBancarias:"",tiposSeguro:[],infraEstructuraTipo:[],idTipoMaquinaria:"",modalMaquinaria:!1,maquinariasHeaders:[],maquinarias:[],nombreMaquinariaSelect:"",semilla:{},verSemilla:!1,fertilizante:{},tiposFertilizantes:[],plaguicidas:{},tiposPlaguicidas:[],presentacion:[],maquinaria:{},tipoMaquinariaAgricola:[],menuFechaAno:!1,calcularEdadEquipo:0,gastosAutomaticos:{},editedIndex:-1,regexNumber:"return (event.charCode >= 48 && event.charCode <= 57 || event.charCode == 46)",required:[function(e){return!!e||"Campo requerido"}]}},mounted:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.dataAgropecuario();case 2:return t.next=4,e.edicionAgropecuario();case 4:case"end":return t.stop()}}),t)})))()},watch:{menuFechaAno:function(e){var t=this;console.log(e),e&&this.$nextTick((function(){return t.$refs.picker.activePicker="YEAR"}))}},methods:{dataAgropecuario:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,m("agricola",!0);case 3:a=t.sent,e.addDataCampos(a),t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))()},edicionAgropecuario:function(){var e=this.$route.params.evento;void 0!==e&&e.dataEspecies.agropecuario.length>0&&(this.especiesAgropecuario=e.dataEspecies.agropecuario)},addDataCampos:function(e){this.tipoCultivo=e.cropType,this.unidadArea=e.areaUnity,this.materiralSiembra=e.plantingMaterial,this.medidaSemilla=e.harvestUnity,this.equivaleKilos=e.equivCharge,this.fuenteSemilla=e.seedSource,this.medidaCantCosechada=e.harvestUnity,this.equivaleKilosCosecha=e.equivCharge,this.medidaReportar=e.harvestUnity,this.equivaleKilosReportar=e.equivCharge,this.tipoCostoDirecto=e.directCosts,this.tipoCostoInDirecto=e.indirectCosts,this.entidadesBancarias=e.bankingEntity,this.tiposSeguro=e.assruanceType,this.infraEstructuraTipo=e.infraestructureType,this.tiposFertilizantes=e.fertilizerType,this.tiposPlaguicidas=e.pesticideType,this.presentacion=e.presentation,this.tipoMaquinariaAgricola=e.machineryData},agregarCostoDirecto:function(){if(this.$refs.formCostoDirect.validate()){var e=this.costoDirectoCampos.idTipoCostoDirecto,t=this.tipoCostoDirecto.filter((function(t){return t.codtipactividad===e}));this.costoDirectoCampos.actividad=t[0]["tipactividad"],this.costosDirectos.push(this.costoDirectoCampos),this.costoDirectoCampos={}}},deleteCostoDirecto:function(e){var t=this;this.$swal({title:"Confirmación",text:"Eliminar costo directo?",icon:"warning",showCancelButton:!0,confirmButtonText:"Confirmar",cancelButtonText:"Cancelar",showCloseButton:!0,showLoaderOnConfirm:!0}).then((function(a){if(a.value){var o=t.costosDirectos.indexOf(e);t.costosDirectos.splice(o,1)}}))},agregarCostoIndirecto:function(){if(this.$refs.formCostoInDirect.validate()){var e=this.costoIndirectoCampo.tipoCostoInDirecto,t=this.tipoCostoInDirecto.filter((function(t){return t.codrubro===e}));this.costoIndirectoCampo.actividad=t[0]["rubros"],this.costosIndirectos.push(this.costoIndirectoCampo),this.costoIndirectoCampo={}}},deleteCostoIndirecto:function(e){var t=this;this.$swal({title:"Confirmación",text:"Eliminar costo indirecto?",icon:"warning",showCancelButton:!0,confirmButtonText:"Confirmar",cancelButtonText:"Cancelar",showCloseButton:!0,showLoaderOnConfirm:!0}).then((function(a){if(a.value){var o=t.costosIndirectos.indexOf(e);t.costosIndirectos.splice(o,1)}}))},mostrarTipoInfraestructura:function(){this.modalMaquinaria=!0;var e=this.idTipoMaquinaria,t=this.infraEstructuraTipo.filter((function(t){return t.codInfraestructura===e}));this.nombreMaquinariaSelect=t[0]["infraestructura"]},addInfraestructura:function(){this.idTipoMaquinaria&&this.mostrarTipoInfraestructura()},agregarTipoInfraestructura:function(){if(this.$refs.formInfraestructura.validate()){var e=parseInt(this.idTipoMaquinaria);1===e&&(this.dataTableSemilla.push(this.semilla),this.semilla={}),2===e&&(this.dataTableFertilizante.push(this.fertilizante),this.fertilizante={}),3===e&&(this.dataTablePlaguicida.push(this.plaguicidas),this.plaguicidas={}),4===e&&(this.dataTableMaquinaria.push(this.maquinaria),this.maquinaria={},this.calcularEdadEquipo=0),this.modalMaquinaria=!1}},deleteSemilla:function(e){var t=this;this.$swal({title:"Confirmación",text:"Eliminar semilla?",icon:"warning",showCancelButton:!0,confirmButtonText:"Confirmar",cancelButtonText:"Cancelar",showCloseButton:!0,showLoaderOnConfirm:!0}).then((function(a){if(a.value){var o=t.dataTableSemilla.indexOf(e);t.dataTableSemilla.splice(o,1)}}))},deleteFertilizante:function(e){var t=this;this.$swal({title:"Confirmación",text:"Eliminar fertilizante?",icon:"warning",showCancelButton:!0,confirmButtonText:"Confirmar",cancelButtonText:"Cancelar",showCloseButton:!0,showLoaderOnConfirm:!0}).then((function(a){if(a.value){var o=t.dataTableFertilizante.indexOf(e);t.dataTableFertilizante.splice(o,1)}}))},deletePlaguicida:function(e){var t=this;this.$swal({title:"Confirmación",text:"Eliminar plaguicida?",icon:"warning",showCancelButton:!0,confirmButtonText:"Confirmar",cancelButtonText:"Cancelar",showCloseButton:!0,showLoaderOnConfirm:!0}).then((function(a){if(a.value){var o=t.dataTablePlaguicida.indexOf(e);t.dataTablePlaguicida.splice(o,1)}}))},deleteMaquinaria:function(e){var t=this;this.$swal({title:"Confirmación",text:"Eliminar maquinaria?",icon:"warning",showCancelButton:!0,confirmButtonText:"Confirmar",cancelButtonText:"Cancelar",showCloseButton:!0,showLoaderOnConfirm:!0}).then((function(a){if(a.value){var o=t.dataTableMaquinaria.indexOf(e);t.dataTableMaquinaria.splice(o,1)}}))},saveYear:function(){var e=this.$refs.picker.$data.inputYear;this.maquinaria.anoAdquisicion=e+"",this.$refs.picker.activePicker="YEAR",this.menuFechaAno=!1;var t=new Date,a=t.getFullYear();this.calcularEdadEquipo=a>e?a-e:0},guardarAgropecuario:function(){if(this.$refs.formSectionOne.validate()){if(0===this.costosDirectos.length||0===this.costosIndirectos.length)return void this.$swal({icon:"error",text:"No se han registrados costos directos o indirectos.",confirmButtonText:"Aceptar"});this.agropecuario.costosDirectos=this.costosDirectos,this.agropecuario.costosInDirectos=this.costosIndirectos,this.agropecuario.tipoInfraSemilla=this.dataTableSemilla,this.agropecuario.tipoInfraFertilizante=this.dataTableFertilizante,this.agropecuario.tipoInfraPlaguicidas=this.dataTablePlaguicida,this.agropecuario.tipoInfraMaquinaria=this.dataTableMaquinaria,this.editedIndex>-1?Object.assign(this.especiesAgropecuario[this.editedIndex],this.agropecuario):this.especiesAgropecuario.push(this.agropecuario),this.obtenerDataAgro(this.especiesAgropecuario),this.limpiarCampos()}},afectacionMaquinaria:function(){this.agropecuario.afectaMaquinaria||(this.dataTableSemilla=[],this.dataTableFertilizante=[],this.dataTablePlaguicida=[],this.dataTableMaquinaria=[])},editarEspecieAgro:function(e){console.log(e),console.log(e.costosInDirectos),this.editedIndex=this.especiesAgropecuario.indexOf(e),this.costosDirectos=e.costosDirectos,this.costosIndirectos=e.costosInDirectos,this.dataTableSemilla=e.tipoInfraSemilla,this.dataTableFertilizante=e.tipoInfraFertilizante,this.dataTablePlaguicida=e.tipoInfraPlaguicidas,this.dataTableMaquinaria=e.tipoInfraMaquinaria,this.agropecuario=Object.assign({},e),this.dialogAgropecuario=!0},deleteEspecieAgro:function(e){var t=this;this.$swal({title:"Confirmación",text:"Eliminar sistema agropecuario?",icon:"warning",showCancelButton:!0,confirmButtonText:"Confirmar",cancelButtonText:"Cancelar",showCloseButton:!0,showLoaderOnConfirm:!0}).then((function(a){if(a.value){var o=t.especiesAgropecuario.indexOf(e);t.especiesAgropecuario.splice(o,1),t.obtenerDataAgro(t.especiesAgropecuario)}}))},consultarGasto:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a={dpto:e.departamento,especie:e.agropecuario.nombreCultivo},a["dpto"]&&a["especie"]){t.next=3;break}return t.abrupt("return");case 3:return t.prev=3,t.next=6,k.getAgroCalc(a);case 6:o=t.sent,200===o.status?(e.gastosAutomaticos=o.data.message,e.asignarGastoAutomatico()):e.$swal({icon:"error",text:o.message,confirmButtonText:"Aceptar"}),t.next=14;break;case 10:t.prev=10,t.t0=t["catch"](3),console.log(t.t0),e.$swal({icon:"error",text:t.t0.response.data.message,confirmButtonText:"Aceptar"});case 14:case"end":return t.stop()}}),t,null,[[3,10]])})))()},asignarGastoAutomatico:function(){if(Object.keys(this.gastosAutomaticos).length>0)if(this.gastosAutomaticos.gasto.length>0){if(this.costoDirectoCampos.idTipoCostoDirecto){var e=this.costoDirectoCampos.idTipoCostoDirecto,t=this.gastosAutomaticos.gasto.filter((function(t){return t.cod_tipo_actividad==e})),a=this.gastosAutomaticos.jornales.filter((function(t){return"4,5,6,7"===t.cod_tipo_actividad?t.cod_tipo_actividad.split(",").includes(e.toString()):t.cod_tipo_actividad==e}));this.gastosAutomaticos.costoPromJonal.length>0&&(this.agropecuario.costoPromeJornal=this.gastosAutomaticos.costoPromJonal[0].valor),t.length>0&&(this.costoDirectoCampos.gastos=t[0].valor*a[0].valor),a.length>0&&(this.costoDirectoCampos.noJornales=a[0].valor)}}else this.agropecuario.costoPromeJornal="",this.costoDirectoCampos.gastos="",this.costoDirectoCampos.noJornales="",this.gastosAutomaticos={}},cerrarModal:function(){this.limpiarCampos()},limpiarCampos:function(){this.agropecuario={},this.costosDirectos=[],this.costosIndirectos=[],this.dataTableSemilla=[],this.dataTableFertilizante=[],this.dataTablePlaguicida=[],this.dataTableMaquinaria=[],this.gastosAutomaticos={},this.editedIndex=-1,this.dialogAgropecuario=!1},formatCurrency:function(e,t){this[e][t]&&(this[e][t]=this[e][t].toString(),this[e][t]=parseFloat(this[e][t].replace(/[^\d\.]/g,"")),this[e][t]=this.$options.filters.currency(this[e][t]))}},computed:{calcularHectareaSegunArea:function(){var e=0;return 3===this.agropecuario.unidadArea&&(e=1e-4*this.agropecuario.areaCultivo),2===this.agropecuario.unidadArea&&(e=.64*this.agropecuario.areaCultivo),1===this.agropecuario.unidadArea&&(e=this.agropecuario.areaCultivo),4===this.agropecuario.unidadArea&&(e=this.agropecuario.areaCultivo*this.agropecuario.nuevaunidadmetros/1e4),e||0},verCampoCarga:function(){var e=!1;return this.agropecuario.medidaSemilla&&(e=4===this.agropecuario.medidaSemilla),e},verCampoCargaCosecha:function(){var e=!1;return this.agropecuario.medidaCantCosechada&&(e=4===this.agropecuario.medidaCantCosechada),e},verCampoCargaReportar:function(){var e=!1;return this.agropecuario.medidaReportar&&(e=4===this.agropecuario.medidaReportar),e},verGastoJornal:function(){var e=[1,2,3],t=!1;return this.costoDirectoCampos.idTipoCostoDirecto&&(t=e.includes(this.costoDirectoCampos.idTipoCostoDirecto)),t},verDatosCredito:function(){var e=!1,t=this.costosIndirectos.filter((function(e){return 7===e.tipoCostoInDirecto&&parseFloat(e.costo)>0}));return t.length>0&&(e=!0),e},verDatosAeguramiento:function(){var e=!1,t=this.costosIndirectos.filter((function(e){return 4===e.tipoCostoInDirecto&&parseFloat(e.costo)>0}));return t.length>0&&(e=!0),e},verCamposSemilla:function(){var e=!1;return this.idTipoMaquinaria&&(e=1===this.idTipoMaquinaria),e},verCamposFertilizante:function(){var e=!1;return this.idTipoMaquinaria&&(e=2===this.idTipoMaquinaria),e},verCamposPlaguicidas:function(){var e=!1;return this.idTipoMaquinaria&&(e=3===this.idTipoMaquinaria),e},verCamposMaquinaria:function(){var e=!1;return this.idTipoMaquinaria&&(e=4===this.idTipoMaquinaria),e},verCampoCargaSemilla:function(){var e=!1;return 4===this.semilla.medidaSemilla?e=!0:this.semilla.nuevaEquivalencia=null,e},verOtraUnidadSemilla:function(){var e=!1;return 4===this.semilla.medidaSemilla&&6===this.semilla.equivaleKilos&&(e=!0),e}}},vt=pt,ft=Object(E["a"])(vt,dt,mt,!1,null,null,null),ht=ft.exports,bt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-data-table",{staticClass:"elevation-2",attrs:{headers:e.especiesHeader,items:e.itemsEspecieAgregada},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-toolbar",{staticClass:"background-primary-dropdowns border-head-table font-weight-bold",attrs:{flat:""}},[a("span",{staticClass:"mr-2"},[e._v("Sistema pecuario/acuicola")]),a("v-btn",{staticClass:"background-primary-dark",attrs:{outlined:"",elevation:"2",fab:"",dark:"",small:""},on:{click:function(t){e.dialogPecuario=!0}}},[a("v-icon",[e._v("mdi-plus")])],1)],1)]},proxy:!0},{key:"item.actions",fn:function(t){var o=t.item;return[a("v-icon",{attrs:{small:"",color:"#004884"},on:{click:function(t){return e.editarSistemaPecuario(o)}}},[e._v(" mdi-pencil ")]),a("v-icon",{attrs:{small:"",color:"#004884"},on:{click:function(t){return e.eliminarSistemaPecuario(o)}}},[e._v(" mdi-delete ")])]}}])})],1)],1)],1),a("v-dialog",{attrs:{persistent:"",overlay:!1,"max-width":"100%",transition:"dialog-transition"},model:{value:e.dialogPecuario,callback:function(t){e.dialogPecuario=t},expression:"dialogPecuario"}},[a("v-card",{staticClass:"border-basic",attrs:{flat:""}},[a("div",{staticStyle:{"text-align":"right"}},[a("v-btn",{staticClass:"color-primary-dark",attrs:{icon:"",dark:""},on:{click:e.cerrarModal}},[a("v-icon",[e._v("mdi-close-circle")])],1)],1),a("v-card-title",{attrs:{"primary-title":""}},[a("v-container",{staticClass:"color-primary-dark font-weight-bold"},[a("v-row",{staticClass:"align-center justify-center container-titles",staticStyle:{height:"80px"},attrs:{dense:""}},[a("v-col",{attrs:{cols:"12",md:"12",sm:"12"}},[a("center",[e._v("Sistema pecuario y acuicola")])],1)],1)],1)],1),a("v-card-text",[a("v-container",{attrs:{"grid-list-xs":""}},[a("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[a("v-row",{staticClass:"section",attrs:{dense:""}},[a("v-col",{attrs:{cols:"12",md:"12",sm:"12"}},[a("p",{staticClass:"color-black font-weight-bold"},[e._v("Por favor, indique los datos relacionados al sistema pecuario afectado")])]),a("v-col",{attrs:{cols:"12",md:"4",sm:"12"}},[a("v-autocomplete",{attrs:{items:e.sistemas,"item-text":"sistemaafectado","item-value":"codsistemaafectado","search-input":e.dataPecuarioAcuicola.nombreSistema,dense:"",outlined:"",solo:"",flat:"",clearable:"",label:"¿Cuál fue el sistema afectado?",hint:"¿Cuál fue el sistema afectado?","prepend-inner-icon":"mdi-decagram",required:"",rules:e.required},on:{"update:searchInput":function(t){return e.$set(e.dataPecuarioAcuicola,"nombreSistema",t)},"update:search-input":function(t){return e.$set(e.dataPecuarioAcuicola,"nombreSistema",t)},change:e.limpiarTablasSegunSistema},model:{value:e.dataPecuarioAcuicola.sistema,callback:function(t){e.$set(e.dataPecuarioAcuicola,"sistema",t)},expression:"dataPecuarioAcuicola.sistema"}})],1),e.verOtroSistema?a("v-col",{attrs:{cols:"12",md:"4",sm:"12"}},[a("v-text-field",{attrs:{label:"¿Si es otro cuál?",hint:"¿Si es otro cuál?",dense:"",outlined:"",solo:"",flat:"","prepend-inner-icon":"mdi-decagram",required:"",rules:e.required},model:{value:e.dataPecuarioAcuicola.sistemaNuevo,callback:function(t){e.$set(e.dataPecuarioAcuicola,"sistemaNuevo",t)},expression:"dataPecuarioAcuicola.sistemaNuevo"}})],1):e._e()],1),a("v-container",{staticClass:"pa-0"},[a("v-row",{staticClass:"section mt-3",attrs:{dense:""}},[a("v-col",{staticClass:"color-black font-weight-bold",attrs:{cols:"12"}},[e._v("Datos de la especie")]),a("v-col",{attrs:{cols:"12",md:"8",sm:"12"}},[a("v-text-field",{attrs:{label:"Nombre de la línea/raza",hint:"Nombre de la línea/raza",dense:"",outlined:"",solo:"",flat:"","prepend-inner-icon":"mdi-decagram",required:"",rules:e.required},model:{value:e.dataPecuarioAcuicola.nombreRaza,callback:function(t){e.$set(e.dataPecuarioAcuicola,"nombreRaza",t)},expression:"dataPecuarioAcuicola.nombreRaza"}})],1),a("v-col",{attrs:{cols:"12",md:"4",sm:"12"}},[a("v-text-field",{attrs:{label:"Total de animales en su explotación",hint:"Total de animales en su explotación",type:"number",dense:"",outlined:"",solo:"",flat:"",onkeypress:e.regexNumber,"prepend-inner-icon":"mdi-decagram",required:"",rules:e.required},model:{value:e.dataPecuarioAcuicola.numAnimal,callback:function(t){e.$set(e.dataPecuarioAcuicola,"numAnimal",e._n(t))},expression:"dataPecuarioAcuicola.numAnimal"}})],1)],1),a("v-row",{staticClass:"section mt-3",attrs:{dense:""}},[a("v-col",{staticClass:"color-black font-weight-bold",attrs:{cols:"12"}},[e._v("Pesos y medidas de la especie")]),a("v-col",{attrs:{cols:"12",md:"4",sm:"12"}},[a("v-text-field",{attrs:{label:"Peso promedio del animal en su explotación",hint:"Peso promedio del animal en su explotación",type:"number",dense:"",outlined:"",solo:"",flat:"",onkeypress:e.regexNumber},model:{value:e.dataPecuarioAcuicola.pesoAnimal,callback:function(t){e.$set(e.dataPecuarioAcuicola,"pesoAnimal",e._n(t))},expression:"dataPecuarioAcuicola.pesoAnimal"}})],1),a("v-col",{attrs:{cols:"12",md:"4",sm:"12"}},[a("v-autocomplete",{attrs:{items:e.uniMedidaAnimales,"item-text":"undcosecha","item-value":"codundcosecha",dense:"",outlined:"",solo:"",flat:"",clearable:"",label:"Unidad de medida para reportar la cantidad",hint:"Unidad de medida para reportar la cantidad"},model:{value:e.dataPecuarioAcuicola.uniMedidaAnimal,callback:function(t){e.$set(e.dataPecuarioAcuicola,"uniMedidaAnimal",t)},expression:"dataPecuarioAcuicola.uniMedidaAnimal"}})],1),e.verUnidadMedidaNuevo?a("v-col",{attrs:{cols:"12",md:"4",sm:"12"}},[a("v-text-field",{attrs:{label:"Nombre de la otra unidad de medida",hint:"Nombre de la otra unidad de medida",dense:"",outlined:"",solo:"",flat:""},model:{value:e.dataPecuarioAcuicola.nombreUnidadMedidaNuevo,callback:function(t){e.$set(e.dataPecuarioAcuicola,"nombreUnidadMedidaNuevo",t)},expression:"dataPecuarioAcuicola.nombreUnidadMedidaNuevo"}})],1):e._e(),e.verUnidadMedidaNuevo?a("v-col",{attrs:{cols:"12",md:"4",sm:"12"}},[a("v-text-field",{attrs:{label:"Equivalencia en kilos de la otra unidad",hint:"Equivalencia en kilos de la otra unidad",dense:"",outlined:"",solo:"",flat:"","prepend-inner-icon":"mdi-decagram",required:"",rules:e.required,onkeypress:e.regexNumber},model:{value:e.dataPecuarioAcuicola.unidadMedidaNuevo,callback:function(t){e.$set(e.dataPecuarioAcuicola,"unidadMedidaNuevo",t)},expression:"dataPecuarioAcuicola.unidadMedidaNuevo"}})],1):e._e(),e.verPeso?a("v-col",{attrs:{cols:"12",md:"4",sm:"12"}},[a("v-autocomplete",{attrs:{items:e.peso,"item-text":"eqvcargakg","item-value":"codequivcarga",dense:"",outlined:"",solo:"",flat:"",clearable:"",label:"Peso kilos",hint:"Peso kilos"},model:{value:e.dataPecuarioAcuicola.peso,callback:function(t){e.$set(e.dataPecuarioAcuicola,"peso",t)},expression:"dataPecuarioAcuicola.peso"}})],1):e._e(),e.verPesoNuevo?a("v-col",{attrs:{cols:"12",md:"4",sm:"12"}},[a("v-text-field",{attrs:{label:"¿Si es otro cuál?",hint:"Equivalencia en kilos",dense:"",outlined:"",solo:"",flat:"","prepend-inner-icon":"mdi-decagram",required:"",rules:e.required,onkeypress:e.regexNumber},model:{value:e.dataPecuarioAcuicola.pesoNuevo,callback:function(t){e.$set(e.dataPecuarioAcuicola,"pesoNuevo",t)},expression:"dataPecuarioAcuicola.pesoNuevo"}})],1):e._e()],1),a("v-row",{staticClass:"section mt-3",attrs:{dense:""}},[a("v-col",{staticClass:"color-black font-weight-bold",attrs:{cols:"12"}},[e._v("Precio promedio pagado de la especie")]),a("v-col",{attrs:{cols:"12",md:"4",sm:"12"}},[a("v-text-field",{attrs:{label:"Precio promedio pagado o el valor estimado",hint:"Precio pagado estimado por animal en pesos",dense:"",outlined:"",solo:"",flat:"","prepend-inner-icon":"mdi-currency-usd",onkeypress:e.regexNumber},on:{blur:function(t){return e.formatCurrency("dataPecuarioAcuicola","valorAnimal")}},model:{value:e.dataPecuarioAcuicola.valorAnimal,callback:function(t){e.$set(e.dataPecuarioAcuicola,"valorAnimal",t)},expression:"dataPecuarioAcuicola.valorAnimal"}})],1)],1),a("v-row",{staticClass:"section mt-3",attrs:{dense:""}},[a("v-col",{staticClass:"color-black font-weight-bold",attrs:{cols:"12"}},[e._v("Área utilizada")]),a("v-col",{attrs:{cols:"12",md:"4",sm:"12"}},[a("v-text-field",{attrs:{label:"Área que utiliza para la totalidad de animales",hint:"Área que utiliza para la totalidad de animales",dense:"",outlined:"",solo:"",flat:"",onkeypress:e.regexNumber},model:{value:e.dataPecuarioAcuicola.areaAnimal,callback:function(t){e.$set(e.dataPecuarioAcuicola,"areaAnimal",t)},expression:"dataPecuarioAcuicola.areaAnimal"}})],1),a("v-col",{attrs:{cols:"12",md:"4",sm:"12"}},[a("v-autocomplete",{attrs:{items:e.unidadArea,"item-text":"undarea","item-value":"codundarea",dense:"",outlined:"",solo:"",flat:"",clearable:"",label:"Indique la unidad área en que se realiza el reporte",hint:"Indique la unidad área en que se realiza el reporte"},model:{value:e.dataPecuarioAcuicola.unidadArea,callback:function(t){e.$set(e.dataPecuarioAcuicola,"unidadArea",t)},expression:"dataPecuarioAcuicola.unidadArea"}})],1),e.verUnidadAreaNuevo?a("v-col",{attrs:{cols:"12",md:"4",sm:"12"}},[a("v-text-field",{attrs:{label:"¿Si es otro cuál?",hint:"¿Si es otro cuál?",dense:"",outlined:"",solo:"",flat:"","prepend-inner-icon":"mdi-decagram",required:"",rules:e.required},model:{value:e.dataPecuarioAcuicola.unidadAreaNuevo,callback:function(t){e.$set(e.dataPecuarioAcuicola,"unidadAreaNuevo",t)},expression:"dataPecuarioAcuicola.unidadAreaNuevo"}})],1):e._e()],1),a("v-row",{staticClass:"section mt-3",attrs:{dense:""}},[a("v-col",{staticClass:"color-black font-weight-bold",attrs:{cols:"12",md:"12",sm:"12"}},[e._v(" Fecha de inicio actividad productiva o inicio producción ")]),a("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"auto"},scopedSlots:e._u([{key:"activator",fn:function(t){var o=t.on,i=t.attrs;return[a("v-col",{attrs:{cols:"12",md:"4",sm:"12"}},[a("v-text-field",e._g(e._b({attrs:{label:"Inicio actividad productiva o inicio producción",hint:"Inicio actividad productiva o inicio producción",readonly:"",dense:"",outlined:"",solo:"",flat:""},model:{value:e.dataPecuarioAcuicola.fechaProduccion,callback:function(t){e.$set(e.dataPecuarioAcuicola,"fechaProduccion",t)},expression:"dataPecuarioAcuicola.fechaProduccion"}},"v-text-field",i,!1),o))],1)]}}]),model:{value:e.dataPecuarioAcuicola.menuFechaProduccion,callback:function(t){e.$set(e.dataPecuarioAcuicola,"menuFechaProduccion",t)},expression:"dataPecuarioAcuicola.menuFechaProduccion"}},[a("v-col",{attrs:{cols:"12",md:"4",sm:"12"}},[a("v-date-picker",{attrs:{outlined:""},on:{input:function(t){e.dataPecuarioAcuicola.menuFechaProduccion=!1}},model:{value:e.dataPecuarioAcuicola.fechaProduccion,callback:function(t){e.$set(e.dataPecuarioAcuicola,"fechaProduccion",t)},expression:"dataPecuarioAcuicola.fechaProduccion"}})],1)],1)],1),a("v-row",{staticClass:"section mt-3",attrs:{dense:""}},[a("v-col",{staticClass:"color-black font-weight-bold",attrs:{cols:"12"}},[e._v("Exposición de la explotación al evento")]),a("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"auto"},scopedSlots:e._u([{key:"activator",fn:function(t){var o=t.on,i=t.attrs;return[a("v-col",{attrs:{cols:"12",md:"4",sm:"12"}},[a("v-text-field",e._g(e._b({attrs:{label:"Fecha de inicio del evento",hint:"Fecha de inicio del evento",readonly:"",dense:"",outlined:"",solo:"",flat:""},model:{value:e.dataPecuarioAcuicola.fechaIniEvento,callback:function(t){e.$set(e.dataPecuarioAcuicola,"fechaIniEvento",t)},expression:"dataPecuarioAcuicola.fechaIniEvento"}},"v-text-field",i,!1),o))],1)]}}]),model:{value:e.dataPecuarioAcuicola.menuFechaIniEvento,callback:function(t){e.$set(e.dataPecuarioAcuicola,"menuFechaIniEvento",t)},expression:"dataPecuarioAcuicola.menuFechaIniEvento"}},[a("v-col",{attrs:{cols:"12",md:"4",sm:"12"}},[a("v-date-picker",{attrs:{outlined:""},on:{input:function(t){e.dataPecuarioAcuicola.menuFechaIniEvento=!1}},model:{value:e.dataPecuarioAcuicola.fechaIniEvento,callback:function(t){e.$set(e.dataPecuarioAcuicola,"fechaIniEvento",t)},expression:"dataPecuarioAcuicola.fechaIniEvento"}})],1)],1),a("v-col",{attrs:{cols:"12",md:"4",sm:"12"}},[a("v-text-field",{attrs:{label:"Número de animales enfermos o afectados",hint:"Número de animales enfermos o afectados",type:"number",dense:"",outlined:"",solo:"",flat:"",onkeypress:e.regexNumber,"prepend-inner-icon":"mdi-decagram",required:"",rules:e.required},model:{value:e.dataPecuarioAcuicola.numAnimalEnfermos,callback:function(t){e.$set(e.dataPecuarioAcuicola,"numAnimalEnfermos",e._n(t))},expression:"dataPecuarioAcuicola.numAnimalEnfermos"}})],1),a("v-col",{attrs:{cols:"12",md:"4",sm:"12"}},[a("v-text-field",{attrs:{label:"Número de animales hembra muertos",hint:"Número de animales hembra muertos",type:"number",dense:"",outlined:"",solo:"",flat:"",onkeypress:e.regexNumber},model:{value:e.dataPecuarioAcuicola.numAnimalHembMuerto,callback:function(t){e.$set(e.dataPecuarioAcuicola,"numAnimalHembMuerto",e._n(t))},expression:"dataPecuarioAcuicola.numAnimalHembMuerto"}})],1),a("v-col",{attrs:{cols:"12",md:"4",sm:"12"}},[a("v-text-field",{attrs:{label:"Número de animales machos muertos",hint:"Número de animales machos muertos",type:"number",dense:"",outlined:"",solo:"",flat:"",onkeypress:e.regexNumber},model:{value:e.dataPecuarioAcuicola.numAnimalMachMuerto,callback:function(t){e.$set(e.dataPecuarioAcuicola,"numAnimalMachMuerto",e._n(t))},expression:"dataPecuarioAcuicola.numAnimalMachMuerto"}})],1),a("v-col",{attrs:{cols:"12",md:"4",sm:"12"}},[a("v-text-field",{attrs:{label:"Edad promedio en meses de los animales muertos",hint:"Edad promedio en meses de los animales muertos",type:"number",dense:"",outlined:"",solo:"",flat:"",onkeypress:e.regexNumber,"prepend-inner-icon":"mdi-decagram",required:"",rules:e.required},model:{value:e.dataPecuarioAcuicola.edadAnimal,callback:function(t){e.$set(e.dataPecuarioAcuicola,"edadAnimal",e._n(t))},expression:"dataPecuarioAcuicola.edadAnimal"}})],1)],1),a("v-row",{staticClass:"section mt-3",attrs:{dense:""}},[a("v-col",{staticClass:"color-black font-weight-bold",attrs:{cols:"12"}},[e._v("Producción")]),a("v-col",{attrs:{cols:"12",md:"4",sm:"12"}},[a("v-autocomplete",{attrs:{items:e.verTipoProducto,"item-text":"tipprod","item-value":"codtipprod",dense:"",outlined:"",solo:"",flat:"",clearable:"",label:"Ttipo de producto obtenido de los animales",hint:"Tipo de producto obtenido de los animales"},model:{value:e.dataPecuarioAcuicola.tipoProducto,callback:function(t){e.$set(e.dataPecuarioAcuicola,"tipoProducto",t)},expression:"dataPecuarioAcuicola.tipoProducto"}})],1),e.verTipoProductoNuevo?a("v-col",{attrs:{cols:"12",md:"4",sm:"12"}},[a("v-text-field",{attrs:{label:"¿Si es otro cuál?",hint:"¿Si es otro cuál?",dense:"",outlined:"",solo:"",flat:"","prepend-inner-icon":"mdi-decagram",required:"",rules:e.required},model:{value:e.dataPecuarioAcuicola.tipoProductoNuevo,callback:function(t){e.$set(e.dataPecuarioAcuicola,"tipoProductoNuevo",t)},expression:"dataPecuarioAcuicola.tipoProductoNuevo"}})],1):e._e()],1),e.verDatosProduccionSegunProduccion?a("v-row",{staticClass:"section mt-3",attrs:{dense:""}},[a("v-col",{staticClass:"color-black font-weight-bold",attrs:{cols:"12"}},[e._v("Datos de producción")]),a("v-col",{attrs:{cols:"12",md:"4",sm:"12"}},[a("v-text-field",{attrs:{label:"Producción mensual normal",hint:"Producción mensual normal antes de la afectación",dense:"",outlined:"",solo:"",flat:"","prepend-inner-icon":"mdi-decagram",required:"",rules:e.required},model:{value:e.dataPecuarioAcuicola.produMensualAfectacion,callback:function(t){e.$set(e.dataPecuarioAcuicola,"produMensualAfectacion",t)},expression:"dataPecuarioAcuicola.produMensualAfectacion"}})],1),a("v-col",{attrs:{cols:"12",md:"4",sm:"12"}},[a("v-text-field",{attrs:{label:"Producción mensual actual o potencial",hint:"Producción mensual actual o potencial después del evento",dense:"",outlined:"",solo:"",flat:"","prepend-inner-icon":"mdi-decagram",required:"",rules:e.required},model:{value:e.dataPecuarioAcuicola.produPotencial,callback:function(t){e.$set(e.dataPecuarioAcuicola,"produPotencial",t)},expression:"dataPecuarioAcuicola.produPotencial"}})],1),a("v-col",{attrs:{cols:"12",md:"4",sm:"12"}},[a("v-autocomplete",{attrs:{items:e.unidadProduccion,"item-text":"undcosecha","item-value":"codundcosecha",dense:"",outlined:"",solo:"",flat:"",clearable:"",label:"¿Unidades a reportar la producción?",hint:"¿Unidades a reportar la producción?"},model:{value:e.dataPecuarioAcuicola.unidadProdccion,callback:function(t){e.$set(e.dataPecuarioAcuicola,"unidadProdccion",t)},expression:"dataPecuarioAcuicola.unidadProdccion"}})],1),e.kilosPorUnidadProducto?a("v-col",{attrs:{cols:"12",md:"4",sm:"12"}},[a("v-text-field",{attrs:{label:"Cuantos kilos pesa una unidad de producto que usted comercializa",hint:"Cuantos kilos pesa una unidad de producto que usted comercializa",dense:"",outlined:"",solo:"",flat:"","prepend-inner-icon":"mdi-decagram",required:"",rules:e.required,onkeypress:e.regexNumber},model:{value:e.dataPecuarioAcuicola.kilosUnidad,callback:function(t){e.$set(e.dataPecuarioAcuicola,"kilosUnidad",t)},expression:"dataPecuarioAcuicola.kilosUnidad"}})],1):e._e(),e.verOtraUnidadProduccion?a("v-col",{attrs:{cols:"12",md:"4",sm:"12"}},[a("v-text-field",{attrs:{label:"Nombre de la otra unidad de medida",hint:"Nombre de la otra unidad de medida",dense:"",outlined:"",solo:"",flat:"","prepend-inner-icon":"mdi-decagram",required:"",rules:e.required},model:{value:e.dataPecuarioAcuicola.nombreUnidadProduccionNueva,callback:function(t){e.$set(e.dataPecuarioAcuicola,"nombreUnidadProduccionNueva",t)},expression:"dataPecuarioAcuicola.nombreUnidadProduccionNueva"}})],1):e._e(),e.verOtraUnidadProduccion?a("v-col",{attrs:{cols:"12",md:"4",sm:"12"}},[a("v-text-field",{attrs:{label:"Equivalencia en kilos de la otra unidad",hint:"Equivalencia en kilos de la otra unidad",dense:"",outlined:"",solo:"",flat:"","prepend-inner-icon":"mdi-decagram",required:"",rules:e.required,onkeypress:e.regexNumber},model:{value:e.dataPecuarioAcuicola.unidadProduccionNueva,callback:function(t){e.$set(e.dataPecuarioAcuicola,"unidadProduccionNueva",t)},expression:"dataPecuarioAcuicola.unidadProduccionNueva"}})],1):e._e(),e.verUnidadProduccionNuevo?a("v-col",{attrs:{cols:"12",md:"4",sm:"12"}},[a("v-autocomplete",{attrs:{items:e.peso,"item-text":"eqvcargakg","item-value":"codequivcarga",dense:"",outlined:"",solo:"",flat:"",clearable:"",label:"Peso de la carga",hint:"Peso de la carga"},model:{value:e.dataPecuarioAcuicola.pesoProduccion,callback:function(t){e.$set(e.dataPecuarioAcuicola,"pesoProduccion",t)},expression:"dataPecuarioAcuicola.pesoProduccion"}})],1):e._e(),e.verPesoNuevoProduccion?a("v-col",{attrs:{cols:"12",md:"4",sm:"12"}},[a("v-text-field",{attrs:{label:"¿Si es otro cuál?",hint:"Equivalencia en kilos",dense:"",outlined:"",solo:"",flat:"","prepend-inner-icon":"mdi-decagram",required:"",rules:e.required,onkeypress:e.regexNumber},model:{value:e.dataPecuarioAcuicola.pesoProduccionNuevo,callback:function(t){e.$set(e.dataPecuarioAcuicola,"pesoProduccionNuevo",t)},expression:"dataPecuarioAcuicola.pesoProduccionNuevo"}})],1):e._e(),a("v-col",{attrs:{cols:"12",md:"4",sm:"12"}},[a("v-text-field",{attrs:{label:"Precio de venta de la unidad de producto",hint:"Precio de venta de la unidad de producto",dense:"",outlined:"",solo:"",flat:"","prepend-inner-icon":"mdi-currency-usd",onkeypress:e.regexNumber},on:{blur:function(t){return e.formatCurrency("dataPecuarioAcuicola","valorVentaProducto")}},model:{value:e.dataPecuarioAcuicola.valorVentaProducto,callback:function(t){e.$set(e.dataPecuarioAcuicola,"valorVentaProducto",t)},expression:"dataPecuarioAcuicola.valorVentaProducto"}})],1),a("v-col",{staticClass:"ma-2",attrs:{cols:"12",md:"12",sm:"12"}},[e.verHuevoAvicolaSegunProduccion?a("v-switch",{attrs:{inset:"",label:"Usted seleccionó huevos como un producto diferente a la parte avícola"},model:{value:e.dataPecuarioAcuicola.huevosAvicola,callback:function(t){e.$set(e.dataPecuarioAcuicola,"huevosAvicola",t)},expression:"dataPecuarioAcuicola.huevosAvicola"}}):e._e()],1)],1):e._e(),a("v-col",{attrs:{cols:"12",md:"12",sm:"12"}}),a("v-row",{staticClass:"container-titles mt-5",attrs:{dense:""}},[a("v-col",{staticClass:"mt-3 font-16",attrs:{cols:"12",md:"12",sm:"12",align:"center",justify:"center"}},[a("p",{staticClass:"color-black font-weight-bold"},[e._v("Pérdidas pecuarias")])]),a("v-col",{attrs:{cols:"12",md:"12",sm:"12"}},[a("v-chip",{staticClass:"background-primary-dark"},[e._v("El valor estimado de los animales muertos es de: "+e._s(e.valorAnimalesmuertos)+" ")])],1),a("v-col",{attrs:{cols:"12",md:"12",sm:"12"}},[a("v-chip",{staticClass:"background-primary-dark"},[e._v("Pérdida en producción: "+e._s(e.perdidaProduccion))])],1)],1),a("v-row",{staticClass:"section mt-3",attrs:{dense:""}},[a("v-col",{staticClass:"color-black font-weight-bold mt-5",attrs:{cols:"12"}},[a("p",[e._v(" Costos de producción pecuario (indique los gastos asumidos durante el último año en los animales muertos) ")])]),a("v-col",{attrs:{cols:"12",md:"6",sm:"12"}},[a("v-text-field",{attrs:{label:"Meses para recuperar las perdidas pecuarias",hint:"Meses para recuperar las perdidas pecuarias",dense:"",outlined:"",solo:"",flat:"",onkeypress:e.regexNumber},model:{value:e.dataPecuarioAcuicola.mesesRecuperarPecuaria,callback:function(t){e.$set(e.dataPecuarioAcuicola,"mesesRecuperarPecuaria",t)},expression:"dataPecuarioAcuicola.mesesRecuperarPecuaria"}})],1)],1)],1)],1),a("v-form",{ref:"formCostoVariable",attrs:{"lazy-validation":""},model:{value:e.validCostoVariable,callback:function(t){e.validCostoVariable=t},expression:"validCostoVariable"}},[a("v-row",{staticClass:"section mt-3",attrs:{dense:""}},[a("v-col",{staticClass:"color-black font-weight-bold",attrs:{cols:"12",md:"12",sm:"12"}},[a("p",[e._v(" Costos variables pecuarios ")])]),a("v-col",{attrs:{cols:"12",md:"6",sm:"12"}},[a("v-autocomplete",{attrs:{items:e.tipoCostosVariable,"item-text":"actividad","item-value":"codactividad","search-input":e.costosVariable.nameCostoVariable,dense:"",outlined:"",solo:"",flat:"",clearable:"",label:"Actividad",hint:"Actividad","prepend-inner-icon":"mdi-decagram",required:"",rules:e.required},on:{"update:searchInput":function(t){return e.$set(e.costosVariable,"nameCostoVariable",t)},"update:search-input":function(t){return e.$set(e.costosVariable,"nameCostoVariable",t)}},model:{value:e.costosVariable.codCostoVariable,callback:function(t){e.$set(e.costosVariable,"codCostoVariable",t)},expression:"costosVariable.codCostoVariable"}})],1),a("v-col",{attrs:{cols:"12",md:"6",sm:"12"}},[a("v-text-field",{attrs:{label:"Costo",hint:"Costo",dense:"",outlined:"",solo:"",flat:"","append-icon":"mdi-currency-usd",onkeypress:e.regexNumber,"prepend-inner-icon":"mdi-decagram",required:"",rules:e.required},on:{blur:function(t){return e.formatCurrency("costosVariable","costoVariable")}},model:{value:e.costosVariable.costoVariable,callback:function(t){e.$set(e.costosVariable,"costoVariable",t)},expression:"costosVariable.costoVariable"}})],1),a("v-col",{attrs:{cols:"12",md:"9",sm:"12"}}),a("v-col",{attrs:{cols:"12",md:"3",sm:"12"}},[a("v-btn",{staticClass:"background-primary-dark button-basic",attrs:{elevation:"2",block:"",raised:"",depressed:""},on:{click:function(t){return e.agregarCosto(1)}}},[e._v("Agregar")])],1),a("v-col",{attrs:{cols:"12"}},[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.costoVariableHeader,items:e.itemsCostoVariable},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-toolbar",{staticClass:"border-head-table font-weight-bold",staticStyle:{"background-color":"#F2F2F2"},attrs:{flat:"",height:"10px"}})]},proxy:!0},{key:"item.actions",fn:function(t){var o=t.item;return[a("v-icon",{attrs:{small:""},on:{click:function(t){return e.eliminarCostos(o,1)}}},[e._v(" mdi-delete ")])]}}])})],1)],1)],1),a("v-form",{ref:"formCostoFijo",attrs:{"lazy-validation":""},model:{value:e.validCostoFijo,callback:function(t){e.validCostoFijo=t},expression:"validCostoFijo"}},[a("v-row",{staticClass:"section mt-3",attrs:{dense:""}},[a("v-col",{staticClass:"color-black font-weight-bold mt-3",attrs:{cols:"12",md:"12",sm:"12"}},[a("p",[e._v(" Costos fijos pecuarios ")])]),a("v-col",{attrs:{cols:"12",md:"6",sm:"12"}},[a("v-autocomplete",{attrs:{items:e.tipoCostosFijos,"item-text":"rubros","item-value":"codrubro","search-input":e.costosFijos.nameCostoFijo,dense:"",outlined:"",solo:"",flat:"",clearable:"",label:"Rubro",hint:"Rubro","prepend-inner-icon":"mdi-decagram",required:"",rules:e.required},on:{"update:searchInput":function(t){return e.$set(e.costosFijos,"nameCostoFijo",t)},"update:search-input":function(t){return e.$set(e.costosFijos,"nameCostoFijo",t)}},model:{value:e.costosFijos.codCostoFijo,callback:function(t){e.$set(e.costosFijos,"codCostoFijo",t)},expression:"costosFijos.codCostoFijo"}})],1),a("v-col",{attrs:{cols:"12",md:"6",sm:"12"}},[a("v-text-field",{attrs:{label:"Costo",hint:"Costo",dense:"",outlined:"",solo:"",flat:"","append-icon":"mdi-currency-usd",onkeypress:e.regexNumber,"prepend-inner-icon":"mdi-decagram",required:"",rules:e.required},on:{blur:function(t){return e.formatCurrency("costosFijos","costoFijo")}},model:{value:e.costosFijos.costoFijo,callback:function(t){e.$set(e.costosFijos,"costoFijo",t)},expression:"costosFijos.costoFijo"}})],1),a("v-col",{attrs:{cols:"12",md:"9",sm:"12"}}),a("v-col",{attrs:{cols:"12",md:"3",sm:"12"}},[a("v-btn",{staticClass:"background-primary-dark button-basic",attrs:{elevation:"2",block:"",raised:"",depressed:""},on:{click:function(t){return e.agregarCosto(2)}}},[e._v("Agregar")])],1),a("v-col",{attrs:{cols:"12"}},[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.costoFijosHeader,items:e.itemsCostoFijos},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-toolbar",{staticClass:"border-head-table font-weight-bold",staticStyle:{"background-color":"#F2F2F2"},attrs:{flat:"",height:"10px"}})]},proxy:!0},{key:"item.actions",fn:function(t){var o=t.item;return[a("v-icon",{attrs:{small:""},on:{click:function(t){return e.eliminarCostos(o,2)}}},[e._v(" mdi-delete ")])]}}])})],1)],1)],1),a("v-row",{staticClass:"section mt-5",attrs:{dense:""}},[a("v-switch",{staticClass:"ml-2",attrs:{cols:"12",md:"12",sm:"12",inset:"",label:"¿Existió afectación en insumos, equipos, maquinaria y herramientas?"},model:{value:e.afectacion,callback:function(t){e.afectacion=t},expression:"afectacion"}})],1),a("v-col",{attrs:{cols:"12",md:"12",sm:"12"}}),e.verCamposSegunTipoInsumo?a("v-form",{ref:"formInsumos",attrs:{"lazy-validation":""},model:{value:e.validInsumos,callback:function(t){e.validInsumos=t},expression:"validInsumos"}},[a("v-row",{staticClass:"container-titles mt-5",attrs:{dense:""}},[a("v-col",{staticClass:"section mt-3 font-16",attrs:{cols:"12",md:"12",sm:"12",align:"center",justify:"center"}},[a("p",{staticClass:"color-black font-weight-bold"},[e._v("Insumos, equipos, maquinaria y herramientas pecuarias")])])],1),a("v-row",{staticClass:"section mt-3",attrs:{dense:""}},[a("v-col",{attrs:{cols:"12",md:"12",sm:"12"}},[a("p",{staticClass:"color-black font-weight-bold"},[e._v("Insumos, forrajes, alimento para los animales y piensos")])]),a("v-col",{attrs:{cols:"12",md:"4",sm:"12"}},[a("v-autocomplete",{attrs:{items:e.tipoInsumo,"item-text":"tipinsumo","item-value":"codinsumo","search-input":e.insumos.nameTipoInsumo,dense:"",outlined:"",solo:"",flat:"",clearable:"",label:"Tipo de insumo, forraje, alimento para los animales y piensos",hint:"Tipo de insumo, forraje, alimento para los animales y piensos","prepend-inner-icon":"mdi-decagram",required:"",rules:e.required},on:{"update:searchInput":function(t){return e.$set(e.insumos,"nameTipoInsumo",t)},"update:search-input":function(t){return e.$set(e.insumos,"nameTipoInsumo",t)}},model:{value:e.insumos.tipoInsumo,callback:function(t){e.$set(e.insumos,"tipoInsumo",t)},expression:"insumos.tipoInsumo"}})],1),e.verNuevoTipoInsumo?a("v-col",{attrs:{cols:"12",md:"4",sm:"12"}},[a("v-text-field",{attrs:{label:"Indique el otro insumo",hint:"",dense:"",outlined:"",solo:"",flat:"","prepend-inner-icon":"mdi-decagram",required:"",rules:e.required},model:{value:e.insumos.nuevoInsumo,callback:function(t){e.$set(e.insumos,"nuevoInsumo",t)},expression:"insumos.nuevoInsumo"}})],1):e._e(),a("v-col",{attrs:{cols:"12",md:"4",sm:"12"}},[a("v-text-field",{attrs:{label:"Nombre comercial",hint:"",dense:"",outlined:"",solo:"",flat:"","prepend-inner-icon":"mdi-decagram",required:"",rules:e.required},model:{value:e.insumos.nombreComercial,callback:function(t){e.$set(e.insumos,"nombreComercial",t)},expression:"insumos.nombreComercial"}})],1),a("v-col",{attrs:{cols:"12",md:"4",sm:"12"}},[a("v-text-field",{attrs:{label:"Cantidad de insumos, forrajes, alimento para los animales y piensos",hint:"para los animales y piensos",dense:"",outlined:"",solo:"",flat:"",type:"number",onkeypress:e.regexNumber,"prepend-inner-icon":"mdi-decagram",required:"",rules:e.required},model:{value:e.insumos.cantInsumo,callback:function(t){e.$set(e.insumos,"cantInsumo",e._n(t))},expression:"insumos.cantInsumo"}})],1),a("v-col",{attrs:{cols:"12",md:"4",sm:"12"}},[a("v-autocomplete",{attrs:{items:e.unidadProduccion,"item-text":"undcosecha","item-value":"codundcosecha","search-input":e.insumos.nameUnidadMedida,dense:"",outlined:"",solo:"",flat:"",clearable:"","prepend-inner-icon":"mdi-decagram",label:"Unidad de medida",hint:"Unidad de medida",required:"",rules:e.required},on:{"update:searchInput":function(t){return e.$set(e.insumos,"nameUnidadMedida",t)},"update:search-input":function(t){return e.$set(e.insumos,"nameUnidadMedida",t)}},model:{value:e.insumos.unidadMedida,callback:function(t){e.$set(e.insumos,"unidadMedida",t)},expression:"insumos.unidadMedida"}})],1),a("v-col",{attrs:{cols:"12",md:"4",sm:"12"}},[a("v-text-field",{attrs:{label:"Valor en pesos de la afectación",hint:"Indique el valor de reposición de los bienes",dense:"",outlined:"",solo:"",flat:"","prepend-inner-icon":"mdi-decagram","append-icon":"mdi-currency-usd",onkeypress:e.regexNumber,required:"",rules:e.required},on:{blur:function(t){return e.formatCurrency("insumos","valorBienes")}},model:{value:e.insumos.valorBienes,callback:function(t){e.$set(e.insumos,"valorBienes",t)},expression:"insumos.valorBienes"}})],1)],1),a("v-row",{staticClass:"section mt-3",attrs:{dense:""}},[a("v-col",{attrs:{cols:"12",md:"9",sm:"12"}}),a("v-col",{attrs:{cols:"12",md:"3",sm:"12"}},[a("v-btn",{staticClass:"background-primary-dark button-basic",attrs:{elevation:"2",block:"",raised:"",depressed:""},on:{click:e.guardarInsumo}},[e._v("Agregar insumo")])],1),a("v-col",{attrs:{cols:"12"}},[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.insumosHeader,items:e.itemsInsumos},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-toolbar",{staticClass:"border-head-table font-weight-bold",staticStyle:{"background-color":"#F2F2F2"},attrs:{flat:"",height:"10px"}})]},proxy:!0},{key:"item.actions",fn:function(t){var o=t.item;return[a("v-icon",{attrs:{small:""},on:{click:function(t){return e.eliminarInsumo(o)}}},[e._v(" mdi-delete ")])]}}],null,!1,2320135699)})],1)],1)],1):e._e(),e.verCamposSegunTipoInsumo&&1!==e.dataPecuarioAcuicola.sistema?a("v-form",{ref:"formSectionTwo",attrs:{"lazy-validation":""},model:{value:e.validSectionTwo,callback:function(t){e.validSectionTwo=t},expression:"validSectionTwo"}},[e.verMaquinariaSegunSistemaMayores?a("v-row",{staticClass:"section mt-3",attrs:{dense:""}},[a("v-col",{attrs:{cols:"12",md:"12",sm:"12"}},[a("p",{staticClass:"color-black font-weight-bold"},[e._v("Instalaciones y maquinaria manejo de bovinos, bufalinos y afines")])]),a("v-col",{attrs:{cols:"12",md:"4",sm:"12"}},[a("v-autocomplete",{attrs:{items:e.verMaquinariasBbaSegunSistema,"item-text":"tipmaquinaria","item-value":"codtipmaquinaria","search-input":e.afectacionInsumo.nombreMaquiBba,dense:"",outlined:"",solo:"",flat:"",label:"Tipo de maquinaria",hint:"Tipo de maquinaria","prepend-inner-icon":"mdi-decagram",required:"",clearable:"",rules:e.required},on:{"update:searchInput":function(t){return e.$set(e.afectacionInsumo,"nombreMaquiBba",t)},"update:search-input":function(t){return e.$set(e.afectacionInsumo,"nombreMaquiBba",t)}},model:{value:e.afectacionInsumo.tipoMaquinariaBba,callback:function(t){e.$set(e.afectacionInsumo,"tipoMaquinariaBba",t)},expression:"afectacionInsumo.tipoMaquinariaBba"}})],1),a("v-col",{attrs:{cols:"12",md:"4",sm:"12"}},[a("v-text-field",{attrs:{label:"Nombre de la instalación, maquinaria o herramienta",hint:"Nombre de la instalación, maquinaria o herramienta",dense:"",outlined:"",solo:"",flat:"","prepend-inner-icon":"mdi-decagram",required:"",rules:e.required},model:{value:e.afectacionInsumo.nombreMaquinariaBba,callback:function(t){e.$set(e.afectacionInsumo,"nombreMaquinariaBba",t)},expression:"afectacionInsumo.nombreMaquinariaBba"}})],1),a("v-col",{attrs:{cols:"12",md:"4",sm:"12"}},[a("v-text-field",{attrs:{label:"Valor en pesos de la afectación",hint:"Indique el valor incurrido en reparar o reponer el bien",dense:"",outlined:"",solo:"",flat:"","prepend-inner-icon":"mdi-decagram","append-icon":"mdi-currency-usd",onkeypress:e.regexNumber,required:"",rules:e.required},on:{blur:function(t){return e.formatCurrency("afectacionInsumo","valorReparacionBba")}},model:{value:e.afectacionInsumo.valorReparacionBba,callback:function(t){e.$set(e.afectacionInsumo,"valorReparacionBba",t)},expression:"afectacionInsumo.valorReparacionBba"}})],1)],1):e._e(),e.verMaquinariaSegunSistemaMenores?a("v-row",{staticClass:"section mt-3",attrs:{dense:""}},[a("v-col",{attrs:{cols:"12",md:"12",sm:"12"}},[3!==e.dataPecuarioAcuicola.sistema?a("p",{staticClass:"color-black font-weight-bold"},[e._v("Instalaciones y maquinaria para la producción de especies menores ")]):e._e(),3===e.dataPecuarioAcuicola.sistema?a("p",{staticClass:"color-black font-weight-bold"},[e._v("Instalaciones y maquinarias avícolas ")]):e._e()]),a("v-col",{attrs:{cols:"12",md:"4",sm:"12"}},[a("v-autocomplete",{attrs:{items:e.verMaquinariasPemSegunSistema,"item-text":"tipmaquinaria","item-value":"codtipmaquinaria","search-input":e.afectacionInsumo.nombreMaquiPem,dense:"",outlined:"",solo:"",flat:"",label:"Tipo de maquinaria",hint:"Tipo de maquinaria","prepend-inner-icon":"mdi-decagram",required:"",clearable:"",rules:e.required},on:{"update:searchInput":function(t){return e.$set(e.afectacionInsumo,"nombreMaquiPem",t)},"update:search-input":function(t){return e.$set(e.afectacionInsumo,"nombreMaquiPem",t)}},model:{value:e.afectacionInsumo.tipoMaquinariaPem,callback:function(t){e.$set(e.afectacionInsumo,"tipoMaquinariaPem",t)},expression:"afectacionInsumo.tipoMaquinariaPem"}})],1),a("v-col",{attrs:{cols:"12",md:"4",sm:"12"}},[a("v-text-field",{attrs:{label:"Nombre o marca del bien",hint:"",dense:"",outlined:"",solo:"",flat:"","prepend-inner-icon":"mdi-decagram",required:"",rules:e.required},model:{value:e.afectacionInsumo.nombreMarcaPem,callback:function(t){e.$set(e.afectacionInsumo,"nombreMarcaPem",t)},expression:"afectacionInsumo.nombreMarcaPem"}})],1),a("v-col",{attrs:{cols:"12",md:"4",sm:"12"}},[a("v-text-field",{attrs:{label:"Valor en pesos de la afectación",hint:"Indique el valor incurrido en reparar o reponer el bien",dense:"",outlined:"",solo:"",flat:"","prepend-inner-icon":"mdi-decagram","append-icon":"mdi-currency-usd",onkeypress:e.regexNumber,required:"",rules:e.required},on:{blur:function(t){return e.formatCurrency("afectacionInsumo","valorReparacionPem")}},model:{value:e.afectacionInsumo.valorReparacionPem,callback:function(t){e.$set(e.afectacionInsumo,"valorReparacionPem",t)},expression:"afectacionInsumo.valorReparacionPem"}})],1)],1):e._e(),a("v-row",{staticClass:"section mt-3",attrs:{dense:""}},[a("v-col",{attrs:{cols:"12",md:"9",sm:"12"}}),a("v-col",{attrs:{cols:"12",md:"3",sm:"12"}},[a("v-btn",{staticClass:"background-primary-dark button-basic",attrs:{elevation:"2",block:"",raised:"",depressed:""},on:{click:e.guardarTipoMaquinaria}},[e._v("Agregar afectación")])],1),a("v-col",{attrs:{cols:"12"}},[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.maquinariaHeader,items:e.itemsMaquinaria},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-toolbar",{staticClass:"border-head-table font-weight-bold",staticStyle:{"background-color":"#F2F2F2"},attrs:{flat:"",height:"10px"}})]},proxy:!0},{key:"item.actions",fn:function(t){var o=t.item;return[a("v-icon",{attrs:{small:""},on:{click:function(t){return e.eliminarMaquinaria(o)}}},[e._v(" mdi-delete ")])]}}],null,!1,4074150212)})],1)],1)],1):e._e(),e.verMaquinariaSegunSistemaAcuicola?a("v-form",{ref:"formSectionThree",attrs:{"lazy-validation":""},model:{value:e.validSectionThree,callback:function(t){e.validSectionThree=t},expression:"validSectionThree"}},[a("v-row",{staticClass:"section mt-3",attrs:{dense:""}},[a("v-col",{attrs:{cols:"12",md:"12",sm:"12"}},[a("p",{staticClass:"color-black font-weight-bold"},[e._v("Infraestructura, instalaciones y maquinaria acuícolas / pesqueras afectadas")])]),a("v-col",{attrs:{cols:"12",md:"4",sm:"12"}},[a("v-autocomplete",{attrs:{items:e.activoAfectado,"item-text":"tipactivo","item-value":"codtipactivo",dense:"",outlined:"",solo:"",flat:"",clearable:"",label:"Seleccione un activo productivo afectado","prepend-inner-icon":"mdi-decagram",required:"",rules:e.required},model:{value:e.dataInfraestructura.tipActivo,callback:function(t){e.$set(e.dataInfraestructura,"tipActivo",t)},expression:"dataInfraestructura.tipActivo"}})],1)],1),e.verDatosEquipoSegunInfraestructura?a("v-row",{staticClass:"section mt-3",attrs:{dense:""}},[a("v-col",{attrs:{cols:"12",md:"12",sm:"12\n            "}},[a("p",{staticClass:"color-black font-weight-bold"},[e._v("Datos del equipo / maquinaria afectado")])]),a("v-col",{attrs:{cols:"12",md:"4",sm:"12"}},[a("v-text-field",{attrs:{label:"Indique el nombre/marca del equipo",hint:"",dense:"",outlined:"",solo:"",flat:"","prepend-inner-icon":"mdi-decagram",required:"",rules:e.required},model:{value:e.dataInfraestructura.nombreEquipo,callback:function(t){e.$set(e.dataInfraestructura,"nombreEquipo",t)},expression:"dataInfraestructura.nombreEquipo"}})],1),a("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"auto"},scopedSlots:e._u([{key:"activator",fn:function(t){var o=t.on,i=t.attrs;return[a("v-col",{attrs:{cols:"12",md:"4",sm:"12"}},[a("v-text-field",e._g(e._b({attrs:{label:"¿Cuál fue la fecha de adquisición del bien?",readonly:"",dense:"",outlined:"",solo:"",flat:""},model:{value:e.dataInfraestructura.fechaAdquisicion,callback:function(t){e.$set(e.dataInfraestructura,"fechaAdquisicion",t)},expression:"dataInfraestructura.fechaAdquisicion"}},"v-text-field",i,!1),o))],1)]}}],null,!1,460303309),model:{value:e.dataInfraestructura.menuFechaAdquisicion,callback:function(t){e.$set(e.dataInfraestructura,"menuFechaAdquisicion",t)},expression:"dataInfraestructura.menuFechaAdquisicion"}},[a("v-col",{attrs:{cols:"12",md:"4",sm:"12"}},[a("v-date-picker",{attrs:{outlined:""},on:{input:function(t){e.dataInfraestructura.menuFechaAdquisicion=!1}},model:{value:e.dataInfraestructura.fechaAdquisicion,callback:function(t){e.$set(e.dataInfraestructura,"fechaAdquisicion",t)},expression:"dataInfraestructura.fechaAdquisicion"}})],1)],1),a("v-col",{attrs:{cols:"12",md:"4",sm:"12"}},[a("v-text-field",{attrs:{label:"¿Cuál fue el precio pagado por el activo?",hint:"",dense:"",outlined:"",solo:"",flat:"","prepend-inner-icon":"mdi-decagram","append-icon":"mdi-currency-usd",onkeypress:e.regexNumber,required:"",rules:e.required},model:{value:e.dataInfraestructura.valorPagado,callback:function(t){e.$set(e.dataInfraestructura,"valorPagado",t)},expression:"dataInfraestructura.valorPagado"}})],1),a("v-col",{attrs:{cols:"12",md:"4",sm:"12"}},[a("v-text-field",{attrs:{label:"¿Valor invertido en reponer, reparar y/o adecuar el/la máquina/equipo?",hint:"reponer, reparar y/o adecuar el/la máquina/equipo",dense:"",outlined:"",solo:"",flat:"","prepend-inner-icon":"mdi-decagram","append-icon":"mdi-currency-usd",onkeypress:e.regexNumber,required:"",rules:e.required},on:{blur:function(t){return e.formatCurrency("dataInfraestructura","valorReponer")}},model:{value:e.dataInfraestructura.valorReponer,callback:function(t){e.$set(e.dataInfraestructura,"valorReponer",t)},expression:"dataInfraestructura.valorReponer"}})],1)],1):e._e(),!e.verDatosEquipoSegunInfraestructura&&this.dataInfraestructura.tipActivo?a("v-row",{staticClass:"section mt-3",attrs:{dense:""}},[a("v-col",{attrs:{cols:"12",md:"12",sm:"12\n            "}},[a("p",{staticClass:"color-black font-weight-bold"},[e._v("Construcciones")])]),a("v-col",{attrs:{cols:"12",md:"4",sm:"12"}},[a("v-text-field",{attrs:{label:"Indique el nombre/marca del equipo",hint:"",dense:"",outlined:"",solo:"",flat:"","prepend-inner-icon":"mdi-decagram",required:"",rules:e.required},model:{value:e.dataInfraestructura.nombreEquipoConstruc,callback:function(t){e.$set(e.dataInfraestructura,"nombreEquipoConstruc",t)},expression:"dataInfraestructura.nombreEquipoConstruc"}})],1),a("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"auto"},scopedSlots:e._u([{key:"activator",fn:function(t){var o=t.on,i=t.attrs;return[a("v-col",{attrs:{cols:"12",md:"4",sm:"12"}},[a("v-text-field",e._g(e._b({attrs:{label:"¿Cuál fue la fecha de adquisición del bien?",readonly:"",dense:"",outlined:"",solo:"",flat:""},model:{value:e.dataInfraestructura.fechaConstruc,callback:function(t){e.$set(e.dataInfraestructura,"fechaConstruc",t)},expression:"dataInfraestructura.fechaConstruc"}},"v-text-field",i,!1),o))],1)]}}],null,!1,2306391093),model:{value:e.dataInfraestructura.menuFechaConstruc,callback:function(t){e.$set(e.dataInfraestructura,"menuFechaConstruc",t)},expression:"dataInfraestructura.menuFechaConstruc"}},[a("v-col",{attrs:{cols:"12",md:"4",sm:"12"}},[a("v-date-picker",{attrs:{outlined:""},on:{input:function(t){e.dataInfraestructura.menuFechaConstruc=!1}},model:{value:e.dataInfraestructura.fechaConstruc,callback:function(t){e.$set(e.dataInfraestructura,"fechaConstruc",t)},expression:"dataInfraestructura.fechaConstruc"}})],1)],1),a("v-col",{attrs:{cols:"12",md:"4",sm:"12"}},[a("v-text-field",{attrs:{label:"¿Cuál fue el precio pagado por el activo?",hint:"¿Cuál fue el precio pagado por el activo?",dense:"",outlined:"",solo:"",flat:"","prepend-inner-icon":"mdi-decagram","append-icon":"mdi-currency-usd",onkeypress:e.regexNumber,required:"",rules:e.required},on:{blur:function(t){return e.formatCurrency("dataInfraestructura","valorPagadoConstruc")}},model:{value:e.dataInfraestructura.valorPagadoConstruc,callback:function(t){e.$set(e.dataInfraestructura,"valorPagadoConstruc",t)},expression:"dataInfraestructura.valorPagadoConstruc"}})],1),a("v-col",{attrs:{cols:"12",md:"4",sm:"12"}},[a("v-text-field",{attrs:{label:"¿Valor invertido en reponer, reparar y/o adecuar el/la máquina/equipo?",hint:"reponer, reparar y/o adecuar el/la máquina/equipo",dense:"",outlined:"",solo:"",flat:"","prepend-inner-icon":"mdi-decagram","append-icon":"mdi-currency-usd",onkeypress:e.regexNumber,required:"",rules:e.required},on:{blur:function(t){return e.formatCurrency("dataInfraestructura","valorReponerConstruc")}},model:{value:e.dataInfraestructura.valorReponerConstruc,callback:function(t){e.$set(e.dataInfraestructura,"valorReponerConstruc",t)},expression:"dataInfraestructura.valorReponerConstruc"}})],1),a("v-col",{attrs:{cols:"12",md:"4",sm:"12"}},[a("v-autocomplete",{attrs:{items:e.tipAfecta,"item-text":"tipconstruccion","item-value":"codtipconstruccion",dense:"",outlined:"",solo:"",flat:"",clearable:"",label:"Por favor, indique el tipo de construcción afectada"},model:{value:e.dataInfraestructura.tipAfecta,callback:function(t){e.$set(e.dataInfraestructura,"tipAfecta",t)},expression:"dataInfraestructura.tipAfecta"}})],1),a("v-col",{attrs:{cols:"12",md:"4",sm:"12"}},[a("v-text-field",{attrs:{label:"¿Área en metros cuadrados de la construcción afectada?",hint:"¿Área en metros cuadrados de la construcción afectada?",type:"number",dense:"",outlined:"",solo:"",flat:"","prepend-inner-icon":"mdi-decagram",required:"",rules:e.required},model:{value:e.dataInfraestructura.areaAfectada,callback:function(t){e.$set(e.dataInfraestructura,"areaAfectada",e._n(t))},expression:"dataInfraestructura.areaAfectada"}})],1),a("v-col",{attrs:{cols:"12",md:"4",sm:"12"}},[a("v-text-field",{attrs:{label:"¿Valor invertido en la re-construcción, reparación y/o adecuación del sitio?",hint:"Por favor indique el valor que estima deberá invertir para reconstruir, reparar y/o adecuar las construcciones",dense:"",outlined:"",solo:"",flat:"","prepend-inner-icon":"mdi-decagram","append-icon":"mdi-currency-usd",onkeypress:e.regexNumber,required:"",rules:e.required},on:{blur:function(t){return e.formatCurrency("dataInfraestructura","valorReparacion")}},model:{value:e.dataInfraestructura.valorReparacion,callback:function(t){e.$set(e.dataInfraestructura,"valorReparacion",t)},expression:"dataInfraestructura.valorReparacion"}})],1),a("v-col",{attrs:{cols:"12",md:"4",sm:"12"}},[a("v-text-field",{attrs:{label:"¿Tiempo necesario para realizar re-construcción, reparación y/o adecuación del sitio (meses)?",hint:"re-construcción, reparación y/o adecuación del sitio (meses)",type:"number",dense:"",outlined:"",solo:"",flat:"",onkeypress:e.regexNumber,"prepend-inner-icon":"mdi-decagram",required:"",rules:e.required},model:{value:e.dataInfraestructura.mesesReparacion,callback:function(t){e.$set(e.dataInfraestructura,"mesesReparacion",e._n(t))},expression:"dataInfraestructura.mesesReparacion"}})],1)],1):e._e(),a("v-row",{staticClass:"section mt-3",attrs:{dense:""}},[a("v-col",{attrs:{cols:"12",md:"9",sm:"12"}}),a("v-col",{attrs:{cols:"12",md:"3",sm:"12"}},[a("v-btn",{staticClass:"background-primary-dark button-basic",attrs:{elevation:"2",block:"",raised:"",depressed:""},on:{click:e.guardarInfraestructura}},[e._v("Agregar instalación")])],1),a("v-col",{attrs:{cols:"12"}},[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.infraestructuraHeader,items:e.itemsInfraestructura},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-toolbar",{staticClass:"border-head-table font-weight-bold",staticStyle:{"background-color":"#F2F2F2"},attrs:{flat:"",height:"10px"}})]},proxy:!0},{key:"item.actions",fn:function(t){var o=t.item;return[a("v-icon",{attrs:{small:""},on:{click:function(t){return e.eliminarInfraestructura(o)}}},[e._v(" mdi-delete ")])]}}],null,!1,1831809814)})],1)],1)],1):e._e(),a("v-col",{attrs:{cols:"12",md:"12",sm:"12"}}),a("v-row",{staticClass:"mt-5"},[a("v-col",{attrs:{cols:"12",md:"9",sm:"12"}}),a("v-col",{attrs:{cols:"12",md:"3",sm:"12"}},[a("v-btn",{staticClass:"success button-basic",attrs:{elevation:"2",block:"",raised:"",depressed:""},on:{click:e.guardarSistema}},[e._v("Guardar sistema")])],1)],1)],1)],1)],1)],1)],1)},gt=[],xt={name:"pecuarioAcuicola",props:["obtenerDataPecuaAcui"],data:function(){return{dialogPecuario:!1,valid:!0,validCostoVariable:!0,validCostoFijo:!0,validInsumos:!0,validSectionTwo:!0,validSectionThree:!0,especiesHeader:[{text:"Especie",align:"start",sortable:!1,value:"nombreSistema"},{text:"Nombre raza",align:"start",sortable:!1,value:"nombreRaza"},{text:"Total animales",align:"start",sortable:!1,value:"numAnimal"},{text:"Precio promedio",align:"start",sortable:!1,value:"valorAnimal"},{text:"Acciones",value:"actions",sortable:!1,width:"2%"}],itemsEspecieAgregada:[],costoVariableHeader:[{text:"Actividad",align:"start",sortable:!1,value:"nameCostoVariable"},{text:"Valor",align:"start",sortable:!1,value:"costoVariable"},{text:"Eliminar",value:"actions",sortable:!1,width:"2%"}],itemsCostoVariable:[],costoFijosHeader:[{text:"Rubro",align:"start",sortable:!1,value:"nameCostoFijo"},{text:"Valor",align:"start",sortable:!1,value:"costoFijo"},{text:"Eliminar",value:"actions",sortable:!1,width:"2%"}],itemsCostoFijos:[],insumosHeader:[{text:"Tipo insumo",align:"start",sortable:!1,value:"nameTipoInsumo"},{text:"Cant. insumo",align:"start",sortable:!1,value:"cantInsumo"},{text:"Nombre comercial",align:"start",sortable:!1,value:"nombreComercial"},{text:"Unidad medida",align:"start",sortable:!1,value:"nameUnidadMedida"},{text:"Valor",align:"start",sortable:!1,value:"valorBienes"},{text:"valor",align:"start",sortable:!1,value:"valorReparacionPem"},{text:"Eliminar",value:"actions",sortable:!1,width:"2%"}],itemsInsumos:[],maquinariaHeader:[{text:"Maquinaria especies mayores",align:"start",sortable:!1,value:"nombreMaquiBba"},{text:"Nombre",align:"start",sortable:!1,value:"nombreMaquinariaBba"},{text:"valor",align:"start",sortable:!1,value:"valorReparacionBba"},{text:"Maquinaria especies menores",align:"start",sortable:!1,value:"nombreMaquiPem"},{text:"Nombre",align:"start",sortable:!1,value:"nombreMarcaPem"},{text:"valor",align:"start",sortable:!1,value:"valorReparacionPem"},{text:"Eliminar",value:"actions",sortable:!1,width:"2%"}],itemsMaquinaria:[],infraestructuraHeader:[{text:"Tipo activo",align:"start",sortable:!1,value:"nombreActivo"},{text:"Nombre equipo",align:"start",sortable:!1,value:"nombreEquipo"},{text:"Fch. adquisicón",align:"start",sortable:!1,value:"fechaAdquisicion"},{text:"Vlr. pagado",align:"start",sortable:!1,value:"valorPagado"},{text:"Vlr. reponer",align:"start",sortable:!1,value:"valorReponer"},{text:"Nomb. equipo construc.",align:"start",sortable:!1,value:"nombreEquipoConstruc"},{text:"Fch.adquisición construc.",align:"start",sortable:!1,value:"fechaConstruc"},{text:"Vlr. pagado construc.",align:"start",sortable:!1,value:"valorPagadoConstruc"},{text:"Vlr. reponder construc.",align:"start",sortable:!1,value:"valorReponerConstruc"},{text:"Tipo construc. afectada",align:"start",sortable:!1,value:"nombreTipoAfecta"},{text:"Área afectada",align:"start",sortable:!1,value:"areaAfectada"},{text:"Vlr. reparación",align:"start",sortable:!1,value:"valorReparacion"},{text:"Meses reparación",align:"start",sortable:!1,value:"mesesReparacion"},{text:"Meses reparación",align:"start",sortable:!1,value:"mesesReparacion"},{text:"Eliminar",value:"actions",sortable:!1,width:"2%"}],itemsInfraestructura:[],dataPecuarioAcuicola:{},dataApicola:{},insumos:{},afectacionInsumo:{},afectacion:!1,activoAfectado:[],dataInfraestructura:{},sistemas:[],uniMedidaAnimales:[],peso:[],unidadArea:[],tipoProducto:[],completo:[],unidadProduccion:[],valorAnimalesmuertos:"",perdidaProduccion:"",costosVariable:{},tipoCostosVariable:[],costosFijos:{},tipoCostosFijos:[],tipoInsumo:[],tipoMaquinariaBba:[],tipoMaquinariaBbaComple:[],tipoMaquinariaPem:[],tipoMaquinariaAvicola:[],tipAfecta:[],editedIndex:-1,regexNumber:"return (event.charCode >= 48 && event.charCode <= 57 || event.charCode == 46)",name:"",required:[function(e){return!!e||"Campo requerido"}]}},mounted:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getDataPecuario();case 2:return t.next=4,e.edicionPecuario();case 4:case"end":return t.stop()}}),t)})))()},methods:{cerrarModal:function(){this.limpiarCampos()},getDataPecuario:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,m("pecuario",!0);case 3:a=t.sent,e.addDataCampos(a),t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))()},edicionPecuario:function(){var e=this.$route.params.evento;void 0!==e&&e.dataEspecies.infoPecuario.length>0&&(this.itemsEspecieAgregada=e.dataEspecies.infoPecuario)},addDataCampos:function(e){this.sistemas=e.affectedSistem,this.uniMedidaAnimales=e.harvestUnity,e.equivCharge.push({codequivcarga:6,eqvcargakg:"Otro"}),this.peso=e.equivCharge,this.unidadArea=e.areaUnity,this.tipoProducto=e.typeProduct,this.completo=e.typeProduct,this.unidadProduccion=e.unity,this.tipoInsumo=e.inputType,this.tipoMaquinariaBba=e.machineryTypeBBA,this.tipoMaquinariaBbaComple=e.machineryTypeBBA,this.tipoMaquinariaPem=e.machineryTypePEM,this.tipoMaquinariaAvicola=e.machineryAv,this.activoAfectado=e.activeType,this.tipAfecta=e.constructionType,this.tipoCostosVariable=e.activity,this.tipoCostosFijos=e.rubro},agregarCosto:function(e){1===e&&this.$refs.formCostoVariable.validate()&&(this.itemsCostoVariable.push(this.costosVariable),this.costosVariable={}),2===e&&this.$refs.formCostoFijo.validate()&&(this.itemsCostoFijos.push(this.costosFijos),this.costosFijos={})},eliminarCostos:function(e,t){var a=this;this.$swal({title:"Confirmación",text:"Eliminar costo?",icon:"warning",showCancelButton:!0,confirmButtonText:"Confirmar",cancelButtonText:"Cancelar",showCloseButton:!0,showLoaderOnConfirm:!0}).then((function(o){if(o.value){if(1===t){var i=a.itemsCostoVariable.indexOf(e);a.itemsCostoVariable.splice(i,1)}if(2===t){var r=a.itemsCostoFijos.indexOf(e);a.itemsCostoFijos.splice(r,1)}}}))},eliminarInsumo:function(e){var t=this;this.$swal({title:"Confirmación",text:"Eliminar insumo?",icon:"warning",showCancelButton:!0,confirmButtonText:"Confirmar",cancelButtonText:"Cancelar",showCloseButton:!0,showLoaderOnConfirm:!0}).then((function(a){if(a.value){var o=t.itemsInsumos.indexOf(e);t.itemsInsumos.splice(o,1)}}))},guardarInsumo:function(){this.$refs.formInsumos.validate()&&(this.itemsInsumos.push(this.insumos),this.insumos={})},guardarTipoMaquinaria:function(){this.$refs.formSectionTwo.validate()&&(this.itemsMaquinaria.push(this.afectacionInsumo),this.afectacionInsumo={})},eliminarMaquinaria:function(e){var t=this;this.$swal({title:"Confirmación",text:"Eliminar maquinaria?",icon:"warning",showCancelButton:!0,confirmButtonText:"Confirmar",cancelButtonText:"Cancelar",showCloseButton:!0,showLoaderOnConfirm:!0}).then((function(a){if(a.value){var o=t.itemsMaquinaria.indexOf(e);t.itemsMaquinaria.splice(o,1)}}))},guardarInfraestructura:function(){if(this.$refs.formSectionThree.validate()){var e=this.dataInfraestructura.tipActivo,t=this.activoAfectado.filter((function(t){return t.codtipactivo===e}));if(this.dataInfraestructura.nombreActivo=t[0]["tipactivo"],2===this.dataInfraestructura.tipActivo&&this.dataInfraestructura.tipAfecta){var a=this.dataInfraestructura.tipAfecta,o=this.tipAfecta.filter((function(e){return e.codtipconstruccion===a}));this.dataInfraestructura.nombreTipoAfecta=o[0]["tipconstruccion"]}this.itemsInfraestructura.push(this.dataInfraestructura),this.dataInfraestructura={}}},eliminarInfraestructura:function(e){var t=this;this.$swal({title:"Confirmación",text:"Eliminar infraestructura?",icon:"warning",showCancelButton:!0,confirmButtonText:"Confirmar",cancelButtonText:"Cancelar",showCloseButton:!0,showLoaderOnConfirm:!0}).then((function(a){if(a.value){var o=t.itemsInfraestructura.indexOf(e);t.itemsInfraestructura.splice(o,1)}}))},limpiarCamposDataInfraestruc:function(){var e=this.dataInfraestructura.tipActivo;e&&2!==e?(delete this.dataInfraestructura.nombreEquipoConstruc,delete this.dataInfraestructura.menuFechaAdquisicionConstruc,delete this.dataInfraestructura.fechaConstruc,delete this.dataInfraestructura.valorPagadoConstruc,delete this.dataInfraestructura.valorReponerConstruc,delete this.dataInfraestructura.tipAfecta,delete this.dataInfraestructura.areaAfectada,delete this.dataInfraestructura.valorReparacion,delete this.dataInfraestructura.mesesReparacion):e&&(delete this.dataInfraestructura.nombreEquipo,delete this.dataInfraestructura.menuFechaAdquisicion,delete this.dataInfraestructura.fechaAdquisicion,delete this.dataInfraestructura.valorPagado,delete this.dataInfraestructura.valorReponer)},guardarSistema:function(){if(this.$refs.form.validate()){if(0===this.itemsCostoVariable.length||0===this.itemsCostoFijos.length)return void this.$swal({icon:"error",text:"No se han registrados costos variables o fijos.",confirmButtonText:"Aceptar"});this.dataPecuarioAcuicola.costosVariables=this.itemsCostoVariable,this.dataPecuarioAcuicola.costosFijos=this.itemsCostoFijos,this.dataPecuarioAcuicola.dataInsumos=this.itemsInsumos,this.dataPecuarioAcuicola.dataMaquinaria=this.itemsMaquinaria,this.dataPecuarioAcuicola.dataInfraestructura=this.itemsInfraestructura,this.dataPecuarioAcuicola.afectacion=this.afectacion,this.editedIndex>-1?Object.assign(this.itemsEspecieAgregada[this.editedIndex],this.dataPecuarioAcuicola):this.itemsEspecieAgregada.push(this.dataPecuarioAcuicola),this.obtenerDataPecuaAcui(this.itemsEspecieAgregada),this.limpiarCampos()}},limpiarCampos:function(){this.dataPecuarioAcuicola={},this.itemsCostoVariable=[],this.itemsCostoFijos=[],this.itemsInsumos=[],this.itemsMaquinaria=[],this.itemsInfraestructura=[],this.editedIndex=-1,this.dialogPecuario=!1},editarSistemaPecuario:function(e){this.editedIndex=this.itemsEspecieAgregada.indexOf(e),this.itemsCostoVariable=e.costosVariables,this.itemsCostoFijos=e.costosFijos,this.itemsInsumos=e.dataInsumos,this.itemsMaquinaria=e.dataMaquinaria,this.itemsInfraestructura=e.dataInfraestructura,this.afectacion=e.afectacion,this.dataPecuarioAcuicola=Object.assign({},e),this.dialogPecuario=!0},eliminarSistemaPecuario:function(e){var t=this;this.$swal({title:"Confirmación",text:"Eliminar sistema pecuario/acuicola?",icon:"warning",showCancelButton:!0,confirmButtonText:"Confirmar",cancelButtonText:"Cancelar",showCloseButton:!0,showLoaderOnConfirm:!0}).then((function(a){if(a.value){var o=t.itemsEspecieAgregada.indexOf(e);t.itemsEspecieAgregada.splice(o,1),t.obtenerDataPecuaAcui(t.itemsEspecieAgregada)}}))},limpiarTablasSegunSistema:function(){this.itemsInsumos=[],this.itemsMaquinaria=[],this.itemsInfraestructura=[]},formatCurrency:function(e,t){this[e][t]&&(this[e][t]=this[e][t].toString(),this[e][t]=parseFloat(this[e][t].replace(/[^\d\.]/g,"")),this[e][t]=this.$options.filters.currency(this[e][t]))}},computed:{verOtroSistema:function(){var e=11===this.dataPecuarioAcuicola.sistema;return e||delete this.dataPecuarioAcuicola.sistemaNuevo,e},verUnidadMedidaNuevo:function(){var e=!1,t=this.dataPecuarioAcuicola.uniMedidaAnimal;return e=!(!t||8!==t),e||(delete this.dataPecuarioAcuicola.nombreUnidadMedidaNuevo,delete this.dataPecuarioAcuicola.unidadMedidaNuevo),e},verPeso:function(){var e=!1,t=this.dataPecuarioAcuicola.uniMedidaAnimal;e=!(4!==t||!t);return e||delete this.dataPecuarioAcuicola.peso,e},verPesoNuevo:function(){var e=!1,t=this.dataPecuarioAcuicola.uniMedidaAnimal,a=this.dataPecuarioAcuicola.peso;return e=!(6!==a||!a||4!==t||!t),e||delete this.dataPecuarioAcuicola.pesoNuevo,e},verUnidadAreaNuevo:function(){var e=!1,t=this.dataPecuarioAcuicola.unidadArea;return e=!(4!==t||!t),e||delete this.dataPecuarioAcuicola.unidadAreaNuevo,e},verDatosProduccionSegunProduccion:function(){var e=!1,t=this.dataPecuarioAcuicola.tipoProducto;return e=!(6===t||!t),e||(delete this.dataPecuarioAcuicola.produMensualAfectacion,delete this.dataPecuarioAcuicola.produPotencial,delete this.dataPecuarioAcuicola.unidadProdccion,delete this.dataPecuarioAcuicola.pesoProduccion,delete this.dataPecuarioAcuicola.valorVentaProducto),e},verTipoProducto:function(){var e=this.dataPecuarioAcuicola.sistema,t=this.tipoProducto;return 3===e&&e?t=t.filter((function(e){return 4!=e.codtipprod})):e&&(t=this.completo.filter((function(e){return 3!=e.codtipprod}))),t},verTipoProductoNuevo:function(){var e=!1,t=this.dataPecuarioAcuicola.tipoProducto;return e=!(5!==t||!t),e||delete this.dataPecuarioAcuicola.tipoProductoNuevo,e},verUnidadProduccionNuevo:function(){var e=!1,t=this.dataPecuarioAcuicola.unidadProdccion;return e=!(4!==t||!t),e||(delete this.dataPecuarioAcuicola.pesoProduccion,delete this.dataPecuarioAcuicola.pesoProduccionNuevo),e},kilosPorUnidadProducto:function(){var e=this.dataPecuarioAcuicola.unidadProdccion,t=!(!e||6!==e);return t||delete this.dataPecuarioAcuicola.kilosUnidad,t},verOtraUnidadProduccion:function(){var e=!1,t=this.dataPecuarioAcuicola.unidadProdccion;return e=!(8!==t||!t),e||(delete this.dataPecuarioAcuicola.nombreUnidadProduccionNueva,delete this.dataPecuarioAcuicola.unidadProduccionNueva),e},verPesoNuevoProduccion:function(){var e=!1,t=this.dataPecuarioAcuicola.unidadProdccion,a=this.dataPecuarioAcuicola.pesoProduccion;return e=!(6!==a||!a||4!==t||!t),e||delete this.dataPecuarioAcuicola.pesoProduccionNuevo,e},verHuevoAvicolaSegunProduccion:function(){var e=!1,t=this.dataPecuarioAcuicola.tipoProducto;return e=!(3!==t||!t),e||delete this.dataPecuarioAcuicola.huevosAvicola,e},verCamposSegunTipoInsumo:function(){return this.afectacion||(this.afectacionInsumo={},this.itemsMaquinaria=[],this.itemsInsumos=[]),this.afectacion},verNuevoTipoInsumo:function(){var e=!1;return 6===this.afectacionInsumo.tipoInsumo?e=!0:this.afectacionInsumo.nuevoInsumo="",e},verDatosEquipoSegunInfraestructura:function(){var e=!1,t=this.dataInfraestructura.tipActivo;return e=!(2===t||!t),this.limpiarCamposDataInfraestruc(),e},verMaquinariaSegunSistemaAcuicola:function(){var e=this.dataPecuarioAcuicola.sistema,t=[1],a=!(!e||!t.includes(e));return a||(this.dataInfraestructura={},this.itemsInfraestructura=[]),a},verMaquinariaSegunSistemaMayores:function(){var e=this.dataPecuarioAcuicola.sistema,t=[4,5,6,8,9],a=!(!e||!t.includes(e));return a||(delete this.afectacionInsumo.tipoMaquinariaBba,delete this.afectacionInsumo.nombreMaquinariaBba,delete this.afectacionInsumo.valorReparacionBba),a},verMaquinariaSegunSistemaMenores:function(){var e=this.dataPecuarioAcuicola.sistema,t=[1,4,5,6,8,9],a=!(!e||t.includes(e));return a||(delete this.afectacionInsumo.tipoMaquinariaPem,delete this.afectacionInsumo.nombreMarcaPem,delete this.afectacionInsumo.valorReparacionPem),a},verMaquinariasBbaSegunSistema:function(){var e=this.dataPecuarioAcuicola.sistema,t=this.tipoMaquinariaBba;return 3===e&&e?t=t.filter((function(e){return 9!=e.codtipmaquinaria})):e&&(t=this.tipoMaquinariaBbaComple),t},verMaquinariasPemSegunSistema:function(){var e=this.dataPecuarioAcuicola.sistema,t=[];return e&&3===e?t=this.tipoMaquinariaAvicola:e&&(t=this.tipoMaquinariaPem),t}}},kt=xt,Ct=Object(E["a"])(kt,bt,gt,!1,null,null,null),qt=Ct.exports,wt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-container",[a("v-row",{attrs:{dense:""}},[a("v-col",{attrs:{cols:"12"}},[a("v-data-table",{staticClass:"elevation-2",attrs:{headers:e.especiesHeader,items:e.itemsEspecieAgregada},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-toolbar",{staticClass:"background-primary-dropdowns border-head-table font-weight-bold",attrs:{flat:""}},[a("span",{staticClass:"mr-2"},[e._v("Sistema apícola")]),a("v-btn",{staticClass:"background-primary-dark",attrs:{outlined:"",elevation:"2",fab:"",dark:"",small:""},on:{click:function(t){e.dialogApicola=!0}}},[a("v-icon",[e._v("mdi-plus")])],1)],1)]},proxy:!0},{key:"item.actions",fn:function(t){var o=t.item;return[a("v-icon",{attrs:{small:"",color:"#004884"},on:{click:function(t){return e.editarSistemaApoicola(o)}}},[e._v(" mdi-pencil ")]),a("v-icon",{attrs:{small:"",color:"#004884"},on:{click:function(t){return e.eliminarSistemaApicola(o)}}},[e._v(" mdi-delete ")])]}}])})],1)],1)],1),a("v-dialog",{attrs:{persistent:"",overlay:!1,"max-width":"100%",transition:"dialog-transition"},model:{value:e.dialogApicola,callback:function(t){e.dialogApicola=t},expression:"dialogApicola"}},[a("v-card",{staticClass:"border-basic",attrs:{flat:""}},[a("div",{staticStyle:{"text-align":"right"}},[a("v-btn",{staticClass:"color-primary-dark",attrs:{icon:"",dark:""},on:{click:e.cerrarModal}},[a("v-icon",[e._v("mdi-close-circle")])],1)],1),a("v-card-title",{attrs:{"primary-title":""}},[a("v-container",{staticClass:"color-primary-dark font-weight-bold"},[a("v-row",{staticClass:"align-center justify-center container-titles",staticStyle:{height:"80px"},attrs:{dense:""}},[a("v-col",{attrs:{cols:"12",md:"12",sm:"12"}},[a("center",[e._v("Sistema apícola")])],1)],1)],1)],1),a("v-card-text",[a("v-container",[a("v-form",{ref:"formSectionOne",attrs:{"lazy-validation":""},model:{value:e.validSectionOne,callback:function(t){e.validSectionOne=t},expression:"validSectionOne"}},[a("v-row",{staticClass:"section mt-3",attrs:{dense:""}},[a("v-col",{staticClass:"color-black font-weight-bold mt-3",attrs:{cols:"12",md:"12",sm:"12"}},[a("p",[e._v(" Explotación apícola ")])]),a("v-col",{attrs:{cols:"12",md:"4",sm:"6"}},[a("v-text-field",{attrs:{label:"Indique el número de colmenas afectadas",hint:"Indique el número de colmenas afectadas",type:"number",dense:"",outlined:"",solo:"",flat:"",onkeypress:e.rules.regexNumber,"prepend-inner-icon":"mdi-decagram","rules.required":"",rules:e.rules.required},model:{value:e.dataApicola.numColmenas,callback:function(t){e.$set(e.dataApicola,"numColmenas",e._n(t))},expression:"dataApicola.numColmenas"}})],1),a("v-col",{attrs:{cols:"12",md:"4",sm:"6"}},[a("v-text-field",{attrs:{label:"Valor comercial promedio de cada colmena",hint:"Valor comercial promedio de cada colmena",dense:"",outlined:"",solo:"",flat:"","prepend-inner-icon":"mdi-currency-usd",onkeypress:e.rules.regexNumber},on:{blur:function(t){return e.formatCurrency("dataApicola","valorColmena")}},model:{value:e.dataApicola.valorColmena,callback:function(t){e.$set(e.dataApicola,"valorColmena",t)},expression:"dataApicola.valorColmena"}})],1),a("v-col",{attrs:{cols:"12",md:"4",sm:"6"}},[a("v-text-field",{attrs:{label:"Indique la producción mensual de propoleo",hint:"Producciónen  en kilos antes de la afectación",type:"number",dense:"",outlined:"",solo:"",flat:"",onkeypress:e.rules.regexNumber,"prepend-inner-icon":"mdi-decagram","rules.required":"",rules:e.rules.required},model:{value:e.dataApicola.propoleoMensual,callback:function(t){e.$set(e.dataApicola,"propoleoMensual",e._n(t))},expression:"dataApicola.propoleoMensual"}})],1),a("v-col",{attrs:{cols:"12",md:"4",sm:"6"}},[a("v-text-field",{attrs:{label:"Indique la producción mensual estimada de miel",hint:"Indique la producción mensual estimada de miel",type:"number",dense:"",outlined:"",solo:"",flat:"",onkeypress:e.rules.regexNumber,"prepend-inner-icon":"mdi-decagram","rules.required":"",rules:e.rules.required},model:{value:e.dataApicola.mielMensual,callback:function(t){e.$set(e.dataApicola,"mielMensual",e._n(t))},expression:"dataApicola.mielMensual"}})],1),a("v-col",{attrs:{cols:"12",md:"4",sm:"6"}},[a("v-text-field",{attrs:{label:"Indique la producción mensual de jalea real",hint:"Indique la producción mensual de jalea real",type:"number",dense:"",outlined:"",solo:"",flat:"",onkeypress:e.rules.regexNumber,"prepend-inner-icon":"mdi-decagram","rules.required":"",rules:e.rules.required},model:{value:e.dataApicola.jaleaMensual,callback:function(t){e.$set(e.dataApicola,"jaleaMensual",e._n(t))},expression:"dataApicola.jaleaMensual"}})],1),a("v-col",{attrs:{cols:"12",md:"4",sm:"6"}},[a("v-text-field",{attrs:{label:"Valor promedio mensual antes de la afectación",hint:"Valor promedio mensual antes de la afectación",dense:"",outlined:"",solo:"",flat:"","prepend-inner-icon":"mdi-currency-usd",onkeypress:e.rules.regexNumber},on:{blur:function(t){return e.formatCurrency("dataApicola","valorMensual")}},model:{value:e.dataApicola.valorMensual,callback:function(t){e.$set(e.dataApicola,"valorMensual",t)},expression:"dataApicola.valorMensual"}})],1),a("v-col",{attrs:{cols:"12",md:"4",sm:"6"}},[a("v-text-field",{attrs:{label:"¿Cuál es su ingreso mensual actualmente?",hint:"¿Cuál es su ingreso mensual actualmente?",dense:"",outlined:"",solo:"",flat:"","prepend-inner-icon":"mdi-currency-usd",onkeypress:e.rules.regexNumber},on:{blur:function(t){return e.formatCurrency("dataApicola","ingresoMensual")}},model:{value:e.dataApicola.ingresoMensual,callback:function(t){e.$set(e.dataApicola,"ingresoMensual",t)},expression:"dataApicola.ingresoMensual"}})],1)],1)],1),a("v-row",{staticClass:"section mt-5",attrs:{dense:""}},[a("v-switch",{staticClass:"ml-2",attrs:{cols:"12",md:"12",sm:"12",inset:"",label:"¿Existió afectación en insumos, equipos, maquinaria y herramientas?"},model:{value:e.dataApicola.afectacion,callback:function(t){e.$set(e.dataApicola,"afectacion",t)},expression:"dataApicola.afectacion"}})],1),a("v-col",{attrs:{cols:"12",md:"12",sm:"12"}}),e.verCamposSegunTipoInsumo?a("v-form",{ref:"formInsumos",attrs:{"lazy-validation":""},model:{value:e.validInsumos,callback:function(t){e.validInsumos=t},expression:"validInsumos"}},[a("v-row",{staticClass:"container-titles mt-5",attrs:{dense:""}},[a("v-col",{staticClass:"mt-3 font-16",attrs:{cols:"12",md:"12",sm:"12",align:"center",justify:"center"}},[a("p",{staticClass:"color-black font-weight-bold"},[e._v("Insumos, equipos, maquinaria y herramientas pecuarias")])])],1),a("v-row",{staticClass:"section mt-3",attrs:{dense:""}},[a("v-col",{attrs:{cols:"12",md:"12",sm:"12"}},[a("p",{staticClass:"color-black font-weight-bold"},[e._v("Insumos, forrajes, alimento para los animales y piensos")])]),a("v-col",{attrs:{cols:"12",md:"4",sm:"6"}},[a("v-autocomplete",{attrs:{items:e.tipoInsumo,"item-text":"tipinsumo","item-value":"codinsumo","search-input":e.insumos.nameTipoInsumo,dense:"",outlined:"",solo:"",flat:"",clearable:"",label:"Tipo de insumo, forraje, alimento para los animales y piensos",hint:"Tipo de insumo, forraje, alimento para los animales y piensos"},on:{"update:searchInput":function(t){return e.$set(e.insumos,"nameTipoInsumo",t)},"update:search-input":function(t){return e.$set(e.insumos,"nameTipoInsumo",t)}},model:{value:e.insumos.tipoInsumo,callback:function(t){e.$set(e.insumos,"tipoInsumo",t)},expression:"insumos.tipoInsumo"}})],1),e.verNuevoTipoInsumo?a("v-col",{attrs:{cols:"12",md:"4",sm:"6"}},[a("v-text-field",{attrs:{label:"Indique el otro insumo",hint:"Indique el otro insumo",dense:"",outlined:"",solo:"",flat:"","prepend-inner-icon":"mdi-decagram","rules.required":"",rules:e.rules.required},model:{value:e.insumos.nuevoInsumo,callback:function(t){e.$set(e.insumos,"nuevoInsumo",t)},expression:"insumos.nuevoInsumo"}})],1):e._e(),a("v-col",{attrs:{cols:"12",md:"4",sm:"6"}},[a("v-text-field",{attrs:{label:"Nombre comercial",hint:"Nombre comercial",dense:"",outlined:"",solo:"",flat:"","prepend-inner-icon":"mdi-decagram","rules.required":"",rules:e.rules.required},model:{value:e.insumos.nombreComercial,callback:function(t){e.$set(e.insumos,"nombreComercial",t)},expression:"insumos.nombreComercial"}})],1),a("v-col",{attrs:{cols:"12",md:"4",sm:"6"}},[a("v-text-field",{attrs:{label:"Cantidad de insumos, forrajes, alimento para los animales y piensos",hint:"Cantidad de insumos, forrajes, alimento para los animales y piensos",dense:"",outlined:"",solo:"",flat:"",type:"number",onkeypress:e.rules.regexNumber,"prepend-inner-icon":"mdi-decagram","rules.required":"",rules:e.rules.required},model:{value:e.insumos.cantInsumo,callback:function(t){e.$set(e.insumos,"cantInsumo",e._n(t))},expression:"insumos.cantInsumo"}})],1),a("v-col",{attrs:{cols:"12",md:"4",sm:"6"}},[a("v-autocomplete",{attrs:{items:e.unidadProduccion,"item-text":"undcosecha","item-value":"codundcosecha","search-input":e.insumos.nameUnidadMedida,dense:"",outlined:"",solo:"",flat:"",clearable:"",label:"Unidad de medida"},on:{"update:searchInput":function(t){return e.$set(e.insumos,"nameUnidadMedida",t)},"update:search-input":function(t){return e.$set(e.insumos,"nameUnidadMedida",t)}},model:{value:e.insumos.unidadMedida,callback:function(t){e.$set(e.insumos,"unidadMedida",t)},expression:"insumos.unidadMedida"}})],1),a("v-col",{attrs:{cols:"12",md:"4",sm:"6"}},[a("v-text-field",{attrs:{label:"Valor en pesos de la afectación",hint:"Indique el valor de reposición de los bienes",dense:"",outlined:"",solo:"",flat:"","prepend-inner-icon":"mdi-decagram","append-icon":"mdi-currency-usd",onkeypress:e.rules.regexNumber,"rules.required":"",rules:e.rules.required},on:{blur:function(t){return e.formatCurrency("insumos","valorBienes")}},model:{value:e.insumos.valorBienes,callback:function(t){e.$set(e.insumos,"valorBienes",t)},expression:"insumos.valorBienes"}})],1)],1),a("v-row",{staticClass:"section mt-3",attrs:{dense:""}},[a("v-col",{attrs:{cols:"12",md:"9",sm:"12"}}),a("v-col",{attrs:{cols:"12",md:"3",sm:"12"}},[a("v-btn",{staticClass:"background-primary-dark button-basic",attrs:{elevation:"2",block:"",raised:"",depressed:""},on:{click:e.guardarInsumo}},[e._v("Agregar insumo")])],1),a("v-col",{attrs:{cols:"12"}},[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.insumosHeader,items:e.itemsInsumos},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-toolbar",{staticClass:"border-head-table font-weight-bold",staticStyle:{"background-color":"#F2F2F2"},attrs:{flat:"",height:"10px"}})]},proxy:!0},{key:"item.actions",fn:function(t){var o=t.item;return[a("v-icon",{attrs:{small:""},on:{click:function(t){return e.eliminarInsumo(o)}}},[e._v(" mdi-delete ")])]}}],null,!1,2320135699)})],1)],1)],1):e._e(),e.verCamposSegunTipoInsumo?a("v-form",{ref:"formMaquinaria",attrs:{"lazy-validation":""},model:{value:e.validMaquinaria,callback:function(t){e.validMaquinaria=t},expression:"validMaquinaria"}},[a("v-row",{staticClass:"section mt-3",attrs:{dense:""}},[a("v-col",{attrs:{cols:"12",md:"12",sm:"12"}},[a("p",{staticClass:"color-black font-weight-bold"},[e._v("Instalaciones y maquinaria para la producción de especies menores")])]),a("v-col",{attrs:{cols:"12",md:"4",sm:"6"}},[a("v-autocomplete",{attrs:{items:e.tipoMaquinarias,"item-text":"tipmaquinaria","item-value":"codtipmaquinaria","search-input":e.afectacionInsumo.nameTipoMaquinariaPem,dense:"",outlined:"",solo:"",flat:"",label:"Tipo de maquinaria",hint:"Tipo de maquinaria","prepend-inner-icon":"mdi-decagram","rules.required":"",clearable:"",rules:e.rules.required},on:{"update:searchInput":function(t){return e.$set(e.afectacionInsumo,"nameTipoMaquinariaPem",t)},"update:search-input":function(t){return e.$set(e.afectacionInsumo,"nameTipoMaquinariaPem",t)}},model:{value:e.afectacionInsumo.tipoMaquinariaPem,callback:function(t){e.$set(e.afectacionInsumo,"tipoMaquinariaPem",t)},expression:"afectacionInsumo.tipoMaquinariaPem"}})],1),a("v-col",{attrs:{cols:"12",md:"4",sm:"6"}},[a("v-text-field",{attrs:{label:"Nombre o marca del bien",hint:"",dense:"",outlined:"",solo:"",flat:"","prepend-inner-icon":"mdi-decagram","rules.required":"",rules:e.rules.required},model:{value:e.afectacionInsumo.nombreMarcaPem,callback:function(t){e.$set(e.afectacionInsumo,"nombreMarcaPem",t)},expression:"afectacionInsumo.nombreMarcaPem"}})],1),a("v-col",{attrs:{cols:"12",md:"4",sm:"6"}},[a("v-text-field",{attrs:{label:"Valor en pesos de la afectación",hint:"Indique el valor incurrido en reparar o reponer el bien",dense:"",outlined:"",solo:"",flat:"","prepend-inner-icon":"mdi-decagram","append-icon":"mdi-currency-usd",onkeypress:e.rules.regexNumber,"rules.required":"",rules:e.rules.required},on:{blur:function(t){return e.formatCurrency("afectacionInsumo","valorReparacionPem")}},model:{value:e.afectacionInsumo.valorReparacionPem,callback:function(t){e.$set(e.afectacionInsumo,"valorReparacionPem",t)},expression:"afectacionInsumo.valorReparacionPem"}})],1)],1),a("v-row",{staticClass:"section mt-3",attrs:{dense:""}},[a("v-col",{attrs:{cols:"12",md:"9",sm:"12"}}),a("v-col",{attrs:{cols:"12",md:"3",sm:"12"}},[a("v-btn",{staticClass:"background-primary-dark button-basic",attrs:{elevation:"2",block:"",raised:"",depressed:""},on:{click:e.guardarTipoMaquinaria}},[e._v("Agregar afectación")])],1),a("v-col",{attrs:{cols:"12"}},[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.maquinariaHeader,items:e.itemsMaquinaria},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-toolbar",{staticClass:"border-head-table font-weight-bold",staticStyle:{"background-color":"#F2F2F2"},attrs:{flat:"",height:"10px"}})]},proxy:!0},{key:"item.actions",fn:function(t){var o=t.item;return[a("v-icon",{attrs:{small:""},on:{click:function(t){return e.eliminarMaquinaria(o)}}},[e._v(" mdi-delete ")])]}}],null,!1,4074150212)})],1)],1)],1):e._e(),a("v-row",{staticClass:"mt-5"},[a("v-col",{attrs:{cols:"12",md:"9",sm:"12"}}),a("v-col",{attrs:{cols:"12",md:"3",sm:"12"}},[a("v-btn",{staticClass:"success button-basic",attrs:{elevation:"2",block:"",raised:"",depressed:""},on:{click:e.guardarSistema}},[e._v("Guardar sistema")])],1)],1)],1)],1)],1)],1)],1)},yt=[],Pt={name:"apicola",props:["obtenerDataApicola"],data:function(){return{dialogApicola:!1,validSectionOne:!0,validMaquinaria:!0,validInsumos:!0,tipoInsumo:[],tipoMaquinarias:[],unidadProduccion:[],editedIndex:-1,especiesHeader:[{text:"No.Colmenas",align:"start",sortable:!1,value:"numColmenas"},{text:"Val.Colmenas",align:"start",sortable:!1,value:"valorColmena"},{text:"Propoleo mensual",align:"start",sortable:!1,value:"propoleoMensual"},{text:"Miel mensual",align:"start",sortable:!1,value:"mielMensual"},{text:"Jalea mensual",align:"start",sortable:!1,value:"jaleaMensual"},{text:"Val.Antes de afectación",align:"start",sortable:!1,value:"valorMensual"},{text:"Ingresos mensuales",align:"start",sortable:!1,value:"ingresoMensual"},{text:"Existio afectación",align:"start",sortable:!1,value:"afectacion"},{text:"Acciones",value:"actions",sortable:!1,width:"2%"}],itemsEspecieAgregada:[],insumosHeader:[{text:"Tipo insumo",align:"start",sortable:!1,value:"nameTipoInsumo"},{text:"Cant. insumo",align:"start",sortable:!1,value:"cantInsumo"},{text:"Nombre comercial",align:"start",sortable:!1,value:"nombreComercial"},{text:"Unidad medida",align:"start",sortable:!1,value:"nameUnidadMedida"},{text:"Valor",align:"start",sortable:!1,value:"valorBienes"},{text:"Eliminar",value:"actions",sortable:!1,width:"2%"}],itemsInsumos:[],maquinariaHeader:[{text:"Maquinaria",align:"start",sortable:!1,value:"nameTipoMaquinariaPem"},{text:"Nombre",align:"start",sortable:!1,value:"nombreMarcaPem"},{text:"valor",align:"start",sortable:!1,value:"valorReparacionPem"},{text:"Eliminar",value:"actions",sortable:!1,width:"2%"}],itemsMaquinaria:[],dataApicola:{},insumos:{},afectacionInsumo:{},rules:{required:[function(e){return!!e||"Campo requerido"}],regexNumber:"return (event.charCode >= 48 && event.charCode <= 57 || event.charCode == 46)"}}},mounted:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getDataApicola();case 2:return t.next=4,e.edicionApicola();case 4:case"end":return t.stop()}}),t)})))()},methods:{getDataApicola:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,m("pecuario",!0);case 3:a=t.sent,e.addDataCampos(a),t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),e.$swal({icon:"error",text:t.t0.response.data.message,confirmButtonText:"Aceptar"});case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))()},edicionApicola:function(){var e=this.$route.params.evento;void 0!==e&&e.dataEspecies.infoApicola.length>0&&(this.itemsEspecieAgregada=e.dataEspecies.infoApicola)},addDataCampos:function(e){this.tipoInsumo=e.inputType,this.unidadProduccion=e.unity,this.tipoMaquinarias=e.machineryTypePEM},cerrarModal:function(){this.limpiarCampos()},limpiarCampos:function(){this.dataApicola={},this.itemsInsumos=[],this.itemsMaquinaria=[],this.editedIndex=-1,this.dialogApicola=!1},eliminarInsumo:function(e){var t=this;this.$swal({title:"Confirmación",text:"Eliminar insumo?",icon:"warning",showCancelButton:!0,confirmButtonText:"Confirmar",cancelButtonText:"Cancelar",showCloseButton:!0,showLoaderOnConfirm:!0}).then((function(a){if(a.value){var o=t.itemsInsumos.indexOf(e);t.itemsInsumos.splice(o,1)}}))},guardarInsumo:function(){this.$refs.formInsumos.validate()&&(this.itemsInsumos.push(this.insumos),this.insumos={})},eliminarMaquinaria:function(e){var t=this;this.$swal({title:"Confirmación",text:"Eliminar maquinaria?",icon:"warning",showCancelButton:!0,confirmButtonText:"Confirmar",cancelButtonText:"Cancelar",showCloseButton:!0,showLoaderOnConfirm:!0}).then((function(a){if(a.value){var o=t.itemsMaquinaria.indexOf(e);t.itemsMaquinaria.splice(o,1)}}))},guardarTipoMaquinaria:function(){this.$refs.formMaquinaria.validate()&&(this.itemsMaquinaria.push(this.afectacionInsumo),this.afectacionInsumo={})},editarSistemaApoicola:function(e){console.log(e),this.editedIndex=this.itemsEspecieAgregada.indexOf(e),this.itemsInsumos=e.insumos,this.itemsMaquinaria=e.maquinarias,this.dataApicola=Object.assign({},e),console.log(e),this.dialogApicola=!0},eliminarSistemaApicola:function(e){var t=this;this.$swal({title:"Confirmación",text:"Eliminar sistema apícola?",icon:"warning",showCancelButton:!0,confirmButtonText:"Confirmar",cancelButtonText:"Cancelar",showCloseButton:!0,showLoaderOnConfirm:!0}).then((function(a){if(a.value){var o=t.itemsEspecieAgregada.indexOf(e);t.itemsEspecieAgregada.splice(o,1),t.obtenerDataApicola(t.itemsEspecieAgregada)}}))},guardarSistema:function(){if(this.$refs.formSectionOne.validate()){if(this.dataApicola.afectacion&&(0===this.itemsMaquinaria.length||0===this.itemsInsumos.length))return void this.$swal({icon:"error",text:"No se han registrado Insumos, equipos, maquinaria y herramientas pecuarias.",confirmButtonText:"Aceptar"});this.dataApicola.insumos=this.itemsInsumos,this.dataApicola.maquinarias=this.itemsMaquinaria,this.editedIndex>-1?Object.assign(this.itemsEspecieAgregada[this.editedIndex],this.dataApicola):this.itemsEspecieAgregada.push(this.dataApicola),this.obtenerDataApicola(this.itemsEspecieAgregada),this.limpiarCampos()}},formatCurrency:function(e,t){this[e][t]&&(this[e][t]=this[e][t].toString(),this[e][t]=parseFloat(this[e][t].replace(/[^\d\.]/g,"")),this[e][t]=this.$options.filters.currency(this[e][t]))}},computed:{verCamposSegunTipoInsumo:function(){var e=this.dataApicola.afectacion;return e||(this.afectacionInsumo={},this.itemsMaquinaria=[],this.itemsInsumos=[]),e},verNuevoTipoInsumo:function(){var e=!1,t=this.afectacionInsumo.tipoInsumo,a=this.dataApicola.afectacion;return 6===t&&t&&a?e=!0:this.afectacionInsumo.nuevoInsumo="",e}}},At=Pt,Et=Object(E["a"])(At,wt,yt,!1,null,null,null),_t=Et.exports,It=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-data-table",{staticClass:"elevation-2",attrs:{headers:e.especiesHeader,items:e.itemsEspecieAgregada},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-toolbar",{staticClass:"background-primary-dropdowns border-head-table font-weight-bold",attrs:{flat:""}},[a("span",{staticClass:"mr-2"},[e._v("Sistema pesquero")]),a("v-btn",{staticClass:" background-primary-dark",attrs:{outlined:"",elevation:"2",fab:"",dark:"",small:""},on:{click:function(t){e.dialogPesquero=!0}}},[a("v-icon",[e._v("mdi-plus")])],1)],1)]},proxy:!0},{key:"item.actions",fn:function(t){var o=t.item;return[a("v-icon",{attrs:{small:"",color:"#004884"},on:{click:function(t){return e.editarSistema(o)}}},[e._v(" mdi-pencil ")]),a("v-icon",{attrs:{small:"",color:"#004884"},on:{click:function(t){return e.eliminarSistemaPesquero(o)}}},[e._v(" mdi-delete ")])]}}])})],1)],1)],1),a("v-dialog",{attrs:{persistent:"",overlay:!1,"max-width":"100%",transition:"dialog-transition"},model:{value:e.dialogPesquero,callback:function(t){e.dialogPesquero=t},expression:"dialogPesquero"}},[a("v-card",{staticClass:"border-basic",attrs:{flat:""}},[a("div",{staticStyle:{"text-align":"right"}},[a("v-btn",{staticClass:"color-primary-dark",attrs:{icon:"",dark:""},on:{click:e.cerrarModal}},[a("v-icon",[e._v("mdi-close-circle")])],1)],1),a("v-card-title",{attrs:{"primary-title":""}},[a("v-container",{staticClass:"color-primary-dark font-weight-bold"},[a("v-row",{staticClass:"align-center justify-center container-titles",staticStyle:{height:"80px"},attrs:{dense:""}},[a("v-col",{attrs:{cols:"12",md:"12",sm:"12"}},[a("center",[e._v("Sistema pesquero")])],1)],1)],1)],1),a("v-card-text",[a("v-container",{attrs:{"grid-list-xs":""}},[a("v-form",{ref:"formSectionOne",attrs:{"lazy-validation":""},model:{value:e.validSectionOne,callback:function(t){e.validSectionOne=t},expression:"validSectionOne"}},[a("v-row",{staticClass:"section",attrs:{dense:""}},[a("v-col",{staticClass:"mt-5",attrs:{cols:"12",md:"12",sm:"12"}},[a("v-text-field",{attrs:{label:"Puerto de desembarque de la pesca",hint:"Puerto de desembarque de la pesca",dense:"",outlined:"",solo:"",flat:"","prepend-inner-icon":"mdi-decagram",required:"",rules:e.required},model:{value:e.dataPesquero.puertoDesembarque,callback:function(t){e.$set(e.dataPesquero,"puertoDesembarque",t)},expression:"dataPesquero.puertoDesembarque"}})],1)],1),a("v-row",{staticClass:"section mt-5",attrs:{dense:""}},[a("v-col",{attrs:{cols:"12",md:"12",sm:"12"}},[a("p",{staticClass:"color-black font-weight-bold"},[e._v("Datos Pesca")])]),a("v-col",{attrs:{cols:"12",md:"6",sm:"6"}},[a("v-autocomplete",{attrs:{items:e.tipoPesquera,"item-text":"tippesq","item-value":"codtippesq",dense:"",outlined:"",solo:"",flat:"",multiple:"",clearable:"",label:"Pesquería que realiza en el año",hint:"Pesquería que realiza en el año","prepend-inner-icon":"mdi-decagram",required:"",rules:e.required},model:{value:e.dataPesquero.tipoPesqueria,callback:function(t){e.$set(e.dataPesquero,"tipoPesqueria",t)},expression:"dataPesquero.tipoPesqueria"}})],1),a("v-col",{attrs:{cols:"12",md:"6",sm:"6"}},[a("v-text-field",{attrs:{label:"Principales especies explotadas",hint:"Principales especies explotadas",dense:"",outlined:"",solo:"",flat:"","prepend-inner-icon":"mdi-decagram",required:"",rules:e.required},model:{value:e.dataPesquero.especieExplotada,callback:function(t){e.$set(e.dataPesquero,"especieExplotada",t)},expression:"dataPesquero.especieExplotada"}})],1)],1)],1),a("v-form",{ref:"formSectionTwo",staticClass:"mt-5",attrs:{"lazy-validation":""},model:{value:e.validSectionTwo,callback:function(t){e.validSectionTwo=t},expression:"validSectionTwo"}},[a("v-row",{staticClass:"section",attrs:{dense:""}},[a("v-col",{attrs:{cols:"12",md:"4",sm:"6"}},[a("v-switch",{staticClass:"ml-1",attrs:{inset:"",label:"Embarcaciones afectadas"},model:{value:e.dataPesquero.embarcacionAfectada,callback:function(t){e.$set(e.dataPesquero,"embarcacionAfectada",t)},expression:"dataPesquero.embarcacionAfectada"}})],1)],1),e.verEmbarcacion?a("v-row",{staticClass:"section mt-3",attrs:{dense:""}},[a("v-col",{attrs:{cols:"12",md:"4",sm:"6"}},[a("v-text-field",{attrs:{label:"Tipo embarcación",hint:"Listar según tipos más frecuentes",dense:"",outlined:"",solo:"",flat:"","prepend-inner-icon":"mdi-decagram",required:"",rules:e.required},model:{value:e.embarcacion.tipoEmbarcacion,callback:function(t){e.$set(e.embarcacion,"tipoEmbarcacion",t)},expression:"embarcacion.tipoEmbarcacion"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-autocomplete",{attrs:{label:"Material de embarcación",hint:"Material de embarcación",items:e.material,"search-input":e.embarcacion.nameMaterial,"item-value":"codembqmaterial","item-text":"embqmaterial",dense:"",solo:"",flat:"",clearable:"",outlined:"",filled:"","prepend-inner-icon":"mdi-decagram",required:"",rules:e.required},on:{"update:searchInput":function(t){return e.$set(e.embarcacion,"nameMaterial",t)},"update:search-input":function(t){return e.$set(e.embarcacion,"nameMaterial",t)}},model:{value:e.embarcacion.material,callback:function(t){e.$set(e.embarcacion,"material",t)},expression:"embarcacion.material"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-autocomplete",{attrs:{label:"Propulsión",hint:"Propulsión, ",items:e.propulsion,"search-input":e.embarcacion.namePropulsion,"item-value":"codpropulsion","item-text":"tipopropulsion",dense:"",solo:"",flat:"",clearable:"",outlined:"",filled:"","prepend-inner-icon":"mdi-decagram",required:"",rules:e.required},on:{"update:searchInput":function(t){return e.$set(e.embarcacion,"namePropulsion",t)},"update:search-input":function(t){return e.$set(e.embarcacion,"namePropulsion",t)}},model:{value:e.embarcacion.propulsion,callback:function(t){e.$set(e.embarcacion,"propulsion",t)},expression:"embarcacion.propulsion"}})],1),a("v-col",{attrs:{cols:"12",md:"4",sm:"6"}},[a("v-text-field",{attrs:{label:"Patente de la embarcación",hint:"Patente de la embarcación",dense:"",outlined:"",solo:"",flat:"","prepend-inner-icon":"mdi-decagram",required:"",rules:e.required},model:{value:e.embarcacion.patenteEmbarcacion,callback:function(t){e.$set(e.embarcacion,"patenteEmbarcacion",t)},expression:"embarcacion.patenteEmbarcacion"}})],1),a("v-col",{attrs:{cols:"12",md:"4",sm:"6"}},[a("v-text-field",{attrs:{label:"Eslora en metros de la embarcación",hint:"Eslora en metros de la embarcación",type:"number",dense:"",outlined:"",solo:"",flat:"","prepend-inner-icon":"mdi-decagram",required:"",rules:e.required,onkeypress:e.regexNumber},model:{value:e.embarcacion.esloraEmbarcacion,callback:function(t){e.$set(e.embarcacion,"esloraEmbarcacion",t)},expression:"embarcacion.esloraEmbarcacion"}})],1),a("v-col",{attrs:{cols:"12",md:"4",sm:"6"}},[a("v-text-field",{attrs:{label:"Edad de la embarcación",hint:"Edad de la embarcación",type:"number",dense:"",outlined:"",solo:"",flat:"","prepend-inner-icon":"mdi-decagram",required:"",rules:e.required,onkeypress:e.regexNumber},model:{value:e.embarcacion.edad,callback:function(t){e.$set(e.embarcacion,"edad",t)},expression:"embarcacion.edad"}})],1),a("v-col",{attrs:{cols:"12",md:"4",sm:"6"}},[a("v-text-field",{attrs:{label:"Valor de la afectación en pesos",hint:"Valor de la afectación en pesos",dense:"",outlined:"",solo:"",flat:"","append-icon":"mdi-currency-usd","prepend-inner-icon":"mdi-decagram",required:"",onkeypress:e.regexNumber,rules:e.required},on:{blur:function(t){return e.formatCurrency("embarcacion","valorEmbarcacion")}},model:{value:e.embarcacion.valorEmbarcacion,callback:function(t){e.$set(e.embarcacion,"valorEmbarcacion",t)},expression:"embarcacion.valorEmbarcacion"}})],1),a("v-col",{attrs:{cols:"12",md:"8",sm:"6"}},[a("v-text-field",{attrs:{label:"Observación",hint:"Observación",dense:"",outlined:"",solo:"",flat:"","prepend-inner-icon":"mdi-decagram",required:"",rules:e.required},model:{value:e.embarcacion.observacionEmbarcacion,callback:function(t){e.$set(e.embarcacion,"observacionEmbarcacion",t)},expression:"embarcacion.observacionEmbarcacion"}})],1),a("v-col",{attrs:{cols:"12",md:"9",sm:"12"}}),a("v-col",{attrs:{cols:"12",md:"3",sm:"12"}},[a("v-btn",{staticClass:"background-primary-dark button-basic",attrs:{elevation:"2",block:"",raised:"",depressed:""},on:{click:e.guardarEmbarcacion}},[e._v("Agregar embarcación")])],1),a("v-col",{attrs:{cols:"12"}},[a("v-data-table",{staticClass:"elevation-2",attrs:{headers:e.embarcacionesHeader,items:e.itemsEmbarcacionesAgregada},scopedSlots:e._u([{key:"top",fn:function(){},proxy:!0},{key:"item.actions",fn:function(t){var o=t.item;return[a("v-icon",{attrs:{small:""},on:{click:function(t){return e.eliminarEmbarcacion(o)}}},[e._v(" mdi-delete ")])]}}],null,!1,1554923808)})],1)],1):e._e()],1),a("v-form",{ref:"formSectionThree",staticClass:"mt-5",attrs:{"lazy-validation":""},model:{value:e.validSectionThree,callback:function(t){e.validSectionThree=t},expression:"validSectionThree"}},[a("v-row",{staticClass:"section",attrs:{dense:""}},[a("v-col",{attrs:{cols:"12",md:"4",sm:"6"}},[a("v-switch",{staticClass:"ml-1",attrs:{inset:"",label:"Instalaciones afectadas"},model:{value:e.dataPesquero.instalacionAfectada,callback:function(t){e.$set(e.dataPesquero,"instalacionAfectada",t)},expression:"dataPesquero.instalacionAfectada"}})],1)],1),e.verInstalacion?a("v-row",{staticClass:"section mt-3",attrs:{dense:""}},[a("v-col",{attrs:{cols:"12",md:"12",sm:"12"}},[a("p",{staticClass:"color-black font-weight-bold"},[e._v("Redes afectadas")])]),a("v-col",{attrs:{cols:"12",sm:"12",md:"4"}},[a("v-autocomplete",{attrs:{label:"Tipos de redes",hint:"Tipos de redes",items:e.tipoRedes,"item-value":"codtipred","item-text":"tipored","search-input":e.dataPesquero.nameTipoRedes,dense:"",solo:"",flat:"",clearable:"",outlined:"",filled:"","prepend-inner-icon":"mdi-decagram",required:"",rules:e.required},on:{"update:searchInput":function(t){return e.$set(e.dataPesquero,"nameTipoRedes",t)},"update:search-input":function(t){return e.$set(e.dataPesquero,"nameTipoRedes",t)}},model:{value:e.dataPesquero.tipoRedes,callback:function(t){e.$set(e.dataPesquero,"tipoRedes",t)},expression:"dataPesquero.tipoRedes"}})],1),a("v-col",{attrs:{cols:"12",md:"4",sm:"12"}},[a("v-text-field",{attrs:{label:"Indique el nombre/ marca del equipo",hint:"Indique el nombre/ marca del equipo",dense:"",outlined:"",solo:"",flat:"","prepend-inner-icon":"mdi-decagram",required:"",rules:e.required},model:{value:e.dataPesquero.marcaRed,callback:function(t){e.$set(e.dataPesquero,"marcaRed",t)},expression:"dataPesquero.marcaRed"}})],1),a("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"auto"},scopedSlots:e._u([{key:"activator",fn:function(t){var o=t.on,i=t.attrs;return[a("v-col",{attrs:{cols:"12",md:"4",sm:"12"}},[a("v-text-field",e._g(e._b({attrs:{label:"Indique la fecha de adquisición del bien",hint:"Indique la fecha de adquisición del bien",readonly:"",dense:"",solo:"",flat:"",outlined:"",filled:""},model:{value:e.dataPesquero.fechaAdquisicion,callback:function(t){e.$set(e.dataPesquero,"fechaAdquisicion",t)},expression:"dataPesquero.fechaAdquisicion"}},"v-text-field",i,!1),o))],1)]}}],null,!1,3079595300),model:{value:e.dataPesquero.menuFechaAdquisicion,callback:function(t){e.$set(e.dataPesquero,"menuFechaAdquisicion",t)},expression:"dataPesquero.menuFechaAdquisicion"}},[a("v-col",{attrs:{cols:"12",md:"4",sm:"12"}},[a("v-date-picker",{attrs:{outlined:""},on:{input:function(t){e.dataPesquero.menuFechaAdquisicion=!1}},model:{value:e.dataPesquero.fechaAdquisicion,callback:function(t){e.$set(e.dataPesquero,"fechaAdquisicion",t)},expression:"dataPesquero.fechaAdquisicion"}})],1)],1),a("v-col",{attrs:{cols:"12",md:"4",sm:"12"}},[a("v-text-field",{attrs:{label:"Indique el precio pagado por el activo",hint:"Indique el precio pagado por el activo",dense:"",outlined:"",solo:"",flat:"","append-icon":"mdi-currency-usd","prepend-inner-icon":"mdi-decagram",required:"",onkeypress:e.regexNumber,rules:e.required},on:{blur:function(t){return e.formatCurrency("dataPesquero","valorRedes")}},model:{value:e.dataPesquero.valorRedes,callback:function(t){e.$set(e.dataPesquero,"valorRedes",t)},expression:"dataPesquero.valorRedes"}})],1),a("v-col",{attrs:{cols:"12",sm:"12",md:"4"}},[a("v-autocomplete",{attrs:{label:"Indique si el daño en el activo causo una pérdida",hint:"Indique si el daño en el activo causo una pérdida",items:e.tipoPerdida,"item-value":"codtipperdida","item-text":"tipperdida","search-input":e.dataPesquero.nameTipoPerdida,dense:"",solo:"",flat:"",clearable:"",outlined:"",filled:"","prepend-inner-icon":"mdi-decagram",required:"",rules:e.required},on:{"update:searchInput":function(t){return e.$set(e.dataPesquero,"nameTipoPerdida",t)},"update:search-input":function(t){return e.$set(e.dataPesquero,"nameTipoPerdida",t)}},model:{value:e.dataPesquero.tipoPerdida,callback:function(t){e.$set(e.dataPesquero,"tipoPerdida",t)},expression:"dataPesquero.tipoPerdida"}})],1),a("v-col",{attrs:{cols:"12",md:"4",sm:"12"}},[a("v-text-field",{attrs:{label:"Cantidad de redes afectadas",hint:"Cantidad de redes afectadas",type:"number",dense:"",outlined:"",solo:"",flat:"","prepend-inner-icon":"mdi-decagram",required:"",rules:e.required,onkeypress:e.regexNumber},model:{value:e.dataPesquero.numeroRedes,callback:function(t){e.$set(e.dataPesquero,"numeroRedes",t)},expression:"dataPesquero.numeroRedes"}})],1)],1):e._e()],1),a("v-form",{ref:"formSectionFour",staticClass:"mt-5",attrs:{"lazy-validation":""},model:{value:e.validSectionFour,callback:function(t){e.validSectionFour=t},expression:"validSectionFour"}},[a("v-row",{staticClass:"section mt-5",attrs:{dense:""}},[a("v-col",{attrs:{cols:"12",md:"12",sm:"12"}},[a("p",{staticClass:"color-black font-weight-bold"},[e._v("Datos de pesca")])]),a("v-col",{attrs:{cols:"12",md:"4",sm:"6"}},[a("v-text-field",{attrs:{label:"Número de faenas de pesca mensuales realizadas antes del evento",hint:"Número de faenas de pesca mensuales realizadas antes del evento",type:"number",dense:"",outlined:"",solo:"",flat:"","prepend-inner-icon":"mdi-decagram",required:"",rules:e.required,onkeypress:e.regexNumber},model:{value:e.dataPesquero.numeroFaenas,callback:function(t){e.$set(e.dataPesquero,"numeroFaenas",t)},expression:"dataPesquero.numeroFaenas"}})],1),a("v-col",{attrs:{cols:"12",md:"4",sm:"6"}},[a("v-text-field",{attrs:{label:"¿Actualmente cuantas faenas de pesca realiza y/o puede realizar en el siguiente mes?",hint:"¿Actualmente cuantas faenas de pesca realiza y/o puede realizar en el siguiente mes?",type:"number",dense:"",outlined:"",solo:"",flat:"","prepend-inner-icon":"mdi-decagram",required:"",rules:e.required,onkeypress:e.regexNumber},model:{value:e.dataPesquero.cantidadFaenasMes,callback:function(t){e.$set(e.dataPesquero,"cantidadFaenasMes",t)},expression:"dataPesquero.cantidadFaenasMes"}})],1),a("v-col",{attrs:{cols:"12",md:"4",sm:"6"}},[a("v-text-field",{attrs:{label:"Valor promedio recibido de la venta de los peces recolectados en cada faena",hint:"Valor promedio recibido de la venta de los peces recolectados en cada faena",dense:"",outlined:"",solo:"",flat:"","append-icon":"mdi-currency-usd","prepend-inner-icon":"mdi-decagram",required:"",rules:e.required,onkeypress:e.regexNumber},on:{blur:function(t){return e.formatCurrency("dataPesquero","valorVentaPeces")}},model:{value:e.dataPesquero.valorVentaPeces,callback:function(t){e.$set(e.dataPesquero,"valorVentaPeces",t)},expression:"dataPesquero.valorVentaPeces"}})],1)],1)],1),a("v-row",{staticClass:"section mt-5",attrs:{dense:""}},[a("v-col",{attrs:{cols:"12",md:"6",sm:"6"}},[a("v-switch",{staticClass:"ml-1",attrs:{inset:"",label:"Instalaciones y maquinaria pesquera afectada"},model:{value:e.dataPesquero.maquinariaAfectada,callback:function(t){e.$set(e.dataPesquero,"maquinariaAfectada",t)},expression:"dataPesquero.maquinariaAfectada"}})],1)],1),e.verMaquinaria?a("v-form",{ref:"formSectionFive",attrs:{"lazy-validation":""},model:{value:e.validSectionFive,callback:function(t){e.validSectionFive=t},expression:"validSectionFive"}},[a("v-row",{staticClass:"section mt-3",attrs:{dense:""}},[a("v-col",{attrs:{cols:"12",md:"12",sm:"12"}},[a("p",{staticClass:"color-black font-weight-bold"},[e._v("Infraestructura, instalaciones y maquinaria acuícolas / pesqueras afectadas")])]),a("v-col",{attrs:{cols:"12",md:"4",sm:"6"}},[a("v-autocomplete",{attrs:{items:e.tipoActivo,"item-text":"tipactivo","item-value":"codtipactivo",dense:"",outlined:"",solo:"",flat:"",clearable:"",label:"Por favor seleccione un activo productivo afectado",hint:"Por favor seleccione un activo productivo afectado","prepend-inner-icon":"mdi-decagram",required:"",rules:e.required},model:{value:e.maquinaria.activoProductivo,callback:function(t){e.$set(e.maquinaria,"activoProductivo",t)},expression:"maquinaria.activoProductivo"}})],1)],1),a("v-row",{staticClass:"section mt-3",attrs:{dense:""}},[a("v-col",{attrs:{cols:"12",md:"12",sm:"12"}},[a("p",{staticClass:"color-black font-weight-bold"},[e._v("Datos del equipo / maquinaria afectado")])]),a("v-col",{attrs:{cols:"12",md:"4",sm:"6"}},[a("v-text-field",{attrs:{label:"Indique el nombre / marca del equipo",hint:"Indique el nombre / marca del equipo",dense:"",outlined:"",solo:"",flat:"","prepend-inner-icon":"mdi-decagram",required:"",rules:e.required},model:{value:e.maquinaria.nombreEquipo,callback:function(t){e.$set(e.maquinaria,"nombreEquipo",t)},expression:"maquinaria.nombreEquipo"}})],1),a("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"auto"},scopedSlots:e._u([{key:"activator",fn:function(t){var o=t.on,i=t.attrs;return[a("v-col",{attrs:{cols:"12",md:"4",sm:"6"}},[a("v-text-field",e._g(e._b({attrs:{label:"¿Cuál fue la fecha de adquisición de bien?",hint:"¿Cuál fue la fecha de adquisición de bien?",readonly:"",dense:"",outlined:"",solo:"",flat:""},model:{value:e.maquinaria.fechaAdquisicion,callback:function(t){e.$set(e.maquinaria,"fechaAdquisicion",t)},expression:"maquinaria.fechaAdquisicion"}},"v-text-field",i,!1),o))],1)]}}],null,!1,1852433719),model:{value:e.maquinaria.menuFechaAdquisicion,callback:function(t){e.$set(e.maquinaria,"menuFechaAdquisicion",t)},expression:"maquinaria.menuFechaAdquisicion"}},[a("v-col",{attrs:{cols:"12",md:"4",sm:"6"}},[a("v-date-picker",{attrs:{outlined:""},on:{input:function(t){e.maquinaria.menuFechaAdquisicion=!1}},model:{value:e.maquinaria.fechaAdquisicion,callback:function(t){e.$set(e.maquinaria,"fechaAdquisicion",t)},expression:"maquinaria.fechaAdquisicion"}})],1)],1),a("v-col",{attrs:{cols:"12",md:"4",sm:"6"}},[a("v-text-field",{attrs:{label:"¿Cuál fue el precio pagado por el activo?",hint:"¿Cuál fue el precio pagado por el activo?",dense:"",outlined:"",solo:"",flat:"","append-icon":"mdi-currency-usd","prepend-inner-icon":"mdi-decagram",required:"",rules:e.required,onkeypress:e.regexNumber},on:{blur:function(t){return e.formatCurrency("maquinaria","valorActivo")}},model:{value:e.maquinaria.valorActivo,callback:function(t){e.$set(e.maquinaria,"valorActivo",t)},expression:"maquinaria.valorActivo"}})],1),a("v-col",{attrs:{cols:"12",md:"4",sm:"6"}},[a("v-text-field",{attrs:{label:"Valor invertido en reponer, reparar y/o adecuar el/la maquina/equipo",hint:"Valor invertido en reponer, reparar y/o adecuar el/la maquina/equipo",dense:"",outlined:"",solo:"",flat:"","append-icon":"mdi-currency-usd","prepend-inner-icon":"mdi-decagram",required:"",rules:e.required,onkeypress:e.regexNumber},on:{blur:function(t){return e.formatCurrency("maquinaria","valorReponer")}},model:{value:e.maquinaria.valorReponer,callback:function(t){e.$set(e.maquinaria,"valorReponer",t)},expression:"maquinaria.valorReponer"}})],1)],1),e.verConstruccion?a("v-row",{staticClass:"section",attrs:{dense:""}},[a("v-col",{attrs:{cols:"12",md:"12",sm:"12"}},[a("p",{staticClass:"color-black font-weight-bold"},[e._v("Construcciones")])]),a("v-col",{attrs:{cols:"12",md:"4",sm:"6"}},[a("v-autocomplete",{attrs:{items:e.tipoConstruccion,"item-text":"tipcons","item-value":"codtipcons",dense:"",outlined:"",solo:"",flat:"",clearable:"",label:"Por favor, indique el tipo de construcción afectada",hint:"Por favor, indique el tipo de construcción afectada","prepend-inner-icon":"mdi-decagram",required:"",rules:e.required},model:{value:e.maquinaria.tipoConstruccion,callback:function(t){e.$set(e.maquinaria,"tipoConstruccion",t)},expression:"maquinaria.tipoConstruccion"}})],1),a("v-col",{attrs:{cols:"12",md:"4",sm:"6"}},[a("v-text-field",{attrs:{label:"¿Cuál es el área en metros cuadrados de la construcción afectada?",hint:"¿Cuál es el área en metros cuadrados de la construcción afectada?",type:"number",dense:"",outlined:"",solo:"",flat:"","prepend-inner-icon":"mdi-decagram",required:"",rules:e.required},model:{value:e.maquinaria.areaAfectada,callback:function(t){e.$set(e.maquinaria,"areaAfectada",t)},expression:"maquinaria.areaAfectada"}})],1),a("v-col",{attrs:{cols:"12",md:"4",sm:"6"}},[a("v-text-field",{attrs:{label:"¿Cuál será el valor invertido en la re-construcción, reparación y/o adecuación del sitio?",hint:"Por favor indique el valor que estima deberá invertir para reconstruir, reparar y/o adecuar las construcciones",dense:"",outlined:"",solo:"",flat:"","append-icon":"mdi-currency-usd",onkeypress:e.regexNumber},on:{blur:function(t){return e.formatCurrency("maquinaria","valorInvertidoAdecuacion")}},model:{value:e.maquinaria.valorInvertidoAdecuacion,callback:function(t){e.$set(e.maquinaria,"valorInvertidoAdecuacion",t)},expression:"maquinaria.valorInvertidoAdecuacion"}})],1),a("v-col",{attrs:{cols:"12",md:"4",sm:"6"}},[a("v-text-field",{attrs:{label:"Tiempo necesario para realizar re-construcción, reparación y/o adecuación del sitio (meses)",hint:"Tiempo necesario para realizar re-construcción, reparación y/o adecuación del sitio (meses)",type:"number",dense:"",outlined:"",solo:"",flat:"",onkeypress:e.regexNumber},model:{value:e.maquinaria.mesesReconstruccion,callback:function(t){e.$set(e.maquinaria,"mesesReconstruccion",t)},expression:"maquinaria.mesesReconstruccion"}})],1)],1):e._e(),a("v-row",{staticClass:"section",attrs:{dense:""}},[a("v-col",{attrs:{cols:"12",md:"8",sm:"12"}}),a("v-col",{attrs:{cols:"12",md:"4",sm:"12"}},[a("v-btn",{staticClass:"background-primary-dark button-basic",attrs:{elevation:"2",block:"",raised:"",depressed:""},on:{click:e.guardarMaquinaria}},[e._v("Agregar instalación/maquinaria")])],1),a("v-col",{attrs:{cols:"12"}},[a("v-data-table",{staticClass:"elevation-2",attrs:{headers:e.maquinariasHeader,items:e.itemsMaquinariasAgregada},scopedSlots:e._u([{key:"top",fn:function(){},proxy:!0},{key:"item.actions",fn:function(t){var o=t.item;return[a("v-icon",{attrs:{small:""},on:{click:function(t){return e.eliminarMaquinaria(o)}}},[e._v(" mdi-delete ")])]}}],null,!1,2658041796)})],1)],1)],1):e._e(),a("v-row",{staticClass:"mt-5"},[a("v-col",{attrs:{cols:"12",md:"9",sm:"12"}}),a("v-col",{attrs:{cols:"12",md:"3",sm:"12"}},[a("v-btn",{staticClass:"success button-basic",attrs:{elevation:"2",block:"",raised:"",depressed:""},on:{click:e.guardarSistema}},[e._v("Guardar sistema")])],1)],1)],1)],1)],1)],1)],1)},St=[],$t={name:"pesquero",props:["obtenerDataPesquero"],data:function(){return{dialogPesquero:!1,validSectionOne:!0,validSectionTwo:!0,validSectionThree:!0,validSectionFour:!0,validSectionFive:!0,especiesHeader:[{text:"Puerto desembarque",align:"start",sortable:!1,value:"puertoDesembarque"},{text:"Especie explotada",align:"start",sortable:!1,value:"especieExplotada"},{text:"Número faenas",align:"start",sortable:!1,value:"numeroFaenas"},{text:"Cantidad faenas(mes)",align:"start",sortable:!1,value:"cantidadFaenasMes"},{text:"Valor venta faenas",align:"start",sortable:!1,value:"valorVentaPeces"},{text:"Acciones",value:"actions",sortable:!1,width:"2%"}],itemsEspecieAgregada:[],embarcacionesHeader:[{text:"Tipo",align:"start",sortable:!1,value:"tipoEmbarcacion"},{text:"Material",align:"start",sortable:!1,value:"nameMaterial"},{text:"Propulsión",align:"start",sortable:!1,value:"namePropulsion"},{text:"Patente",align:"start",sortable:!1,value:"patenteEmbarcacion"},{text:"Eslora",align:"start",sortable:!1,value:"esloraEmbarcacion"},{text:"Edad",align:"start",sortable:!1,value:"edad"},{text:"Valor",align:"start",sortable:!1,value:"valorEmbarcacion"},{text:"Observación",align:"start",sortable:!1,value:"observacionEmbarcacion"},{text:"Eliminar",value:"actions",sortable:!1,width:"2%"}],itemsEmbarcacionesAgregada:[],maquinariasHeader:[{text:"Activo productivo",align:"start",sortable:!1,value:"activoProductivo"},{text:"Nombre equipo",align:"start",sortable:!1,value:"nombreEquipo"},{text:"Fecha adquisición",align:"start",sortable:!1,value:"fechaAdquisicion"},{text:"Valor activo",align:"start",sortable:!1,value:"valorActivo"},{text:"Valor reparación equipo",align:"start",sortable:!1,value:"valorReponer"},{text:"Tipo construcción",align:"start",sortable:!1,value:"nombreTipoConstruccion"},{text:"Área afectada",align:"start",sortable:!1,value:"areaAfectada"},{text:"Valor invetido adecuaciones",align:"start",sortable:!1,value:"valorInvertidoAdecuacion"},{text:"Meses reconstrucción",align:"start",sortable:!1,value:"mesesReconstruccion"},{text:"Eliminar",value:"actions",sortable:!1,width:"2%"}],itemsMaquinariasAgregada:[],dataPesquero:{},embarcacion:{},maquinaria:{},tipoPesquera:[],tipoActivo:[],tipoConstruccion:[],material:[],propulsion:[],tipoRedes:[],tipoPerdida:[],editedIndex:-1,regexNumber:"return (event.charCode >= 48 && event.charCode <= 57 || event.charCode == 46)",required:[function(e){return!!e||"Campo requerido"}]}},created:function(){},mounted:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.obtenerData();case 2:return t.next=4,e.edicionPesquero();case 4:case"end":return t.stop()}}),t)})))()},methods:{obtenerData:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,m("pesquero",!0);case 3:a=t.sent,e.addDataCampos(a),t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))()},edicionPesquero:function(){var e=this.$route.params.evento;void 0!==e&&e.dataEspecies.infoPesquero.length>0&&(this.itemsEspecieAgregada=e.dataEspecies.infoPesquero)},addDataCampos:function(e){this.tipoPesquera=e.fishingType,this.tipoActivo=e.activeType,this.tipoConstruccion=e.buildingType,this.material=e.embqMaterial,this.propulsion=e.propType,this.tipoRedes=e.redType,this.tipoPerdida=e.lossType},cerrarModal:function(){this.limpiarCampos()},limpiarCampos:function(){this.dataPesquero={},this.itemsEmbarcacionesAgregada={},this.itemsMaquinariasAgregada={},this.editedIndex=-1,this.dialogPesquero=!1},editarSistema:function(e){this.editedIndex=this.itemsEspecieAgregada.indexOf(e),console.log(this.editedIndex),this.itemsEmbarcacionesAgregada=e.embarcaciones,this.itemsMaquinariasAgregada=e.maquinarias,this.dataPesquero=Object.assign({},e),this.dialogPesquero=!0},eliminarSistemaPesquero:function(e){var t=this;this.$swal({title:"Confirmación",text:"Eliminar sistema pesquero?",icon:"warning",showCancelButton:!0,confirmButtonText:"Confirmar",cancelButtonText:"Cancelar",showCloseButton:!0,showLoaderOnConfirm:!0}).then((function(a){if(a.value){var o=t.itemsEspecieAgregada.indexOf(e);t.itemsEspecieAgregada.splice(o,1),t.obtenerDataPesquero(t.itemsEspecieAgregada)}}))},guardarEmbarcacion:function(){this.$refs.formSectionTwo.validate()&&(this.itemsEmbarcacionesAgregada.push(this.embarcacion),this.embarcacion={})},eliminarEmbarcacion:function(e){var t=this;this.$swal({title:"Confirmación",text:"Eliminar embarcación?",icon:"warning",showCancelButton:!0,confirmButtonText:"Confirmar",cancelButtonText:"Cancelar",showCloseButton:!0,showLoaderOnConfirm:!0}).then((function(a){if(a.value){var o=t.itemsEmbarcacionesAgregada.indexOf(e);t.itemsEmbarcacionesAgregada.splice(o,1)}}))},guardarMaquinaria:function(){if(this.$refs.formSectionFive.validate()){var e=this.maquinaria.tipoConstruccion;if(e){var t=this.tipoConstruccion.filter((function(t){return t.codtipcons===e}));this.maquinaria.nombreTipoConstruccion=t[0]["tipcons"]}this.itemsMaquinariasAgregada.push(this.maquinaria),this.maquinaria={}}},eliminarMaquinaria:function(e){var t=this;this.$swal({title:"Confirmación",text:"Eliminar maquinaria?",icon:"warning",showCancelButton:!0,confirmButtonText:"Confirmar",cancelButtonText:"Cancelar",showCloseButton:!0,showLoaderOnConfirm:!0}).then((function(a){if(a.value){var o=t.itemsMaquinariasAgregada.indexOf(e);t.itemsMaquinariasAgregada.splice(o,1)}}))},guardarSistema:function(){var e=this.dataPesquero.embarcacionAfectada,t=this.dataPesquero.instalacionAfectada,a=this.dataPesquero.maquinariaAfectada;!e||this.itemsEmbarcacionesAgregada.length?!t||this.itemsEmbarcacionesAgregada.length?!a||this.itemsMaquinariasAgregada.length?this.$refs.formSectionOne.validate()&&this.$refs.formSectionFour.validate()&&(this.dataPesquero.embarcaciones=this.itemsEmbarcacionesAgregada,this.dataPesquero.maquinarias=this.itemsMaquinariasAgregada,this.editedIndex>-1?Object.assign(this.itemsEspecieAgregada[this.editedIndex],this.dataPesquero):this.itemsEspecieAgregada.push(this.dataPesquero),this.obtenerDataPesquero(this.itemsEspecieAgregada),this.limpiarCampos()):this.$swal({icon:"error",text:"No se han registrado datos de maquinaria.",confirmButtonText:"Aceptar"}):this.$swal({icon:"error",text:"No se han registrado datos de redes afectadas.",confirmButtonText:"Aceptar"}):this.$swal({icon:"error",text:"No se han registrado datos de embarcación.",confirmButtonText:"Aceptar"})},eliminarSistemaPecuario:function(e){var t=this;this.$swal({title:"Confirmación",text:"Eliminar especie pecuaria?",icon:"warning",showCancelButton:!0,confirmButtonText:"Confirmar",cancelButtonText:"Cancelar",showCloseButton:!0,showLoaderOnConfirm:!0}).then((function(a){if(a.value){var o=t.itemsEspecieAgregada.indexOf(e);t.itemsEspecieAgregada.splice(o,1)}}))},formatCurrency:function(e,t){this[e][t]&&(this[e][t]=this[e][t].toString(),this[e][t]=parseFloat(this[e][t].replace(/[^\d\.]/g,"")),this[e][t]=this.$options.filters.currency(this[e][t]))}},computed:{verEmbarcacion:function(){var e=!!this.dataPesquero.embarcacionAfectada;return e||(this.embarcacion={},this.itemsEmbarcacionesAgregada=[]),e},verInstalacion:function(){var e=!!this.dataPesquero.instalacionAfectada;return e||(delete this.dataPesquero.tipoRedes,delete this.dataPesquero.marcaRed,delete this.dataPesquero.fechaAdquisicion,delete this.dataPesquero.numeroRedes,delete this.dataPesquero.tipoPerdida,delete this.dataPesquero.valorRedes),e},verMaquinaria:function(){var e=!!this.dataPesquero.maquinariaAfectada;return e||(delete this.dataPesquero.activoProductivo,this.maquinaria={},this.itemsMaquinariasAgregada=[]),e},verConstruccion:function(){var e=2===this.maquinaria.activoProductivo;return e||(delete this.maquinaria.tipoConstruccion,delete this.maquinaria.areaAfectada,delete this.maquinaria.valorInvertidoAdecuacion,delete this.maquinaria.tiempoMesesReconstruccion),e}}},Tt=$t,Mt=Object(E["a"])(Tt,It,St,!1,null,null,null),Rt=Mt.exports,Ft=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{attrs:{fluid:""}},[a("v-row",{staticClass:"mt-2"},[a("v-col",{attrs:{cols:"12",sm:"12",md:"12"}},[a("v-alert",{attrs:{color:"#004884",border:"left",elevation:"2","colored-border":"",icon:"mdi-information"}},[e._v(" Siempre que realice un cambio en los campos o en la ubicación debe dar click en el botón asignar ubicación. ")])],1),a("v-col",{staticClass:"section",staticStyle:{"overflow-y":"scroll","max-height":"510px"},attrs:{cols:"12",mg:"4",sm:"4",order:"2","order-sm":"1"}},[a("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[a("v-row",{attrs:{"no-gutters":""}},[e.permitirCaladeros?a("v-col",{staticClass:"mb-5",attrs:{cols:"12"}},[a("v-btn",{staticClass:"background-primary-dark button-basic mr-2",attrs:{elevation:"2",raised:"",block:"",depressed:"",title:"Agregar caladero"},on:{click:function(t){return e.agregarCaladero()}}},[e._v(" Agregar caladero ")])],1):e._e(),a("v-col",{attrs:{cols:"12"}},[a("v-file-input",{staticClass:"border-basic",attrs:{"prepend-inner-icon":"mdi-paperclip","prepend-icon":"",multiple:"",dense:"",outlined:"",solo:"",flat:"",counter:"","small-chips":"","show-size":"","truncate-length":"15",label:"Adjuntar archivo"},model:{value:e.ubicacion.adjuntos,callback:function(t){e.$set(e.ubicacion,"adjuntos",t)},expression:"ubicacion.adjuntos"}})],1),e.permitirCaladeros?a("v-col",{attrs:{cols:"12"}},[a("v-text-field",{attrs:{label:"Nombre puerto desembarque",dense:"",outlined:"",solo:"",flat:"",required:"",rules:e.documentRules},model:{value:e.ubicacion.nombrePuerto,callback:function(t){e.$set(e.ubicacion,"nombrePuerto",t)},expression:"ubicacion.nombrePuerto"}})],1):e._e(),a("v-col",{attrs:{cols:"12"}},[a("v-switch",{attrs:{inset:"",label:"Evento ubicado en vereda"},model:{value:e.ubicacion.enVereda,callback:function(t){e.$set(e.ubicacion,"enVereda",t)},expression:"ubicacion.enVereda"}})],1),a("v-col",{attrs:{cols:"12"}},[a("v-text-field",{attrs:{label:"Latitud(X.Y)º",hint:"Latitud(X.Y)º",dense:"",outlined:"",solo:"",flat:"",required:"",disabled:!0,rules:e.documentRules,onkeypress:e.regexNumber},model:{value:e.latitudEvento,callback:function(t){e.latitudEvento=t},expression:"latitudEvento"}})],1),a("v-col",{attrs:{cols:"12"}},[a("v-text-field",{attrs:{label:"Longitud(X.Y)º",hint:"Longitud(X.Y)º",dense:"",outlined:"",solo:"",flat:"",required:"",disabled:!0,rules:e.documentRules,onkeypress:e.regexNumber},model:{value:e.longitudEvento,callback:function(t){e.longitudEvento=t},expression:"longitudEvento"}})],1),a("v-col",{attrs:{cols:"12"}},[a("v-text-field",{attrs:{label:"Precisión(m)",dense:"",outlined:"",solo:"",flat:"",required:"",rules:e.documentRules,onkeypress:e.regexNumber},model:{value:e.ubicacion.precision,callback:function(t){e.$set(e.ubicacion,"precision",t)},expression:"ubicacion.precision"}})],1),a("v-col",{attrs:{cols:"12",md:"12"}},[a("v-text-field",{attrs:{label:"Altitud(m)",dense:"",outlined:"",solo:"",flat:"",required:"",rules:e.documentRules,onkeypress:e.regexNumber},model:{value:e.ubicacion.altitud,callback:function(t){e.$set(e.ubicacion,"altitud",t)},expression:"ubicacion.altitud"}})],1),a("v-col",{attrs:{cols:"12"}},[a("v-autocomplete",{attrs:{label:"Departamento",items:e.departamentos,"search-input":e.ubicacion.nameDepartamento,clearable:"","item-value":"valor",dense:"",outlined:"",solo:"",flat:"",required:"",rules:e.documentRules},on:{"update:searchInput":function(t){return e.$set(e.ubicacion,"nameDepartamento",t)},"update:search-input":function(t){return e.$set(e.ubicacion,"nameDepartamento",t)},change:function(t){return e.cargarMunicipioSegunDepartamento()}},model:{value:e.ubicacion.departamento,callback:function(t){e.$set(e.ubicacion,"departamento",t)},expression:"ubicacion.departamento"}})],1),a("v-col",{attrs:{cols:"12"}},[a("v-autocomplete",{attrs:{label:"Municipio",items:e.relMunicipioDepartamento,"search-input":e.ubicacion.nameMunicipio,"item-value":"valor",dense:"",outlined:"",solo:"",flat:"",required:"",clearable:"",rules:e.documentRules,"no-data-text":"Primero seleccione un departamento"},on:{"update:searchInput":function(t){return e.$set(e.ubicacion,"nameMunicipio",t)},"update:search-input":function(t){return e.$set(e.ubicacion,"nameMunicipio",t)},change:function(t){return e.cargarVeredaSegunMunicipio()}},model:{value:e.ubicacion.municipio,callback:function(t){e.$set(e.ubicacion,"municipio",t)},expression:"ubicacion.municipio"}})],1),a("v-col",{attrs:{cols:"12"}},[e.ubicacion.enVereda?a("v-autocomplete",{attrs:{label:"Vereda",items:e.relVeredaMunicipio,"search-input":e.ubicacion.nameVereda,"item-value":"valor",dense:"",outlined:"",clearable:"",solo:"",flat:"",required:"",rules:e.documentRules},on:{"update:searchInput":function(t){return e.$set(e.ubicacion,"nameVereda",t)},"update:search-input":function(t){return e.$set(e.ubicacion,"nameVereda",t)}},model:{value:e.ubicacion.codVereda,callback:function(t){e.$set(e.ubicacion,"codVereda",t)},expression:"ubicacion.codVereda"}}):e._e()],1),a("v-col",{attrs:{cols:"12"}},[a("v-textarea",{attrs:{label:"Observación",dense:"",outlined:"",solo:"",flat:"",required:"",rules:e.documentRules},model:{value:e.ubicacion.observacion,callback:function(t){e.$set(e.ubicacion,"observacion",t)},expression:"ubicacion.observacion"}})],1)],1)],1)],1),a("v-col",{attrs:{cols:"12",mg:"8",sm:"8",order:"1","order-sm":"2"}},[a("v-container",{staticClass:"ma-0 pa-0",staticStyle:{height:"500px"}},[e.reload?a("l-map",{ref:"eventoMap",attrs:{zoom:e.zoom,"min-zoom":e.minZoom,"max-zoom":e.maxZoom,center:e.center},on:{"update:center":e.centerUpdated,"update:bounds":e.boundsUpdated,ready:function(t){return e.loadMap()},click:e.loadMinMap}},[e.isOnline?a("l-control-layers",{attrs:{position:"topright"}}):e._e(),e._l(e.tileProviders,(function(t){return a("l-tile-layer",{key:t.name,attrs:{name:t.name,visible:t.visible,url:e.isOnline?t.url:t.urlOffline,attribution:t.attribution,"layer-type":"base"}})})),a("l-control-scale",{attrs:{position:"topright",imperial:!0,metric:!1}}),a("l-control-fullscreen",{attrs:{position:"topleft",options:{title:{false:"Ampliar",true:"Reducir"}}}}),e._l(e.markers,(function(t){return a("l-marker",{key:t.id,attrs:{visible:t.visible,draggable:t.draggable,"lat-lng":t.position},on:{"update:latLng":function(a){return e.$set(t,"position",a)},"update:lat-lng":function(a){return e.$set(t,"position",a)},dragend:function(a){return e.setMarkerPosition(t.tipo)}}},[a("l-tooltip",{attrs:{options:{permanent:!0,interactive:!1}}},[e._v(" "+e._s(t.tooltip)+" ")])],1)})),a("l-control",{attrs:{position:"bottomleft"}},[a("v-col",{attrs:{cols:"6"}},[a("v-btn",{staticStyle:{"background-color":"white"},attrs:{elevation:"3",color:"primary",icon:"",dark:"",title:"Capturar ubicación"},on:{click:e.pedirUbicacion}},[a("v-icon",[e._v(" mdi-crosshairs-gps ")])],1)],1),e.isOnline?a("v-col",{attrs:{cols:"6"}},[e.isActive?e._e():a("v-btn",{staticStyle:{"background-color":"white"},attrs:{elevation:"3",color:"primary",icon:"",dark:"",title:"Dibujar área"},on:{click:e.flipActiveEdit}},[a("v-icon",[e._v("mdi-pencil")])],1),e.isActive?a("v-btn",{staticStyle:{"background-color":"white"},attrs:{elevation:"3",color:"primary",icon:"",dark:"",title:"Guardar área"},on:{click:e.flipActiveSave}},[a("v-icon",[e._v("mdi-content-save")])],1):e._e()],1):e._e(),e.isOnline?a("v-col",{attrs:{cols:"6"}},[e.isActive?a("v-btn",{staticStyle:{"background-color":"white"},attrs:{elevation:"3",color:"primary",icon:"",dark:"",title:"Limpiar todo el dibujado"},on:{click:e.limpiarDibujo}},[a("v-icon",[e._v(" mdi-close-thick ")])],1):e._e()],1):e._e()],1),e.seeMiniMap?a("vue-leaflet-minimap",{ref:"miniMap",attrs:{layer:e.isOnline?e.layerOnline:e.layerOffline,options:e.optionsMiniMap}}):e._e(),a("LFreeDraw",{ref:"freeDrawRef",attrs:{mode:e.mode,options:e.optionsLFreeDraw},model:{value:e.polygons,callback:function(t){e.polygons=t},expression:"polygons"}})],2):e._e()],1)],1)],1),a("v-row",[e.markers.length>1?a("v-col",{attrs:{cols:"12",md:"12",sm:"12"}},[a("p",{staticClass:"font-weight-bold mt-5"},[e._v(" Caladeros ")]),a("v-data-table",{staticClass:"elevation-2",attrs:{headers:e.caladerosHeaders,items:e.dataCaladeros,"item-key":"nombre"},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-toolbar",{staticClass:"border-head-table font-weight-bold",staticStyle:{"background-color":"#F2F2F2"},attrs:{flat:"",height:"10px"}})]},proxy:!0},{key:"item.actions",fn:function(t){var o=t.item;return[o.icon?a("v-icon",{attrs:{small:"",color:"#004884"},on:{click:function(t){return e.deleteCaladero(o)}}},[e._v(" mdi-delete ")]):e._e()]}}],null,!1,3439511140)})],1):e._e(),a("v-col",{attrs:{cols:"12",md:"9",sm:"12"}}),a("v-col",{attrs:{cols:"12",md:"3",sm:"12",align:"end",justify:"end"}},[a("v-btn",{staticClass:"background-primary-dark button-basic",attrs:{elevation:"2",raised:"",block:"",depressed:"",title:"Asignar ubicación"},on:{click:function(t){return e.guardarDataMapa()}}},[e._v(" Asignar ubicación ")])],1)],1)],1)},Dt=[],jt=(a("6cc5"),a("e11e")),Ot=a.n(jt),Nt=a("2699"),zt=a("a40a"),Bt=a("4e2b"),Vt=a("fbba"),Ut=a("31dc"),Lt=a("2253"),Gt=a("9ee8"),Ht=a("d371"),Jt=a("c222"),Kt=a("4a3e"),Yt=a.n(Kt),Qt=a("6817"),Zt=a("4c1c"),Xt={name:"EventoUbicacion",components:{LMap:Nt["a"],LTileLayer:zt["a"],VueLeafletMinimap:Yt.a,LMarker:Bt["a"],LIcon:Vt["a"],LTooltip:Ut["a"],LControl:Lt["a"],LControlLayers:Gt["a"],LControlScale:Ht["a"],LControlFullscreen:Jt["a"],LFreeDraw:Qt["a"]},props:["obtenerDataMapa","tipoProductor","reload"],data:function(){return{createMap:null,seeMiniMap:!1,bounds:null,staticAnchor:[20,40],caladerosHeaders:[{text:"Item",align:"start",sortable:!1,value:"id"},{text:"Latitud",align:"start",sortable:!1,value:"position.lat"},{text:"Longitud",align:"start",sortable:!1,value:"position.lng"},{text:"Tipo Ubicación",align:"start",sortable:!1,value:"tipo"},{text:"Eliminar",value:"actions",sortable:!1,width:"2%"}],markers:[{id:1,position:{lat:7.086594479396249,lng:-73.13499631331399},tooltip:" Evento ",draggable:!0,visible:!0,icon:!1,tipo:"Evento"}],center:new Ot.a.latLng(7.086594479396249,-73.13499631331399),url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",tileProviders:[{name:"Street Map",visible:!0,url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",saveToCache:!0,urlOffline:"./img/map/{z}/{x}/{y}.png"},{name:"Transport Map",visible:!1,url:"https://tile.thunderforest.com/transport/{z}/{x}/{y}.png?apikey=e955b6c9bc0b4ec6a38495e3f90d87b5",saveToCache:!0,urlOffline:"./img/map/{z}/{x}/{y}.png"}],layerOnline:new Ot.a.TileLayer("http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"),layerOffline:new Ot.a.TileLayer("./img/map/{z}/{x}/{y}.png"),optionsMiniMap:{position:"bottomright",width:200,height:175,toggleDisplay:!0,minimized:!0},documentRules:[function(e){return!!e||"Campo obligatorio"}],regexNumber:"return (event.charCode >= 48 && event.charCode <= 57)",valid:!1,eventoVereda:!1,departamentos:[],municipios:[],relVeredaMunicipio:[],veredas:[],relMunicipioDepartamento:[],ubicacion:{departamento:"",municipio:"",latitud:"",longitud:"",precision:"",altitud:"",enVereda:!1,codVereda:"",nombrePuerto:"",observacion:""},archivoUbicacion:[],mapSee:!1,polygons:[],isActive:!1,optionsLFreeDraw:{leaveModeAfterCreate:!0}}},mounted:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getDataMapa();case 2:return t.next=4,e.edicionMapa();case 4:case"end":return t.stop()}}),t)})))()},created:function(){var e=this;"geolocation"in navigator?navigator.geolocation.getCurrentPosition((function(t){var a=t.coords;e.markers[0].position.lat=0,e.markers[0].position.lng=0,e.center.lat=0,e.center.lng=0,e.center.lat=a.latitude,e.center.lng=a.longitude,e.markers[0].position.lat=a.latitude,e.markers[0].position.lng=a.longitude,e.ubicacion.latitud=a.latitude,e.ubicacion.longitud=a.longitude}),(function(){e.$toasted.error("No se pudo obtener su ubicación, intentelo mas tarde.",{duration:5e3})}),{enableHighAccuracy:!0}):this.$toasted.error("Lo sentimos, su navegador no tiene soporte para obtener su ubicación.",{duration:5e3})},methods:{loadMap:function(){var e=this.$refs.eventoMap;setTimeout((function(){e.mapObject.invalidateSize()}),1e3)},loadMinMap:function(){this.seeMiniMap=!0},getDataMapa:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a,o,i,r,n,s,l;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,m("mapa",!0);case 3:for(o in a=t.sent,a.departamentos)i={valor:a.departamentos[o][0],text:a.departamentos[o][1]},e.departamentos.push(i);for(r in a.municipios)n={valor:a.municipios[r][0],text:a.municipios[r][2],idDepartamento:a.municipios[r][3]},e.municipios.push(n);for(s in a.veredas)l={valor:a.veredas[s][0],text:a.veredas[s][1],idMunicipio:a.veredas[s][2]},e.veredas.push(l);t.next=13;break;case 9:t.prev=9,t.t0=t["catch"](0),console.log("error:"),console.log(t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,9]])})))()},edicionMapa:function(){var e=this.$route.params.evento;if(console.log("dataEvento mapa:"),console.log(e),void 0!==e&&Object.keys(e.dataEncabezadoEvento).length>0){var t=e.dataEncabezadoEvento,a={adjuntos:t.adjuntos,altitud:t.altitud,caladeros:t.caladeros,codVereda:t.codVereda,departamento:t.departamento,enVereda:t.enVereda,latitud:t.latitud,longitud:t.longitud,municipio:t.municipio,nameDepartamento:t.nameDepartamento,nameMunicipio:t.nameMunicipio,nombrePuerto:t.nombrePuerto,observacion:t.observacion,precision:t.precision};for(var o in this.markers[0].position={lat:a.latitud,lng:a.longitud},a.caladeros)this.markers.push(a.caladeros[o]);this.ubicacion=a,this.cargarMunicipioSegunDepartamento(),this.cargarVeredaSegunMunicipio()}},agregarCaladero:function(){var e=this.markers.length-1,t=this.markers[e].id+1;this.markers.push({id:t,position:{lat:this.markers[0]["position"]["lat"],lng:this.markers[0]["position"]["lng"]},tooltip:" Caladero "+t,draggable:!0,visible:!0,icon:!0,tipo:"Caladero"})},deleteCaladero:function(e){var t=this.markers.indexOf(e);this.markers.splice(t,1)},cargarMunicipioSegunDepartamento:function(){var e=this;this.relMunicipioDepartamento=this.municipios.filter((function(t){return t.idDepartamento===e.ubicacion.departamento}))},cargarVeredaSegunMunicipio:function(){var e=this;this.relVeredaMunicipio=this.veredas.filter((function(t){return t.idMunicipio===e.ubicacion.municipio}))},centerUpdated:function(e){this.center=e},boundsUpdated:function(e){this.bounds=e},pedirUbicacion:function(){var e=this;"geolocation"in navigator?navigator.geolocation.getCurrentPosition((function(t){var a=t.coords;e.markers[0].position.lat=0,e.markers[0].position.lng=0,e.center.lat=0,e.center.lng=0,e.center.lat=a.latitude,e.center.lng=a.longitude,e.markers[0].position.lat=a.latitude,e.markers[0].position.lng=a.longitude,e.ubicacion.latitud=a.latitude,e.ubicacion.longitud=a.longitude}),(function(){e.$toasted.error("No se pudo obtener su ubicación, intentelo mas tarde.",{duration:5e3})}),{enableHighAccuracy:!0}):this.$toasted.error("Lo sentimos, su navegador no tiene soporte para obtener su ubicación.",{duration:5e3})},setMarkerPosition:function(e){var t=this.markers.filter((function(e){return"Evento"===e.tipo}));this.ubicacion.latitud=t[0].position.lat,this.ubicacion.longitud=t[0].position.lng,"Evento"===e&&this.$refs.freeDrawRef.mapObject.clear()},guardarDataMapa:function(){this.$refs.form.validate()&&(this.ubicacion.caladeros=this.markers.filter((function(e){return"Evento"!==e.tipo})),this.obtenerDataMapa(this.ubicacion),this.$swal({icon:"success",text:"Ubicación agregada",confirmButtonText:"Aceptar"}))},flipActiveEdit:function(){this.polygons.length>0&&this.$refs.freeDrawRef.mapObject.clear(),this.isActive=!this.isActive},flipActiveSave:function(){if(this.polygons.length>0){var e=this.centroide(this.polygons[0]);this.center.lat=e[0],this.center.lng=e[1],this.markers[0].position.lat=e[0],this.markers[0].position.lng=e[1],this.ubicacion.latitud=e[0],this.ubicacion.longitud=e[1]}this.isActive=!this.isActive},centroide:function(e){for(var t=0,a=0,o=0,i=e.length,r=function(t){return e[t%i]["lat"]},n=function(t){return e[t%i]["lng"]},s=0;s<e.length;s++){var l=r(s)*n(s+1)-r(s+1)*n(s);t+=l,a+=(r(s)+r(s+1))*l,o+=(n(s)+n(s+1))*l}var c=3*t;return[a/c,o/c]},limpiarDibujo:function(){this.$refs.freeDrawRef.mapObject.clear(),this.isActive=!this.isActive}},computed:{mode:function(){for(var e=0;e<this.markers.length;e++)this.markers[e].visible=!this.isActive;return console.log("markers"),console.log(this.markers),this.isActive?Zt["ALL"]:Zt["NONE"]},width:function(){var e;switch(this.$vuetify.breakpoint.name){case"xs":e=!0;break;case"sm":e=!0;break;case"md":e=!1;break;case"lg":e=!1;break;case"xl":e=!1;break}return e},permitirCaladeros:function(){var e=!1,t=[4,5,6],a=this.tipoProductor.filter((function(e){return t.includes(e)}));return a.length>0?e=!0:this.markers.length>0&&(this.markers=this.markers.filter((function(e){return"Caladero"!==e.tipo})),this.ubicacion.nombrePuerto=""),e},dataCaladeros:function(){return this.markers.filter((function(e){return"Evento"!==e.tipo}))},latitudEvento:function(){var e=this.markers.filter((function(e){return"Evento"===e.tipo}));return this.ubicacion.latitud=e[0].position.lat,this.ubicacion.latitud},longitudEvento:function(){var e=this.markers.filter((function(e){return"Evento"===e.tipo}));return this.ubicacion.longitud=e[0].position.lng,this.ubicacion.longitud},zoom:function(){return this.isOnline?10:7},minZoom:function(){return this.isOnline?2:7},maxZoom:function(){return this.isOnline?17:8}}},Wt=Xt,ea=(a("d0b9"),Object(E["a"])(Wt,Ft,Dt,!1,null,null,null)),ta=ea.exports,aa={components:{productor:it,forestal:ut,agropecuario:ht,pecuarioAcuicola:qt,apicola:_t,pesquero:Rt,mapaEvento:ta},data:function(){return{tipo:"inicioEvent",reload:!1,e6:1,tab:0,steps:[{funcion:"validarEstadoProductor",name:"Productor",icon:"mdi-badge-account-outline",complete:!1,color:"primary",method:this.notMethod},{funcion:"validarEstadoProductor",name:"Ubicación",icon:"mdi-map-legend",complete:!1,color:"primary",method:this.reloadMap},{funcion:"validarEstadoProductor",name:"Información del evento",icon:"mdi-calendar-text-outline",complete:!1,color:"primary",method:this.notMethod}],edicion:!1,id_obj:null,completeProductor:!1,colorProductor:"primary",completeUbicacion:!1,colorUbicacion:"primary",mfnac:!1,valFormEventEnca:!0,dataEventUpdate:[],selEvento:{},tiposEvento:[],tiposSubEvento:[],relEventoSubEvento:[],sisProds:[],enfermedadCuarente:[],plagaCuarente:[],dataProductor:[],dataMapa:[],dataEspecie:{forestal:[],agropecuario:[],infoPecuario:[],infoApicola:[],infoPesquero:[]},dataAgro:[],loading:!1,dataEncabezado:{},cuarentenarias:[{id:1,text:"si"},{id:2,text:"no"}],tipoProductor:[],rulesEventGeneral:[function(e){return!!e||"Campo obligatorio"}],rulesSelectMulti:{select:[function(e){return e.length>0||"Campo obligatorio"}]}}},created:function(){},mounted:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getDataEvent();case 2:return t.next=4,e.edicionEvento();case 4:case"end":return t.stop()}}),t)})))()},methods:{edicionEvento:function(){this.edicion=!1;var e=this.$route.params.evento;if(void 0!==e){this.edicion=!0,this.id_obj=e.id_obj,this.onResultadosProductor(e.dataProductor);var t=e.dataEncabezadoEvento,a={adjuntos:t.adjuntos,altitud:t.altitud,caladeros:t.caladeros,codVereda:t.codVereda,departamento:t.departamento,enVereda:t.enVereda,latitud:t.latitud,longitud:t.longitud,municipio:t.municipio,nameDepartamento:t.nameDepartamento,nameMunicipio:t.nameMunicipio,nombrePuerto:t.nombrePuerto,observacion:t.observacion,precision:t.precision};this.onResultadosMapa(a);var o={tipoEv:t.tipoEv,subEv:t.subEv,cuarentenario:t.cuarentenario,enfermedadCuarente:t.enfermedadCuarente,plagaCuarente:t.plagaCuarente,nombreEnfermedad:t.nombreEnfermedad,nombrePlaga:t.nombrePlaga,otroSubEvento:t.otroSubEvento,sisProds:t.sisProds,nameTipoEv:t.nameTipoEv,nameSubEv:t.nameSubEv,nameCuarentenario:t.nameCuarentenario,nameEnfermedadCuarente:t.nameEnfermedadCuarente,namePlagaCuarente:t.namePlagaCuarente,nameSisProds:t.nameSisProds,validado:t.validado};t.codEvento&&(o.codEvento=t.codEvento),this.selEvento=o,this.cargarSubEventoSegunEvento(),this.onResultadosEspecie(e.dataEspecies.forestal),this.onResultadosAgro(e.dataEspecies.agropecuario),this.onResultadosPecuario(e.dataEspecies.infoPecuario),this.onResultadosApicola(e.dataEspecies.infoApicola),this.onResultadosPesquero(e.dataEspecies.infoPesquero)}},notMethod:function(){},reloadMap:function(){this.reload=!0},onResultadosProductor:function(e){this.dataProductor=e,this.steps[0].complete=this.dataProductor.length>0,this.steps[0].color=this.dataProductor.length>0?"success":"primary",this.completeProductor=this.dataProductor.length>0,this.colorProductor=this.dataProductor.length>0?"success":"primary",this.tipoProductor=[];for(var t=0;t<e.length;t++)this.tipoProductor.push(e[t].tipoProd)},onResultadosMapa:function(e){this.dataMapa=e,this.steps[1].complete=!!this.dataMapa.latitud,this.steps[1].color=this.dataMapa.latitud?"success":"primary",this.completeUbicacion=!!this.dataMapa.latitud,this.colorUbicacion=this.dataMapa.latitud?"success":"primary"},onResultadosEspecie:function(e){this.dataEspecie["forestal"]=e},onResultadosAgro:function(e){this.dataEspecie["agropecuario"]=e},onResultadosPecuario:function(e){this.dataEspecie["infoPecuario"]=e},onResultadosApicola:function(e){this.dataEspecie["infoApicola"]=e},onResultadosPesquero:function(e){this.dataEspecie["infoPesquero"]=e},addEspecie:function(){this.selEvento.especies.unshift({faseProd:"",espAfectada:"",espExtractiva:"",nombre:"",objetivo:"",fecha:"",densHectarea:"",areaSembrada:"",menuFecha:!1})},delEspecie:function(e){var t=this.especies.findIndex((function(t){return t===e}));this.selEvento.especies.splice(t,1)},valEspecies:function(e){!1===e&&(this.selEvento.especies=[])},getDataEvent:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a,o,i,r,n,s,l,c,u,d,p;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,m("encabezado",!0);case 3:for(o in a=t.sent,a.tipoEvento)i={valor:a.tipoEvento[o][0],text:a.tipoEvento[o][1]},e.tiposEvento.push(i);for(r in a.subEvento)n={valor:a.subEvento[r][0],text:a.subEvento[r][1],idEvento:a.subEvento[r][2]},e.tiposSubEvento.push(n);for(s in a.enfermedades)l={valor:a.enfermedades[s][0],text:a.enfermedades[s][1],idEvento:a.enfermedades[s][2]},e.enfermedadCuarente.push(l);for(c in a.plagas)u={valor:a.plagas[c][0],text:a.plagas[c][1],idEvento:a.plagas[c][2]},e.plagaCuarente.push(u);for(d in a.sistemaProductivo)p={valor:a.sistemaProductivo[d][0],text:a.sistemaProductivo[d][1]},e.sisProds.push(p);t.next=14;break;case 11:t.prev=11,t.t0=t["catch"](0),console.log(t.t0);case 14:case"end":return t.stop()}}),t,null,[[0,11]])})))()},cargarSubEventoSegunEvento:function(){var e=this;this.relEventoSubEvento=this.tiposSubEvento.filter((function(t){return t.idEvento===e.selEvento.tipoEv}))},guardarEvento:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a,o,i,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.loading=!0,e.validacionCamposObligatorios(),!1!==e.loading){t.next=4;break}return t.abrupt("return");case 4:return a=e.dataEncabezadoEvento(),o=e.dataProductor,i=e.dataEspecie,t.next=9,m("newEvent",!1);case 9:r=t.sent,e.isOnline&&0===Object.keys(r).length?e.setEventOnline(a,o,i):e.setEventOffline(a,o,i);case 11:case"end":return t.stop()}}),t)})))()},setEventOnline:function(e,t,a){var i=this;return Object(o["a"])(regeneratorRuntime.mark((function o(){var r,n,s,l,c,u;return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:if(r=new FormData,n=0,i.dataMapa.adjuntos){s=Object(X["a"])(i.dataMapa.adjuntos);try{for(s.s();!(l=s.n()).done;)c=l.value,r.append("files"+n,c,c.name),n++}catch(d){s.e(d)}finally{s.f()}}if(r.append("contador",n),r.append("dataEncabezadoEvento",JSON.stringify(e)),r.append("dataProductor",JSON.stringify(t)),r.append("dataEspecies",JSON.stringify(a)),o.prev=7,!e.codEvento){o.next=14;break}return o.next=11,k.modifyEvent(r);case 11:o.t0=o.sent,o.next=17;break;case 14:return o.next=16,k.setDataEvento(r);case 16:o.t0=o.sent;case 17:u=o.t0,200===u.status?(i.$swal({icon:"success",text:u.message,confirmButtonText:"Aceptar"}),i.$router.push("/home")):i.$swal({icon:"error",text:u.message,confirmButtonText:"Aceptar"}),i.loading=!1,o.next=27;break;case 22:o.prev=22,o.t1=o["catch"](7),i.loading=!1,console.log(o.t1),i.$swal({icon:"error",text:o.t1.response.data.message,confirmButtonText:"Aceptar"});case 27:case"end":return o.stop()}}),o,null,[[7,22]])})))()},setEventOffline:function(e,t,a){var i=this;return Object(o["a"])(regeneratorRuntime.mark((function o(){var r,n,s,l;return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:return r=["newEvent"],o.next=3,m("newEvent",!1);case 3:n=o.sent,s=i.edicion&&i.id_obj?i.id_obj:Object.keys(n).length+1,l={id_obj:s,dataEncabezadoEvento:e,dataProductor:t,dataEspecies:a},p({newEvent:l},r,!1),i.$swal({icon:"success",text:"Evento creado exitosamente.",confirmButtonText:"Aceptar"}),i.loading=!1,i.$router.push("/home");case 10:case"end":return o.stop()}}),o)})))()},dataEncabezadoEvento:function(){var e=JSON.parse(localStorage.getItem("dataUser"));for(var t in this.dataEncabezado=this.dataMapa,this.dataEncabezado.idUsuario=e.id,this.selEvento)this.dataEncabezado[t]=this.selEvento[t];return this.dataEncabezado},validacionCamposObligatorios:function(){return 0===Object.keys(this.dataProductor).length?(this.loading=!1,void this.$swal({icon:"error",text:"No se han relacionado productores al evento.",confirmButtonText:"Aceptar"})):Object.keys(this.dataMapa).length<5?(this.loading=!1,void this.$swal({icon:"error",text:"La información de la ubicación del evento esta incompleta.",confirmButtonText:"Aceptar"})):void(this.$refs.formEventEncabezado.validate()||(this.loading=!1))},copiarEnPortaPapeles:function(){var e=this.$refs.dataEventoEnviar;console.log(e);try{var t=document.createRange();t.selectNodeContents(e),window.getSelection().removeAllRanges(),window.getSelection().addRange(t);document.execCommand("copy");window.getSelection().removeRange(t),e&&this.$swal({icon:"success",text:"Información copiada.",confirmButtonText:"Aceptar"})}catch(a){console.log("-Ocurrió un error al copiar el elemento")}}},computed:{width:function(){var e;switch(this.$vuetify.breakpoint.name){case"xs":e=!0;break;case"sm":e=!0;break;case"md":e=!1;break;case"lg":e=!1;break;case"xl":e=!1;break}return e},contForestal:function(){var e=!1;for(var t in this.selEvento.sisProds){if(e)break;e=3===this.selEvento.sisProds[t]}return e},contAgro:function(){var e=!1;for(var t in this.selEvento.sisProds){if(e)break;e=1===this.selEvento.sisProds[t]}return e},contPecuario:function(){var e=!1;for(var t in this.selEvento.sisProds){if(e)break;e=2===this.selEvento.sisProds[t]}return e},contApicola:function(){var e=!1;for(var t in this.selEvento.sisProds){if(e)break;e=5===this.selEvento.sisProds[t]}return e},contPesquero:function(){var e=!1;for(var t in this.selEvento.sisProds){if(e)break;e=4===this.selEvento.sisProds[t]}return e},esEmpresa:function(){var e=!1;for(var t in this.selEvento.condJuridica){if(e)break;e=2===this.selEvento.condJuridica[t]}return e},compTipoDcto:function(){return this.esEmpresa?this.tiposDcto.filter((function(e){return"juridica"===e.persona})):this.tiposDcto.filter((function(e){return"natural"===e.persona}))},especies:function(){return this.selEvento.especies},tipoEventoCuarentenario:function(){var e=!1;return 3===this.selEvento.tipoEv?e=!0:(this.selEvento.enfermedadCuarente=null,this.selEvento.plagaCuarente=null,this.selEvento.nombreEnfermedad=null,this.selEvento.nombrePlaga=null),e},verEnfermendad:function(){var e=!1;return 3===this.selEvento.tipoEv&&17===this.selEvento.subEv&&1==this.selEvento.cuarentenario?e=!0:this.selEvento.enfermedadCuarente=null,e},verPlaga:function(){var e=!1;return 3===this.selEvento.tipoEv&&16===this.selEvento.subEv&&1==this.selEvento.cuarentenario?e=!0:this.selEvento.plagaCuarente=null,e},verNombreEnfermedad:function(){var e=!1;return 3===this.selEvento.tipoEv&&17===this.selEvento.subEv&&2==this.selEvento.cuarentenario?e=!0:this.selEvento.nombreEnfermedad=null,e},verNombrePlaga:function(){var e=!1;return 3===this.selEvento.tipoEv&&16===this.selEvento.subEv&&2==this.selEvento.cuarentenario?e=!0:this.selEvento.nombrePlaga=null,e},verOtroSudEvento:function(){var e=!1;return 4===this.selEvento.tipoEv&&28===this.selEvento.subEv?e=!0:this.selEvento.otroSubEvento=null,e}}},oa=aa,ia=Object(E["a"])(oa,Ze,Xe,!1,null,null,null),ra=ia.exports,na=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"home"},[a("v-container",[a("updateUser",{attrs:{updateUser:!0}})],1)],1)},sa=[],la=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-overlay",{attrs:{value:e.overlay}},[a("v-progress-circular",{attrs:{indeterminate:"",size:"64"}})],1),a("v-container",[a("v-row",{attrs:{dense:""}},[a("v-expansion-panels",{staticClass:"border-basic",attrs:{accordion:""}},[a("v-expansion-panel",[a("v-expansion-panel-header",[e._v("Ver usuarios")]),a("v-expansion-panel-content",[a("v-divider"),a("v-col",{attrs:{cols:"12",md:"12",sm:"12"}},[[a("v-data-table",{staticClass:"elevation-0",attrs:{headers:e.usuariosHeader,items:e.usuarios,"item-key":"idmodulo",loading:e.loading,search:e.filtro,"loading-text":"Cargando datos..."},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-layout",{attrs:{"align-center":"","pa-2":""}},[a("v-spacer"),a("v-col",[a("v-text-field",{attrs:{label:"Filtrar",outlined:"",dense:"","hide-details":"","prepend-icon":"mdi-filter"},model:{value:e.filtro,callback:function(t){e.filtro=t},expression:"filtro"}})],1)],1),a("v-toolbar",{staticClass:"border-head-table font-weight-bold",staticStyle:{"background-color":"#F2F2F2"},attrs:{flat:"",height:"10px"}})]},proxy:!0},{key:"item.actions",fn:function(t){var o=t.item;return[a("v-icon",{attrs:{small:"",color:"#004884"},on:{click:function(t){return e.editar(o)}}},[e._v(" mdi-pencil ")])]}}])})]],2)],1)],1)],1)],1),a("v-card",{staticClass:"border-basic mt-5",attrs:{"elevation-2":""}},[a("v-card-text",[a("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[a("div",{staticClass:"font-weight-light p-content"},[e._v("Nombres")]),a("v-text-field",{attrs:{outlined:"",dense:"",rules:e.nameRules,maxlength:"100",required:""},model:{value:e.firstName,callback:function(t){e.firstName=t},expression:"firstName"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[a("div",{staticClass:"font-weight-light p-content"},[e._v("Apellidos")]),a("v-text-field",{attrs:{outlined:"",dense:"",rules:e.nameRules,maxlength:"100",required:""},model:{value:e.lastName,callback:function(t){e.lastName=t},expression:"lastName"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[a("div",{staticClass:"font-weight-light p-content"},[e._v("No.Documento")]),a("v-text-field",{attrs:{outlined:"",dense:"",rules:e.documentRules,maxlength:"15",required:"",onkeypress:"return (event.charCode >= 48 && event.charCode <= 57)"},model:{value:e.numDocument,callback:function(t){e.numDocument=t},expression:"numDocument"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[a("div",{staticClass:"font-weight-light p-content"},[e._v("Tipo Documento")]),a("v-select",{attrs:{items:e.typeDocuments,"item-value":"valor","item-text":"text",outlined:"",dense:"",solo:"",flat:"",rules:e.requiredRules,required:""},model:{value:e.typeDocument,callback:function(t){e.typeDocument=t},expression:"typeDocument"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[a("div",{staticClass:"font-weight-light p-content"},[e._v("Institución")]),a("v-text-field",{attrs:{outlined:"",dense:"",rules:e.generalRules,maxlength:"100",required:""},model:{value:e.institution,callback:function(t){e.institution=t},expression:"institution"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[a("div",{staticClass:"font-weight-light p-content"},[e._v("Cargo")]),a("v-text-field",{attrs:{outlined:"",dense:"",rules:e.generalRules,maxlength:"100",required:""},model:{value:e.workCenter,callback:function(t){e.workCenter=t},expression:"workCenter"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[a("div",{staticClass:"font-weight-light p-content"},[e._v("Usuario")]),a("v-text-field",{attrs:{outlined:"",dense:"",rules:e.usuarioRules,required:""},model:{value:e.usuario,callback:function(t){e.usuario=t},expression:"usuario"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[a("div",{staticClass:"font-weight-light p-content"},[e._v("Email")]),a("v-text-field",{attrs:{outlined:"",dense:"",rules:e.emailRules,required:""},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[a("div",{staticClass:"font-weight-light p-content"},[e._v("Rol")]),a("v-autocomplete",{attrs:{label:"Rol",hint:"Rol",items:e.roles,"item-value":"id_rol","item-text":"nombre",dense:"",solo:"",flat:"",outlined:"",filled:""},on:{change:e.updateRol},model:{value:e.rol,callback:function(t){e.rol=t},expression:"rol"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[a("div",{staticClass:"font-weight-light p-content"},[e._v("Estado")]),a("v-autocomplete",{attrs:{label:"Rol",hint:"Rol",items:e.estadosUsuario,"item-value":"idEstado","item-text":"nombre",dense:"",solo:"",flat:"",outlined:"",filled:""},model:{value:e.estadoUsuario,callback:function(t){e.estadoUsuario=t},expression:"estadoUsuario"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[a("div",{staticClass:"font-weight-light p-content"},[e._v("Contraseña")]),a("v-text-field",{attrs:{outlined:"",type:"password",dense:"",rules:e.passwordRules},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[a("div",{staticClass:"font-weight-light p-content"},[e._v("Confirmar Contraseña")]),a("v-text-field",{attrs:{outlined:"",type:"password",dense:"",rules:e.passwordRules},model:{value:e.checkPassword,callback:function(t){e.checkPassword=t},expression:"checkPassword"}})],1)],1),a("v-row",{attrs:{justify:"center"}},[a("v-col",{attrs:{cols:"6",sm:"12",md:"6"}},[e.updateUser?a("v-btn",{staticClass:"background-primary-dark button-basic",staticStyle:{width:"100%"},on:{click:e.update}},[e._v("Actualizar")]):e._e()],1)],1)],1)],1)],1)],1)],1)],1)},ca=[],ua={name:"registro",props:["updateUser"],data:function(){return{dialog:!0,overlay:!1,valid:!0,firstName:"",lastName:"",numDocument:"",email:"",usuario:"",estadoUsuario:"",password:"",checkPassword:"",moderador:!1,tratamientoDatos:!1,comentario:"",typeDocuments:[],typeDocument:"",institution:"",workCenter:"",loading:!1,filtro:"",usuariosHeader:[{text:"Usuario",value:"usuario"},{text:"Nombre",value:"nombre"},{text:"Institución",value:"institucion"},{text:"Email",value:"email"},{text:"Rol",value:"nombre_rol"},{text:"Usuario",value:"id_usuario"},{text:"Estado",value:"activo"},{text:"Editar",value:"actions"}],usuarios:[],roles:[],estadosUsuario:[{idEstado:"S",nombre:"Activo"},{idEstado:"N",nombre:"Inactivo"}],idUser:JSON.parse(localStorage.getItem("dataUser")).id,idRol:JSON.parse(localStorage.getItem("dataUser")).id_rol,nameRules:[function(e){return!!e||"Campo obligatorio"},function(e){return e&&e.length<=100||"No más de 100 caracteres"},function(e){return e&&e.length>=3||"No menos de 3 caracteres"}],documentRules:[function(e){return!!e||"El número de documento es requerido"},function(e){return e&&e.length<=15||"No más de 15 caracteres"},function(e){return e&&e.length>=3||"No menos de 3 caracteres"}],usuarioRules:[function(e){return!!e||"Campo obligatorio"},function(e){return e&&e.length<=50||"No más de 50 caracteres"}],emailRules:[function(e){return!!e||"Campo obligatorio"},function(e){return/.+@.+\..+/.test(e)||"E-mail no es valido"}],passwordRules:[function(e){return e.length<16||"No más de 15 caracteres"}],generalRules:[function(e){return!!e||"Campo obligatorio"},function(e){return e&&e.length<100||"No más de 100 caracteres"}],requiredRules:[function(e){return!!e||"Campo obligatorio"}]}},computed:{},mounted:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getData();case 2:case"end":return t.stop()}}),t)})))()},created:function(){if(!0===this.updateUser){var e=JSON.parse(localStorage.getItem("dataUser"));this.firstName=e.nombre,this.lastName=e.apellido,this.numDocument=e.nuDocumento,this.typeDocument=e.idDocumento,this.email=e.email,this.usuario=e.usuario,this.institution=e.institucion,this.workCenter=e.cargo,this.rol=e.id_rol,this.estadoUsuario=e.activo}},methods:{getData:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e.loading=!0,t.next=4,e.tipoDocumento();case 4:return t.next=6,e.getUsuarios();case 6:e.loading=!1,t.next=13;break;case 9:t.prev=9,t.t0=t["catch"](0),e.loading=!1,console.log(t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,9]])})))()},tipoDocumento:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a,o,i,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,w.getDataDocumentoType();case 2:if(a=t.sent,200===a.status)for(i in o=a.data.message.documentType,o)r={valor:o[i][0],text:o[i][1],persona:o[i][2]},e.typeDocuments.push(r);else e.$swal({icon:"error",text:"Ocurrio un problema al consultar la información del servidor.",confirmButtonText:"Aceptar"});case 4:case"end":return t.stop()}}),t)})))()},getUsuarios:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a,o,i,r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,g.getAllUsers();case 2:a=t.sent,200===a.status?(o=a.data.token,i=Object(W["a"])(o),r=i.users,n=i.roles,console.log(i),e.usuarios=r,e.roles=n):e.$swal({icon:"error",text:"Ocurrio un problema al consultar la información del servidor.",confirmButtonText:"Aceptar"});case 4:case"end":return t.stop()}}),t)})))()},data:function(){var e=this.firstName,t=this.lastName,a=this.numDocument,o=this.email,i=this.usuario,r=this.password,n=this.estadoUsuario,s=this.checkPassword,l=this.moderador,c=this.country,u=this.comentario,d=this.typeDocument,m=this.institution,p=this.workCenter,v=this.idRol,f={firstName:e,lastName:t,numDocument:a,email:o,usuario:i,password:r,pascheckPasswordsword:s,active:n,moderador:l,country:c,comentario:u,typeDocument:d,institution:m,workCenter:p,id_rol:v};return f},editar:function(e){this.firstName=e.nombre,this.lastName=e.apellido,this.numDocument=e.numero_documento,this.email=e.email,this.usuario=e.usuario,this.typeDocument=e.cod_tipo_documento,this.institution=e.institucion,this.workCenter=e.cargo,this.idUser=e.id,this.rol=e.rol,this.idRol=e.rol,this.estadoUsuario=e.activo},update:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a,o,i,r,n,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.$refs.form.validate()){t.next=24;break}if(e.overlay=!0,a=e.data(),a.password===a.pascheckPasswordsword){t.next=7;break}return e.$swal({icon:"error",text:"Verifique su contraseña.",confirmButtonText:"Aceptar"}),e.overlay=!1,t.abrupt("return");case 7:return o=JSON.parse(localStorage.getItem("dataUser")).id,a.idUser=e.idUser,console.log(a),t.prev=10,t.next=13,g.updateUser({obj:a});case 13:i=t.sent,200===i.status?(r=i.data.token,n=Object(W["a"])(r),s=n.userobj,console.log(n),e.getData(),o===e.idUser&&(localStorage.dataUser||localStorage.setItem("dataUser",JSON.stringify(s)),e.$session.set("usuario",s.usuario),e.$session.set("email",s.email),e.$session.set("activo",s.activo),e.$session.set("id_rol",s.id_rol)),e.$swal({icon:"success",text:"Datos actualizados.",confirmButtonText:"Aceptar"})):e.$swal({icon:"error",text:i.message,confirmButtonText:"Aceptar"}),e.overlay=!1,t.next=22;break;case 18:t.prev=18,t.t0=t["catch"](10),e.overlay=!1,e.$swal({icon:"error",text:t.t0.response.data.message,confirmButtonText:"Aceptar"});case 22:t.next=25;break;case 24:console.log("Errores en formulario");case 25:case"end":return t.stop()}}),t,null,[[10,18]])})))()},updateRol:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.overlay=!0,t.prev=1,a={obj:{id_rol:e.rol,id:e.idUser}},console.log(a),t.next=6,g.changeRol(a);case 6:o=t.sent,console.log(o),200===o.status?e.$swal({icon:"success",text:o.message,confirmButtonText:"Aceptar"}):e.$swal({icon:"error",text:o.message,confirmButtonText:"Aceptar"}),e.overlay=!1,t.next=16;break;case 12:t.prev=12,t.t0=t["catch"](1),e.overlay=!1,e.$swal({icon:"error",text:t.t0.response.data.message,confirmButtonText:"Aceptar"});case 16:case"end":return t.stop()}}),t,null,[[1,12]])})))()}}},da=ua,ma=Object(E["a"])(da,la,ca,!1,null,"37495d3e",null),pa=ma.exports,va={components:{updateUser:pa},name:"usuario"},fa=va,ha=Object(E["a"])(fa,na,sa,!1,null,null,null),ba=ha.exports,ga=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-dialog",{attrs:{persistent:"","max-width":"700px"},model:{value:e.dialogSeguimiento,callback:function(t){e.dialogSeguimiento=t},expression:"dialogSeguimiento"}},[a("v-card",{staticClass:"border-basic",attrs:{flat:""}},[a("div",{staticStyle:{"text-align":"right"}},[a("v-btn",{staticClass:"color-primary-dark",attrs:{icon:"",dark:""},on:{click:function(t){return e.cerrarModal()}}},[a("v-icon",[e._v("mdi-close-circle")])],1)],1),a("v-subheader",[a("v-icon",[e._v("mdi-map-marker")]),a("span",[e._v("Observación de la ubicación")])],1),a("v-subheader",[a("span",[e._v(e._s(e.$route.params.evento.descrip_llegada_casco_urbano)+" ")])]),a("v-divider"),a("v-chip",{staticClass:"ma-2"},[e._v("Fecha Evento: "+e._s(e.$route.params.evento.fecha_registro_evento)+" ")]),a("v-chip",{staticClass:"ma-2"},[e._v("Tipo Evento: "+e._s(e.$route.params.evento.tipo_evento)+" ")]),a("br"),a("br"),a("v-row",{attrs:{justify:"space-around"}},[a("v-card",{attrs:{width:"100%"}},[a("v-card-text",[a("div",{staticClass:"ml-8 mb-2"},[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-text-field",{attrs:{label:"Filtrar",dense:"",outlined:"",filled:"","prepend-icon":"mdi-filter"},on:{keyup:e.filtrarSeguimiento},model:{value:e.searchSeguimientos,callback:function(t){e.searchSeguimientos=t},expression:"searchSeguimientos"}})],1)],1)],1)],1),a("div",{staticStyle:{width:"auto",height:"auto","max-height":"500px",overflow:"auto"}},[a("v-timeline",{attrs:{"align-top":"",dense:""}},e._l(e.filter,(function(t){return a("v-timeline-item",{key:t.cod_evento_seguimiento,attrs:{color:"primary"},scopedSlots:e._u([{key:"icon",fn:function(){return[a("span",{staticStyle:{color:"white"}},[e._v(e._s(t.nombre_usuario.substr(0,2).toUpperCase()))])]},proxy:!0}],null,!0)},[a("v-card",{staticClass:"elevation-1",attrs:{width:"80%"}},[a("div",{staticClass:"ml-2"},[a("div",{staticClass:"font-weight-normal"},[a("strong",[e._v(e._s(t.nombre_usuario))]),e._v(" @"+e._s(t.fecha_registro)+" "),t.adjuntos.length>0?a("v-icon",{on:{click:function(a){return e.listadoAdjuntos(t.adjuntos)}}},[e._v("mdi-attachment")]):e._e()],1),a("div",[e._v(e._s(t.observacion))])])])],1)})),1)],1),a("v-container",[a("v-progress-linear",{staticClass:"mt-1",attrs:{active:e.loading,indeterminate:e.loading,color:"green accent-4",rounded:"",height:"6"}}),a("v-form",{ref:"form",attrs:{"lazy-validation":"",name:"form1"},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[a("v-row",{attrs:{"no-gutters":e.noGutters}},[a("v-col",{attrs:{cols:"12",md:"12"}},[a("v-file-input",{attrs:{multiple:"",dense:"",counter:"","small-chips":"","show-size":"","truncate-length":"15"},model:{value:e.seguimiento.adjuntos,callback:function(t){e.$set(e.seguimiento,"adjuntos",t)},expression:"seguimiento.adjuntos"}})],1),a("v-col",{attrs:{cols:"12",md:"12"}},[a("v-textarea",{attrs:{dense:"",outlined:"",filled:"",label:"Observación",rules:e.nameRules,required:""},model:{value:e.seguimiento.observacion,callback:function(t){e.$set(e.seguimiento,"observacion",t)},expression:"seguimiento.observacion"}})],1)],1),a("v-btn",{attrs:{block:"",elevation:"2",raised:"",depressed:"",color:"error"},on:{click:function(t){return e.guardarSeguimiento()}}},[e._v("Agregar")])],1)],1)],1)],1)],1),a("br"),a("br"),a("br"),a("v-dialog",{attrs:{scrollable:"","max-width":"300px"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-card",[a("v-card-title",[e._v("Adjuntos")]),a("v-divider"),a("v-card-text",{staticStyle:{height:"auto"}},[e._l(e.descargaAdjuntos,(function(t){return a("v-list-item",{key:t.id},[a("v-list-item-icon",[a("v-icon",[e._v("mdi-download-box")])],1),a("v-list-item-content",[a("a",{on:{click:function(a){return e.descargarAdjunto(t)}}},[e._v(" "+e._s(t.nombre)+" ")])])],1)})),a("br")],2),a("v-divider"),a("v-card-actions",[a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(t){e.dialog=!1}}},[e._v(" Cerrar ")])],1)],1)],1)],1)],1)],1)},xa=[],ka={name:"seguimientos",data:function(){return{dialogSeguimiento:!0,loading:!1,valid:!0,nameRules:[function(e){return!!e||"Campo obligatorio"}],content:"",seguimiento:[],searchSeguimientos:"",filter:[],noGutters:!0,messages:[],dialog:!1,descargaAdjuntos:[]}},mounted:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getSeguimientos();case 2:case"end":return t.stop()}}),t)})))()},methods:{filtrarSeguimiento:function(){var e=this,t=this.messages.filter((function(t){return t.observacion.toLowerCase().includes(e.searchSeguimientos.toLowerCase())}));this.filter=t||this.messages},listadoAdjuntos:function(e){for(var t in this.dialog=!0,this.descargaAdjuntos.splice(0),e){var a={id:e[t].cod_evento_seguimiento_adju,nombre:e[t].nombre_archivo,rutaFinal:e[t].ruta+"/"+e[t].nombre_archivo};this.descargaAdjuntos.push(a)}},descargarAdjunto:function(e){return Object(o["a"])(regeneratorRuntime.mark((function t(){var a,o,i,r,n,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.rutaFinal,o=e.nombre,t.prev=2,t.next=5,C.getAdjunto({ruta:a,nombre:o});case 5:i=t.sent,200===i.status&&(r=i.data,n=window.URL.createObjectURL(new Blob([r])),s=document.createElement("a"),s.href=n,s.setAttribute("download",o),document.body.appendChild(s),s.click()),t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](2),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[2,9]])})))()},getSeguimientos:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a,o,i,r,n,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.$route.params.evento.cod_evento,t.prev=1,t.next=4,C.getSeguimiento({idEvento:a});case 4:if(o=t.sent,200===o.status)for(s in i=o.data.token,r=Object(W["a"])(i),n=r.seguimientos,e.messages.splice(0),n.seguimientos)e.messages.push(n.seguimientos[s]);t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](1),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[1,8]])})))()},guardarSeguimiento:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a,o,i,r,n,s,l,c,u,d,m,p,v;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.$refs.form.validate()){t.next=29;break}if(a=e.$route.params.evento.cod_evento,o=e.seguimiento.observacion,e.loading=!0,i=new FormData,r=0,e.seguimiento.adjuntos){n=Object(X["a"])(e.seguimiento.adjuntos);try{for(n.s();!(s=n.n()).done;)l=s.value,i.append("files"+r,l,l.name),r++}catch(f){n.e(f)}finally{n.f()}}if(c=JSON.parse(localStorage.getItem("dataUser")),i.append("idUsuario",c.id),i.append("contador",r),i.append("idEvento",a),i.append("observacion",o),a){t.next=16;break}return e.$toasted.error("Ocurrio un erro al capturar el ID del evento.",{duration:4e3}),e.loading=!1,t.abrupt("return");case 16:return t.prev=16,t.next=19,C.setSeguimiento(i);case 19:if(u=t.sent,200===u.status){for(v in d=u.data.token,m=Object(W["a"])(d),p=m.seguimientos,e.messages.splice(0),p.seguimientos)e.messages.push(p.seguimientos[v]);e.$toasted.success("Se creo el seguimiento.",{duration:4e3}),e.seguimiento={}}else console.log(u);t.next=27;break;case 23:t.prev=23,t.t0=t["catch"](16),e.$toasted.error(t.t0.response.data.message,{duration:4e3}),console.log(t.t0);case 27:t.next=30;break;case 29:e.$toasted.error("Errores en el formulario.",{duration:4e3});case 30:e.loading=!1;case 31:case"end":return t.stop()}}),t,null,[[16,23]])})))()},cerrarModal:function(){this.dialogSeguimiento=!1}},created:function(){this.filter=this.messages},computed:{}},Ca=ka,qa=Object(E["a"])(Ca,ga,xa,!1,null,null,null),wa=qa.exports,ya=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("br"),a("br"),a("informesPorEvento")],1)},Pa=[],Aa=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-container",{staticClass:"border-basic",attrs:{"elevation-2":""}},[a("v-row",{staticClass:"ma-5"},e._l(e.informes,(function(t,o){return a("v-col",{key:o,attrs:{cols:"12",sm:"6",lg:"4"}},[a("v-card",{staticClass:"elevation-0 card-chart"},[a("v-card-title",[e._v(e._s(t.titulo))]),a("v-card-text",[a("apexchart",{attrs:{type:t.tipo,options:t.chartOptions,series:t.series}})],1),a("v-divider"),a("v-card-actions",[a("p",[e._v("Total: "+e._s(t.total))])])],1)],1)})),1)],1)],1)},Ea=[],_a=a("1321"),Ia=a.n(_a),Sa={name:"informesPorEvento",components:{apexchart:Ia.a},data:function(){return{dataEvento:[],informes:[]}},mounted:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.setDataInformes();case 2:case"end":return t.stop()}}),t)})))()},created:function(){this.dataEvento=this.$route.params.evento},methods:{setDataInformes:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a,o,i,r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.dataEvento.cod_evento,t.prev=1,t.next=4,q.setDataInformesEvento({idEvento:a});case 4:o=t.sent,200===o.status&&(i=o.data.token,r=Object(W["a"])(i),n=r.dataInformes,e.costosDirectosPorActividad(n.costosDirectos),e.costosInDirectosPorRubro(n.costosInDirectos),e.costosInfraestructura(n.tipoInfraestructura),e.perdidaEconomicaForestal(n.perdidaEconomicaForestal),e.valPerdidaEconomica(n.valPerdidaEconomica),e.perdidaEstimadaProduccion(n.perdidaEstimadaProdu)),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](1),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[1,8]])})))()},costosDirectosPorActividad:function(e){var t=e.length>0?[]:[0],a=e.length>0?[]:["0"],o=0;for(var i in e){var r=parseFloat(e[i].gasto_incurrido.replace("$",""));r<=0||(t.push(r),a.push(e[i].actividad),o+=r)}var n={tipo:"bar",ref:"barchartDirectos",titulo:"$ Costos directos por rubro",total:o?"$"+new Intl.NumberFormat("es-ES").format(o):"No hay perdida",series:[{name:"cantidad",data:t}],chartOptions:{xaxis:{categories:a},grid:{xaxis:{lines:{show:!0}}},plotOptions:{bar:{borderRadius:10,horizontal:!1}}}};this.informes.push(n)},costosInDirectosPorRubro:function(e){var t=e.length>0?[]:[0],a=e.length>0?[]:["0"],o=0;for(var i in e){var r=parseFloat(e[i].gasto_incurrido.replace("$",""));r<=0||(t.push(r),a.push(e[i].rubros),o+=r)}var n={tipo:"bar",ref:"barchartInDirectos",titulo:"$ Costos indirectos por rubro",total:o?"$"+new Intl.NumberFormat("es-ES").format(o):"No hay perdida",series:[{data:t}],chartOptions:{xaxis:{categories:a},grid:{xaxis:{lines:{show:!0}}},plotOptions:{bar:{borderRadius:10,horizontal:!1}}}};this.informes.push(n)},costosInfraestructura:function(e){var t=e.length>0?[]:[0],a=e.length>0?[]:["0"],o=0;for(var i in e){var r=parseFloat(e[i].vlr_semilla.replace("$",""));t.push(r);var n=parseFloat(e[i].vlr_fertilizante.replace("$",""));t.push(n);var s=parseFloat(e[i].vlr_maquinaria.replace("$",""));t.push(s);var l=parseFloat(e[i].vlr_maquinaria.replace("$",""));t.push(l),r<=0&&n<=0&&s<=0&&l<=0||(o+=r+n+s+l)}if(e.length>0)a=["Vlr.Semilla","Vlr.Fertilizante","Vlr.Plaguicida","Vlr.Maquinaria"];var c={tipo:"donut",ref:"piechartMaquinaria",titulo:"$ Costos por infraestructura",total:o?"$"+new Intl.NumberFormat("es-ES").format(o):"No hay perdida",series:t,chartOptions:{chart:{type:"donut"},labels:a}};this.informes.push(c)},perdidaEconomicaForestal:function(e){var t=e.length>0?[]:[0],a=e.length>0?[]:["0"],o=0;for(var i in e){var r=parseFloat(e[i].valor.replace("$",""));r<=0||(t.push(r),a.push(""+1*i+1),o+=r)}this.porcePerdidaForestal=o?"%"+new Intl.NumberFormat("es-ES").format(o):"No hay perdida";var n={tipo:"bar",ref:"barchartPerdidaForestal",titulo:"% Perdida plantación forestal",total:o?"%"+new Intl.NumberFormat("es-ES").format(o):"No hay perdida",series:[{data:t}],chartOptions:{xaxis:{categories:a},grid:{xaxis:{lines:{show:!0}}},plotOptions:{bar:{borderRadius:10,horizontal:!1}}}};this.informes.push(n)},valPerdidaEconomica:function(e){var t=e.length>0?[]:[0],a=e.length>0?[]:["0"],o=0;for(var i in e){var r=parseFloat(e[i].valor.replace("$",""));r<=0||(t.push(r),a.push(""+1*i+1),o+=r)}this.totalPerdidaForestal=o?"%"+new Intl.NumberFormat("es-ES").format(o):"No hay perdida";var n={tipo:"bar",ref:"barchartValPerdidaForestal",titulo:"$ Valor perdida plantación forestal",total:o?"$"+new Intl.NumberFormat("es-ES").format(o):"No hay perdida",series:[{data:t}],chartOptions:{xaxis:{categories:a},grid:{xaxis:{lines:{show:!0}}},plotOptions:{bar:{borderRadius:10,horizontal:!1}}}};this.informes.push(n)},perdidaEstimadaProduccion:function(e){var t=e.length>0?[]:[0],a=e.length>0?[]:["0"],o=0;for(var i in e){var r=parseFloat(e[i].valor.replace("$",""));r<=0||(t.push(r),a.push(""+1*i+1),o+=r)}var n={tipo:"bar",ref:"barchartPorcePerdidaEsti",titulo:"% Perdida estimada",total:o>0?"%"+new Intl.NumberFormat("es-ES").format(o):"No hay perdida",series:[{data:t}],chartOptions:{xaxis:{categories:a},grid:{xaxis:{lines:{show:!0}}},plotOptions:{bar:{borderRadius:10,horizontal:!1}}}};this.informes.push(n)}}},$a=Sa,Ta=(a("8799"),Object(E["a"])($a,Aa,Ea,!1,null,"4d7da82d",null)),Ma=Ta.exports,Ra={components:{informesPorEvento:Ma},data:function(){return{}},methods:{}},Fa=Ra,Da=Object(E["a"])(Fa,ya,Pa,!1,null,null,null),ja=Da.exports,Oa=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("br"),a("br"),a("br"),a("informes-generales")],1)},Na=[],za=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-container",{staticClass:"border-basic",attrs:{"elevation-2":""}},[a("v-row",[a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-select",{attrs:{label:"Departamento",items:e.departamentos,"item-value":"valor",dense:"",outlined:"",solo:"",flat:""},on:{change:function(t){return e.cargarMunicipioSegunDepartamento()}},model:{value:e.ubicacion.departamento,callback:function(t){e.$set(e.ubicacion,"departamento",t)},expression:"ubicacion.departamento"}})],1),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-select",{attrs:{label:"Municipio",items:e.relMunicipioDepartamento,"item-value":"valor",dense:"",outlined:"",solo:"",flat:""},on:{change:function(t){return e.setDataInformes(!0)}},model:{value:e.ubicacion.municipio,callback:function(t){e.$set(e.ubicacion,"municipio",t)},expression:"ubicacion.municipio"}})],1)],1),a("div",{staticStyle:{height:"400px",width:"100%"}},[a("l-map",{ref:"mapEvents",staticStyle:{height:"90%"},attrs:{id:"map-informes",zoom:e.zoom,center:e.center,options:e.mapOptions},on:{"update:center":e.centerUpdate,"update:zoom":e.zoomUpdate,ready:function(t){return e.mapReady()}}},[a("l-tile-layer",{attrs:{url:e.url,attribution:e.attribution}}),e._l(e.markers,(function(t){return a("l-marker",{key:t.id,attrs:{visible:t.visible,"lat-lng":t.position}},[a("l-icon",{attrs:{"icon-anchor":[10,10],"class-name":"icon-map"}},[a("v-icon",{staticClass:"icon",attrs:{color:"red"}},[e._v(" mdi-map-marker ")])],1)],1)}))],2)],1),a("v-row",[a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-chip",{attrs:{color:"primary"}},[e._v(" Promerio de edad productores: "+e._s(e.promerioEdad)+" "),a("v-icon",{attrs:{right:""}},[e._v(" mdi-account-outline ")])],1)],1),a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-chip",{attrs:{color:"primary"}},[e._v(" Valor total en perdidas: "+e._s(e.valorPedidas)+" "),a("v-icon",{attrs:{right:""}},[e._v(" mdi-cash ")])],1)],1)],1),a("v-row",e._l(e.informes,(function(t,o){return a("v-col",{key:o,attrs:{cols:"12",sm:"6",lg:"4"}},[a("v-card",{staticClass:"elevation-0 card-chart"},[a("v-card-title",[e._v(e._s(t.titulo))]),a("v-card-text",[a("apexchart",{attrs:{type:t.tipo,options:t.chartOptions,series:t.series}})],1),a("v-divider"),a("v-card-actions",[a("p",[e._v("Total: "+e._s(t.total))])])],1)],1)})),1)],1)],1)},Ba=[];a("ba30");delete jt["Icon"].Default.prototype._getIconUrl,jt["Icon"],jt["Icon"].Default.mergeOptions({iconRetinaUrl:a("584d"),iconUrl:a("6397"),shadowUrl:a("e2b9")});var Va={name:"informesGenerales",components:{LMap:Nt["a"],LTileLayer:zt["a"],LMarker:Bt["a"],LIcon:Vt["a"]},data:function(){return{zoom:10,center:Object(jt["latLng"])(7.086594479396249,-73.13499631331399),url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:"",currentZoom:11.5,currentCenter:Object(jt["latLng"])(7.086594479396249,-73.13499631331399),showParagraph:!1,mapOptions:{zoomSnap:.5},showMap:!0,markers:[],informes:[],departamentos:[],municipios:[],relMunicipioDepartamento:[],ubicacion:{},totalTipoProductor:0,totalSexo:0,totalEtnico:0,totalHectarea:0,promerioEdad:"",totalVolumen:0,valorPedidas:""}},mounted:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.setDataInformes(!1);case 2:case"end":return t.stop()}}),t)})))()},methods:{setDataInformes:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var o,i,r,n,s,l;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return o=t.ubicacion,e&&(t.informes=[]),a.prev=2,a.next=5,q.setDataInformesGenerales({ubicacion:o});case 5:i=a.sent,200===i.status&&(r=i.data.token,n=Object(W["a"])(r),s=n.dataInformes,t.llenarSelect(s),t.promerioEdad=s.promerioEdad[0]["edad"].replace("$",""),l=s.valorPerdida[0]["valor"].replace("$",""),t.valorPedidas=l>0?new Intl.NumberFormat("es-ES").format(s.valorPerdida[0]["valor"]):"No hay perdida",t.ubicacionEventos(s.ubicacionEventos),t.graficaTipoProductor(s.tipoProductor),t.graficaSexoProductor(s.sexoProductores),t.graficaGrupoEtnico(s.grupoEtnico),t.graficaHectaresEspecie(s.hectareasEspecie),t.graficaVolumenMadera(s.volumenMadera),t.graficaDanosInfraestructura(s.danosInfraestructura)),a.next=12;break;case 9:a.prev=9,a.t0=a["catch"](2),console.log(a.t0);case 12:case"end":return a.stop()}}),a,null,[[2,9]])})))()},mapReady:function(){console.log("ready map go!")},zoomUpdate:function(e){this.currentZoom=e},centerUpdate:function(e){this.currentCenter=e},llenarSelect:function(e){for(var t in e.departamentos){var a={valor:e.departamentos[t][0],text:e.departamentos[t][1]};this.departamentos.push(a)}for(var o in e.municipios){var i={valor:e.municipios[o][0],text:e.municipios[o][2],idDepartamento:e.municipios[o][3]};this.municipios.push(i)}},ubicacionEventos:function(e){for(var t in this.markers=[],e){var a=e[t].coord_x.replace("$",""),o=e[t].coord_y.replace("$",""),i={id:t,position:{lat:a,lng:o}};this.markers.push(i)}},cargarMunicipioSegunDepartamento:function(){var e=this;this.relMunicipioDepartamento=this.municipios.filter((function(t){return t.idDepartamento===e.ubicacion.departamento}))},graficaTipoProductor:function(e){var t=e.length>0?[]:[0],a=e.length>0?[]:["0"],o=0;for(var i in e)t.push(parseFloat(e[i].cantidad)),a.push(e[i].tipo_productor),o+=parseFloat(e[i].cantidad);this.graficaBarras(t,a,"Productores afectados",o,"barchartTipoProductor")},graficaSexoProductor:function(e){var t=e.length>0?[]:[0],a=e.length>0?["Hombres","Mujeres"]:["0"],o=0;for(var i in e){var r=parseFloat(e[i].hombres.replace("$","")),n=parseFloat(e[i].mujeres.replace("$",""));t.push(r),t.push(n),o+=r+n}this.graficaBarras(t,a,"Sexo productores",o,"barchartSexo")},graficaGrupoEtnico:function(e){var t=e.length>0?[]:[0],a=e.length>0?[]:["0"],o=0;for(var i in e)t.push(parseFloat(e[i].cantidad)),a.push(e[i].grupo_etnico),o+=parseFloat(e[i].cantidad);this.graficaBarras(t,a,"Grupos étnicos",o,"barchartEtnico")},graficaHectaresEspecie:function(e){var t=e.length>0?[]:[0],a=e.length>0?[]:["0"],o=0;for(var i in e){var r=parseFloat(e[i].cantidad.replace("$",""));t.push(r),a.push(e[i].especie_forestal_afectada),o+=r}this.graficaBarras(t,a,"Hectareas por especie",o,"barchartHectarea")},graficaVolumenMadera:function(e){var t=e.length>0?[]:[0],a=e.length>0?[]:["0"],o=0;for(var i in e){var r=parseFloat(e[i].volumen.replace("$",""));t.push(r),a.push(e[i].tipo_evento),o+=r}this.graficaBarras(t,a,"Volumen Madera",o,"barchartVolumenMadera")},graficaDanosInfraestructura:function(e){var t=e.length>0?[]:[0],a=e.length>0?["Semillas","Fertilizantes","Plaguicidas","Maquinaria"]:["0"],o=0;for(var i in e){var r=parseFloat(e[i].vlr_semilla.replace("$","")),n=parseFloat(e[i].vlr_fertilizante.replace("$","")),s=parseFloat(e[i].vlr_plaguicida.replace("$","")),l=parseFloat(e[i].vlr_maquinaria.replace("$",""));t.push(r),t.push(n),t.push(s),t.push(l),o+=r+n+s+l}this.graficaBarras(t,a,"Daños por infraestructura",o,"barchartDanosInfraEstructura")},graficaBarras:function(e,t,a,o,i){var r={tipo:"bar",ref:i,titulo:a,total:o?"$"+new Intl.NumberFormat("es-ES").format(o):"No hay perdida",series:[{name:"valor",data:e}],chartOptions:{xaxis:{categories:t},grid:{xaxis:{lines:{show:!0}}},plotOptions:{bar:{borderRadius:10,horizontal:!1}}}};this.informes.push(r)}}},Ua=Va,La=(a("baf1"),Object(E["a"])(Ua,za,Ba,!1,null,"4071b3f1",null)),Ga=La.exports,Ha={components:{informesGenerales:Ga},data:function(){return{}}},Ja=Ha,Ka=Object(E["a"])(Ja,Oa,Na,!1,null,null,null),Ya=Ka.exports,Qa=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticStyle:{height:"100vh"}},[a("v-container",{staticClass:"img-main"},[a("validate")],1),a("footerInicio")],1)},Za=[],Xa=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-card",{staticClass:"border-basic",attrs:{elevation:"2","max-width":"600px",width:"600px"}},[a("v-divider"),a("v-card-text",[a("v-container",{staticClass:"p-content text-center"},[a("v-row",[a("v-col",{attrs:{cols:"12"}},[e._v(" "+e._s(e.textEstado)+" "),e.estadoCorreo?e._e():a("v-progress-circular",{attrs:{size:30,color:"primary",indeterminate:""}}),e.estadoCorreo?a("v-icon",{attrs:{color:"success"}},[e._v(" "+e._s(e.iconEstado)+" ")]):e._e()],1)],1)],1)],1)],1)],1)},Wa=[],eo={name:"validateUser",data:function(){return{code:"",textEstado:"Esperando respuesta",estadoCorreo:!1,iconEstado:"mdi-check-all"}},created:function(){this.code=this.$route.params.code},mounted:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.validateUserToken();case 2:case"end":return t.stop()}}),t)})))()},methods:{validateUserToken:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.code,a||(e.textEstado="Ocurrio un error al validar su cuenta.",e.iconEstado="mdi-lock-alert-outline"),t.prev=2,t.next=5,g.validateAccount({code:a});case 5:o=t.sent,200===o.status&&(e.textEstado="Correo validado",e.estadoCorreo=!0,e.$router.push("/inicio")),t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](2),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[2,9]])})))()}}},to=eo,ao=Object(E["a"])(to,Xa,Wa,!1,null,null,null),oo=ao.exports,io={components:{validate:oo,footerInicio:He},data:function(){return{}}},ro=io,no=Object(E["a"])(ro,Qa,Za,!1,null,null,null),so=no.exports,lo=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-container",[a("rolesPermisos")],1)],1)},co=[],uo=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-overlay",{attrs:{value:e.overlay}},[a("v-progress-circular",{attrs:{indeterminate:"",size:"64"}})],1),a("v-row",{attrs:{dense:""}},[a("v-col",{attrs:{cols:"12",sm:"12",md:"10"}},[a("v-text-field",{attrs:{label:"Nombre rol",hint:"Nombre rol",dense:"",solo:"",flat:"",outlined:"",filled:""},model:{value:e.nombreRol,callback:function(t){e.nombreRol=t},expression:"nombreRol"}})],1),a("v-col",{attrs:{cols:"12",sm:"12",md:"2"}},[a("v-btn",{staticClass:"background-primary-dark button-basic",attrs:{elevation:"2",block:"",raised:"",depressed:""},on:{click:e.setDataRoles}},[e._v("Crear rol")])],1)],1),a("div",{staticClass:"mt-2",attrs:{dense:""}},[this.selectedRoles.length>0?a("v-chip",{attrs:{"close-icon":"mdi-delete"}},[a("v-icon",{attrs:{left:"",color:"#004884"}},[e._v(" mdi-label ")]),e._v(" "+e._s(e.selectedRoles[0]["nombre"])+" ")],1):e._e(),this.selectedModulos.length>0?a("v-chip",{staticClass:"ml-2",attrs:{"close-icon":"mdi-delete"}},[a("v-icon",{attrs:{left:"",color:"#004884"}},[e._v(" mdi-label ")]),e._v(" "+e._s(e.selectedModulos[0]["nombre"])+" ")],1):e._e()],1),a("v-row",{staticClass:"mt-5"},[a("v-col",{attrs:{cols:"12",md:"4",sm:"12"}},[[a("v-data-table",{staticClass:"elevation-2",attrs:{headers:e.headersRoles,items:e.roles,"single-select":!0,"show-select":"","item-key":"idrol",loading:e.loadingRoles},on:{input:function(t){return e.modulosSegunRol(t)}},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-toolbar",{staticClass:"border-head-table font-weight-bold",staticStyle:{"background-color":"#F2F2F2"},attrs:{flat:"",height:"10px"}})]},proxy:!0},{key:"item.actions",fn:function(t){var o=t.item;return[a("v-icon",{attrs:{small:"",color:"#004884"},on:{click:function(t){return e.eliminarRol(o)}}},[e._v(" mdi-delete ")])]}}]),model:{value:e.selectedRoles,callback:function(t){e.selectedRoles=t},expression:"selectedRoles"}})]],2),a("v-col",{attrs:{cols:"12",md:"4",sm:"12"}},[[a("v-data-table",{staticClass:"elevation-2",attrs:{headers:e.headersModulos,items:e.modulos,"item-key":"idmodulo"},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-toolbar",{staticClass:"border-head-table font-weight-bold",staticStyle:{"background-color":"#F2F2F2"},attrs:{flat:"",height:"10px"}})]},proxy:!0},{key:"item.actions",fn:function(t){var o=t.item;return[o.glutenfree?a("v-icon",{attrs:{small:"",color:"#004884"},on:{click:function(t){return e.moduloSeleccionado(o)}}},[e._v(" mdi-eye ")]):e._e()]}},{key:"item.glutenfree",fn:function(t){var o=t.item;return[a("v-simple-checkbox",{on:{input:function(t){return e.updateEstadoModulo(t,o)}},model:{value:o.glutenfree,callback:function(t){e.$set(o,"glutenfree",t)},expression:"item.glutenfree"}})]}},{key:"expanded-item",fn:function(e){var t=e.headers;e.item;return[a("td",{attrs:{colspan:t.length}})]}}])})]],2),a("v-col",{attrs:{cols:"12",md:"4",sm:"12"}},[[a("v-data-table",{staticClass:"elevation-2",attrs:{headers:e.headersPermisos,items:e.permisos,"item-key":"idpermiso"},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-toolbar",{staticClass:"border-head-table font-weight-bold",staticStyle:{"background-color":"#F2F2F2"},attrs:{flat:"",height:"10px"}})]},proxy:!0},{key:"item.glutenfree",fn:function(t){var o=t.item;return[a("v-simple-checkbox",{on:{input:function(t){return e.updateEstadoPermiso(t,o)}},model:{value:o.glutenfree,callback:function(t){e.$set(o,"glutenfree",t)},expression:"item.glutenfree"}})]}}])})]],2)],1)],1)},mo=[],po={name:"rolesPermisos",data:function(){return{overlay:!1,loadingRoles:!1,headersRoles:[{text:"Rol",value:"nombre"},{text:"Eliminar",value:"actions",align:"center"}],roles:[],headersModulos:[{text:"Estado",value:"glutenfree",align:"start"},{text:"Módulo",value:"nombre"},{text:"Ver permisos",value:"actions",align:"end"}],modulos:[],headersPermisos:[{text:"Estado",value:"glutenfree",align:"start"},{text:"Permiso",value:"nombre"}],permisos:[],nombreRol:"",dataRolesGlobal:[],dataModuloGlobal:[],dataPermisosGlobales:[],selectedRoles:[],selectedModulos:[],selectedPermisos:[]}},mounted:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getData();case 2:case"end":return t.stop()}}),t)})))()},methods:{getData:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a,o,i,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loadingRoles=!0,t.prev=1,t.next=4,g.getPermisos();case 4:a=t.sent,200===a.status?(o=a.data.message[0]["token"],i=Object(W["a"])(o),r=i.permisos_por_rol,e.roles=[],e.dataRolesGlobal=[],e.moduloData=[],e.permisoData=[],e.dataRoles(r)):e.$swal({icon:"error",text:a.data.message,confirmButtonText:"Aceptar"}),e.loadingRoles=!1,t.next=13;break;case 9:t.prev=9,t.t0=t["catch"](1),e.loadingRoles=!1,e.$swal({icon:"error",text:t.t0.response.data.message,confirmButtonText:"Aceptar"});case 13:case"end":return t.stop()}}),t,null,[[1,9]])})))()},dataRoles:function(e){var t=this;this.dataRolesGlobal=e;var a={};for(var o in e){a={idrol:e[o]["id_rol"],nombre:e[o]["nombre_rol"]},this.roles.push(a);var i={},r=function(a){var r=e[o]["modulos"][a]["id_modulo"];if(s=t.modulos.filter((function(e){return e.idmodulo==r})),s.length>0)return"continue";i={idmodulo:r,nombre:e[o]["modulos"][a]["nombre_modulo"],idrol:"",glutenfree:!1},t.modulos.push(i),t.dataModuloGlobal.push(i),l={};var n=function(i){var r=e[o]["modulos"][a]["permisos"][i]["id_permiso"];if(c=t.permisos.filter((function(e){return e.idpermiso==r})),c.length>0)return"continue";l={idpermiso:r,nombre:e[o]["modulos"][a]["permisos"][i]["nombre_permiso"],idmodulo:"",glutenfree:!1},t.permisos.push(l),t.dataPermisosGlobales.push(l)};for(var u in e[o]["modulos"][a]["permisos"])n(u)};for(var n in e[o]["modulos"]){var s,l,c;r(n)}}},setDataRoles:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a,o,i,r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a={rol:e.nombreRol},e.overlay=!0,t.prev=2,t.next=5,g.setRol(a);case 5:o=t.sent,200===o.status?(i=o.data.message[0]["token"],r=Object(W["a"])(i),n=r.permisos_por_rol,e.roles=[],e.dataRolesGlobal=[],e.moduloData=[],e.permisoData=[],e.dataRoles(n),e.nombreRol="",e.$swal({icon:"success",text:"Rol creado.",confirmButtonText:"Aceptar"})):e.$swal({icon:"error",text:o.data.message,confirmButtonText:"Aceptar"}),t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](2),e.$swal({icon:"error",text:t.t0.response.data.message,confirmButtonText:"Aceptar"});case 12:e.overlay=!1;case 13:case"end":return t.stop()}}),t,null,[[2,9]])})))()},modulosSegunRol:function(e){if(this.selectedRoles.length>0){var t=e[0].idrol,a=this.dataRolesGlobal.filter((function(e){return e.id_rol===t}));if(this.selectedModulos=[],this.permisos=this.dataPermisosGlobales,a.length>0){this.modulos=[];var o={};for(var i in a[0]["modulos"]){var r=a[0]["modulos"][i]["id_modulo"];o={idmodulo:r,nombre:a[0]["modulos"][i]["nombre_modulo"],idrol:t,glutenfree:a[0]["modulos"][i]["estado"]},this.modulos.push(o)}}}else this.modulos=this.dataModuloGlobal,this.permisos=this.dataPermisosGlobales,this.selectedModulos=[]},updateEstadoModulo:function(e,t){var a=this.modulos.indexOf(t);this.selectedRoles.length>0?(this.selectedModulos=[],this.permisos=this.dataPermisosGlobales):this.modulos[a]["glutenfree"]=!1},moduloSeleccionado:function(e){0!==this.selectedRoles.length&&(this.selectedModulos=[],this.selectedModulos.push(e),this.permisosSegunModulo(e))},permisosSegunModulo:function(e){if(this.selectedModulos.length>0){var t=e.idrol,a=e.idmodulo,o=this.dataRolesGlobal.filter((function(e){return e.id_rol===t})),i=o[0]["modulos"].filter((function(e){return e.id_modulo===a}));if(o.length>0&&i.length>0){this.permisos=[];var r={};for(var n in i[0]["permisos"])r={idpermiso:i[0]["permisos"][n]["id_permiso"],nombre:i[0]["permisos"][n]["nombre_permiso"],idmodulo:a,glutenfree:i[0]["permisos"][n]["estado"]},this.permisos.push(r)}else this.permisos=this.dataPermisosGlobales}else this.permisos=this.dataPermisosGlobales},updateEstadoPermiso:function(e,t){var a=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var o,i,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(o=a.permisos.indexOf(t),i={permiso:{id_rol:a.selectedRoles[0]["idrol"],id_modulo:t.idmodulo,id_permiso:t.idpermiso}},!(a.selectedRoles.length>0&&a.selectedModulos.length>0)){e.next=25;break}if(e.prev=3,r=null,a.overlay=!0,!t.glutenfree){e.next=12;break}return e.next=9,g.setPermStatus(i);case 9:r=e.sent,e.next=15;break;case 12:return e.next=14,g.deletePermStatus({data:i});case 14:r=e.sent;case 15:200===r.status?(a.$swal({icon:"success",text:r.data.message,confirmButtonText:"Aceptar"}),a.getData()):(a.permisos[o]["glutenfree"]=!1,a.$swal({icon:"error",text:r.data.message,confirmButtonText:"Aceptar"})),e.next=22;break;case 18:e.prev=18,e.t0=e["catch"](3),a.permisos[o]["glutenfree"]=!1,a.$swal({icon:"error",text:e.t0.response.data.message,confirmButtonText:"Aceptar"});case 22:a.overlay=!1,e.next=27;break;case 25:a.permisos[o]["glutenfree"]=!1,a.$swal({icon:"error",text:"Primero de click en la opción ver permiso.",confirmButtonText:"Aceptar"});case 27:case"end":return e.stop()}}),e,null,[[3,18]])})))()},eliminarRol:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:t.$swal({title:"Confirmación",text:"Eliminar rol?",icon:"warning",showCancelButton:!0,confirmButtonText:"Confirmar",cancelButtonText:"Cancelar",showCloseButton:!0,showLoaderOnConfirm:!0}).then((function(a){a.value&&t.rolaEliminar(e)}));case 1:case"end":return a.stop()}}),a)})))()},rolaEliminar:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var o,i,r,n,s;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return o={rol:e.idrol},a.next=3,g.deleteRolUser({rolDelete:o});case 3:i=a.sent,t.overlay=!0;try{200===i.status?(r=i.data.message[0]["token"],n=Object(W["a"])(r),s=n.permisos_por_rol,t.roles=[],t.dataRolesGlobal=[],t.moduloData=[],t.permisoData=[],console.log(s),t.dataRoles(s),t.$swal({icon:"success",text:"Rol eliminado",confirmButtonText:"Aceptar"}),t.overlay=!1):(t.overlay=!1,t.$swal({icon:"error",text:i.message,confirmButtonText:"Aceptar"}))}catch(error){t.overlay=!1,t.$swal({icon:"error",text:error.response.data.message,confirmButtonText:"Aceptar"})}case 6:case"end":return a.stop()}}),a)})))()}}},vo=po,fo=Object(E["a"])(vo,uo,mo,!1,null,null,null),ho=fo.exports,bo={components:{rolesPermisos:ho},name:"roles"},go=bo,xo=Object(E["a"])(go,lo,co,!1,null,null,null),ko=xo.exports,Co=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("auditoriaGeneral")],1)},qo=[],wo=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",[a("v-row",{attrs:{dense:""}},[a("searchCombobox",{attrs:{listChips:e.listChips,datos:e.dataAuditoria,dataFiltrada:e.dataEventoFiltrada,campoFechaFiltro:"fecha_operacion"}}),a("v-col",{attrs:{cols:"12",sm:"12",md:"10"}}),a("v-col",{attrs:{cols:"12",sm:"12",md:"2"}},[a("descargaCsv",{attrs:{jsonData:e.dataAuditoria,textButton:"Descargar"}})],1),a("v-col",{attrs:{cols:"12",md:"12",sm:"12"}},[[a("v-data-table",{staticClass:"elevation-2",attrs:{headers:e.auditoriaHeader,items:e.dataAuditoria,"item-key":"idmodulo",loading:e.loading,"loading-text":"Cargando datos..."},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-toolbar",{staticClass:"border-head-table font-weight-bold",staticStyle:{"background-color":"#F2F2F2"},attrs:{flat:"",height:"10px"}})]},proxy:!0},{key:"item.actions",fn:function(e){var t=e.item;return[a("descargaCsv",{attrs:{jsonData:[t],textButton:""}})]}}])})]],2)],1)],1)},yo=[],Po=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("JsonExcel",{staticClass:"cursor-click",attrs:{fetch:e.getData,fields:e.jsonFields,"before-generate":e.startDownload,"before-finish":e.finishDownload,type:"csv",name:"Auditoria.csv"}},[e.textButton.length>=1?a("v-btn",{staticClass:"background-primary-dark button-basic",attrs:{elevation:"2",block:"",raised:"",depressed:""}},[e._v(" "+e._s(e.textButton)+" ")]):e._e(),0===e.textButton.length?a("v-icon",{attrs:{color:"#004884"}},[e._v(" mdi-download-box")]):e._e()],1)],1)},Ao=[],Eo=a("f2d9"),_o={name:"descargaCsv",components:{JsonExcel:Eo["a"]},props:["jsonData","textButton"],data:function(){return{jsonFields:{},data:[],json_meta:[[{key:"charset",value:"utf-8"}]]}},methods:{getData:function(){var e={};for(var t in this.jsonData[0])"valor"!==t&&(this.jsonFields[""+t]=t,e[""+t]=this.jsonData[t]);return this.jsonData},startDownload:function(){},finishDownload:function(){this.$swal({icon:"success",text:"Descarga completa",confirmButtonText:"Aceptar"})}}},Io=_o,So=Object(E["a"])(Io,Po,Ao,!1,null,null,null),$o=So.exports,To={name:"auditoria",components:{descargaCsv:$o,searchCombobox:ne},data:function(){return{auditoriaHeader:[{text:"Acción",value:"accion"},{text:"Atributo",value:"atributo"},{text:"Entidad",value:"entidad"},{text:"Fecha operación",value:"fecha_operacion"},{text:"Hora operación",value:"hora_operacion"},{text:"Identificador",value:"id_auditoria"},{text:"Usuario",value:"id_usuario"},{text:"IP",value:"ip"},{text:"Descargar cambios",value:"actions",align:"center"}],dataAuditoria:[],verAlerta:!1,loading:!1,listChips:[{nombreFiltro:"Acción",valor:"accion"},{nombreFiltro:"Atributo",valor:"atributo"},{nombreFiltro:"Entidad",valor:"entidad"},{nombreFiltro:"Fecha operación",valor:"fecha_operacion"},{nombreFiltro:"Hora operación",valor:"hora_operacion"},{nombreFiltro:"Identificador",valor:"id_auditoria"},{nombreFiltro:"Usuario",valor:"id_usuario"},{nombreFiltro:"IP",valor:"ip"}]}},mounted:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getData();case 2:case"end":return t.stop()}}),t)})))()},methods:{getData:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a,o,i,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loading=!0,t.prev=1,t.next=4,w.getDataAudit();case 4:a=t.sent,200===a.status?(o=a.data.token,i=Object(W["a"])(o),r=i.auditorias,e.dataAuditoria=r,e.dataAuditoriaCompleta=r,e.loading=!1):(e.$swal({icon:"error",text:error.message,confirmButtonText:"Aceptar"}),e.loading=!1),t.next=12;break;case 8:t.prev=8,t.t0=t["catch"](1),e.$swal({icon:"error",text:t.t0.response.data.message,confirmButtonText:"Aceptar"}),e.loading=!1;case 12:case"end":return t.stop()}}),t,null,[[1,8]])})))()},dataEventoFiltrada:function(e){this.dataAuditoria=e}},computed:{}},Mo=To,Ro=Object(E["a"])(Mo,wo,yo,!1,null,null,null),Fo=Ro.exports,Do={components:{auditoriaGeneral:Fo},data:function(){return{}}},jo=Do,Oo=Object(E["a"])(jo,Co,qo,!1,null,null,null),No=Oo.exports,zo=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("configuracionGatos",{staticClass:"ma-5"})],1)},Bo=[],Vo=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12",md:"6",sm:"12"}},[a("v-autocomplete",{attrs:{label:"Departamento",hint:"Departamento",items:e.departamentos,"search-input":e.filtro.nameDepartamento,clearable:"","item-text":"nombre","item-value":"id",dense:"",outlined:"",solo:"",flat:""},on:{"update:searchInput":function(t){return e.$set(e.filtro,"nameDepartamento",t)},"update:search-input":function(t){return e.$set(e.filtro,"nameDepartamento",t)}},model:{value:e.filtro.departamento,callback:function(t){e.$set(e.filtro,"departamento",t)},expression:"filtro.departamento"}})],1),a("v-col",{attrs:{cols:"12",md:"6",sm:"12"}},[a("v-autocomplete",{attrs:{label:"Cultivos",hint:"Cultivos",items:e.cultivos,"search-input":e.filtro.nameCultivo,clearable:"","item-text":"tipocultivo","item-value":"codcultivo",dense:"",outlined:"",solo:"",flat:""},on:{"update:searchInput":function(t){return e.$set(e.filtro,"nameCultivo",t)},"update:search-input":function(t){return e.$set(e.filtro,"nameCultivo",t)}},model:{value:e.filtro.cultivo,callback:function(t){e.$set(e.filtro,"cultivo",t)},expression:"filtro.cultivo"}})],1),a("v-col",{attrs:{cols:"12",md:"6",sm:"12"}},[a("v-autocomplete",{attrs:{label:"Variables",hint:"Variables",items:e.variables,"search-input":e.filtro.nameVariables,clearable:"","item-text":"variable_actividad","item-value":"id_variable_actividad",dense:"",outlined:"",solo:"",flat:""},on:{"update:searchInput":function(t){return e.$set(e.filtro,"nameVariables",t)},"update:search-input":function(t){return e.$set(e.filtro,"nameVariables",t)}},model:{value:e.filtro.variables,callback:function(t){e.$set(e.filtro,"variables",t)},expression:"filtro.variables"}})],1),a("v-col",{attrs:{cols:"12",md:"2",sm:"12",black:""}},[a("v-btn",{staticClass:"background-primary-dark button-basic",attrs:{elevation:"2",raised:"",block:"",depressed:"",title:"Buscar gastos"},on:{click:function(t){return e.getGastos()}}},[e._v(" Buscar gastos ")])],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12",md:"12",sm:"12"}},[a("v-data-table",{staticClass:"elevation-2",attrs:{headers:e.headersGastos,items:e.listadoGastos,"item-key":"nombre",loading:e.loadingTable,"no-data-text":"No hay datos."},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-toolbar",{staticClass:"border-head-table font-weight-bold",staticStyle:{"background-color":"#F2F2F2"},attrs:{flat:"",height:"10px"}}),a("v-dialog",{attrs:{"max-width":"500px"},model:{value:e.dialogEdicion,callback:function(t){e.dialogEdicion=t},expression:"dialogEdicion"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"text-h5"},[e._v("Editar "+e._s(e.editedItem.actividad))])]),a("v-card-text",[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"12",md:"12"}},[a("v-text-field",{attrs:{label:"Cantidad",hint:"Cantidad",type:"number",dense:"",outlined:"",solo:"",flat:"",onkeypress:e.regexNumber},model:{value:e.editedItem.cantidad,callback:function(t){e.$set(e.editedItem,"cantidad",t)},expression:"editedItem.cantidad"}})],1),a("v-col",{attrs:{cols:"12",sm:"12",md:"12"}},[a("v-text-field",{attrs:{label:"Costo",hint:"Costo",dense:"",outlined:"",solo:"",flat:"","append-icon":"mdi-currency-usd",onkeypress:e.regexNumber},on:{blur:function(t){return e.formatCurrency("editedItem","costo")}},model:{value:e.editedItem.costo,callback:function(t){e.$set(e.editedItem,"costo",t)},expression:"editedItem.costo"}})],1),a("v-col",{attrs:{cols:"12",sm:"12",md:"12"}},[a("v-text-field",{attrs:{label:"Valor unitario",hint:"Valor unitario",dense:"",outlined:"",solo:"",flat:"","append-icon":"mdi-currency-usd",onkeypress:"regexNumber"},on:{blur:function(t){return e.formatCurrency("editedItem","valor_unitario")}},model:{value:e.editedItem.valor_unitario,callback:function(t){e.$set(e.editedItem,"valor_unitario",t)},expression:"editedItem.valor_unitario"}})],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{staticClass:"background-primary-dark button-basic",attrs:{text:""},on:{click:function(t){e.dialogEdicion=!1}}},[e._v(" Cerrar ")]),a("v-btn",{staticClass:"background-primary-dark button-basic",attrs:{text:"",loading:e.loadingEditar,disabled:e.loadingEditar},on:{click:e.guardar}},[e._v(" Guardar ")])],1)],1)],1)]},proxy:!0},{key:"item.actions",fn:function(t){var o=t.item;return[a("v-icon",{attrs:{small:"",color:"#004884"},on:{click:function(t){return e.editarGasto(o)}}},[e._v(" mdi-pencil ")])]}}])})],1)],1)],1)],1)},Uo=[],Lo={name:"configuracionGatos",data:function(){return{dialogEdicion:!1,loadingTable:!1,loadingEditar:!1,filtro:{},departamentos:[],cultivos:[],variables:[],editedIndex:-1,editedItem:{cantidad:0,costo:0,valor_unitario:0},headersGastos:[{text:"Cantidad",align:"start",sortable:!1,value:"cantidad"},{text:"Costo",align:"start",sortable:!1,value:"costo"},{text:"Valor unitario",align:"start",sortable:!1,value:"valor_unitario"},{text:"Acciones",value:"actions",sortable:!1,align:"center"}],listadoGastos:[],regexNumber:"return (event.charCode >= 48 && event.charCode <= 57 || event.charCode == 46)",required:[function(e){return!!e||"Campo requerido"}]}},mounted:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getData();case 2:case"end":return t.stop()}}),t)})))()},methods:{getData:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a,o,i,r,n,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,m("mapa",!0);case 3:return a=t.sent,t.next=6,m("agricola",!0);case 6:return o=t.sent,t.next=9,y.getAgroCalcAct();case 9:if(i=t.sent,200===i.status){for(n in r=i.data.message,e.variables=r,a.departamentos)s={id:a.departamentos[n][0],nombre:a.departamentos[n][1]},e.departamentos.push(s);e.cultivos=o.cropType}else e.$swal({icon:"error",text:i.data.message,confirmButtonText:"Aceptar"});t.next=16;break;case 13:t.prev=13,t.t0=t["catch"](0),e.$swal({icon:"error",text:t.t0.response.data.message,confirmButtonText:"Aceptar"});case 16:case"end":return t.stop()}}),t,null,[[0,13]])})))()},getGastos:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a,o,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.filtro.departamento&&e.filtro.cultivo){t.next=3;break}return e.$swal({icon:"error",text:"Debe seleccionar el departamento y el cultivo",confirmButtonText:"Aceptar"}),t.abrupt("return");case 3:return e.loadingTable=!0,t.prev=4,a={dpto:e.filtro.departamento,especie:e.filtro.cultivo,variable:e.filtro.variables},t.next=8,y.postAgroCal(a);case 8:o=t.sent,200===o.status?(i=o.data.message,e.listadoGastos=i,e.loadingTable=!1):(e.loadingTable=!1,e.$swal({icon:"error",text:o.data.message,confirmButtonText:"Aceptar"})),t.next=16;break;case 12:t.prev=12,t.t0=t["catch"](4),e.loadingTable=!1,e.$swal({icon:"error",text:t.t0.response.data.message,confirmButtonText:"Aceptar"});case 16:case"end":return t.stop()}}),t,null,[[4,12]])})))()},editarGasto:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:t.editedIndex=t.listadoGastos.indexOf(e),t.editedItem=Object.assign({},e),t.dialogEdicion=!0;case 3:case"end":return a.stop()}}),a)})))()},guardar:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loadingEditar=!0,t.prev=1,a={dpto:e.filtro.departamento,especie:e.filtro.cultivo,variable:e.filtro.variables,cantidad:e.editedItem.cantidad,unitario:e.editedItem.valor_unitario,costo:e.editedItem.costo},t.next=5,y.putAgroCal(a);case 5:o=t.sent,200===o.status?(e.$swal({icon:"success",text:"Datos actualizados",confirmButtonText:"Aceptar"}),e.loadingEditar=!1,e.editedIndex>-1&&Object.assign(e.listadoGastos[e.editedIndex],e.editedItem),e.dialogEdicion=!1):(e.loadingEditar=!1,e.$swal({icon:"error",text:o.data.message,confirmButtonText:"Aceptar"})),t.next=13;break;case 9:t.prev=9,t.t0=t["catch"](1),e.loadingEditar=!1,e.$swal({icon:"error",text:t.t0.response.data.message,confirmButtonText:"Aceptar"});case 13:case"end":return t.stop()}}),t,null,[[1,9]])})))()},formatCurrency:function(e,t){this[e][t]&&(this[e][t]=this[e][t].toString(),this[e][t]=parseFloat(this[e][t].replace(/[^\d\.]/g,"")),this[e][t]=this.$options.filters.currency(this[e][t]))}}},Go=Lo,Ho=Object(E["a"])(Go,Vo,Uo,!1,null,null,null),Jo=Ho.exports,Ko={name:"gastosAgricolas",components:{configuracionGatos:Jo},data:function(){return{}}},Yo=Ko,Qo=Object(E["a"])(Yo,zo,Bo,!1,null,null,null),Zo=Qo.exports,Xo=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-container",{staticClass:"img-main"},[a("updatePassword")],1),a("footerInicio")],1)},Wo=[],ei=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-card",{staticClass:"border-basic",attrs:{flat:""}},[a("div",{staticStyle:{"text-align":"right"}}),a("v-card-title",{staticClass:"title-basic font-weight-bold justify-center"},[e._v("Por favor digite su nueva contraseña")]),a("v-card-text",[a("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[a("v-row",{attrs:{justify:"center","no-gutters":""}},[a("v-col",{attrs:{cols:"12"}},[a("v-text-field",{attrs:{label:"Nueva contraseña",hint:"Nueva contraseña","prepend-inner-icon":"mdi-lock-outline",outlined:"",dense:"",type:e.show1?"text":"password","append-icon":e.show1?"mdi-eye-outline":"mdi-eye-off-outline",rules:e.rules,required:""},on:{"click:append":function(t){e.show1=!e.show1}},model:{value:e.newPassword,callback:function(t){e.newPassword=t},expression:"newPassword"}})],1)],1),a("v-row",{attrs:{justify:"center","no-gutters":""}},[a("v-col",{attrs:{cols:"12"}},[a("v-btn",{staticClass:"button-basic background-primary-dark",attrs:{block:"",loading:e.loading,disabled:e.loading},on:{click:e.updatePassword}},[e._v("Actualizar")])],1),a("v-col",{staticClass:"text-center",attrs:{cols:"12"}},[a("p",[e._v(" Regresar al "),a("v-btn",{staticStyle:{padding:"2px"},attrs:{color:"primary",text:"",small:""},on:{click:function(t){return e.$router.push("/inicio")}}},[e._v("Inicio")])],1)])],1)],1)],1)],1)],1)},ti=[],ai={name:"updatePassword",data:function(){return{form:!0,valid:!0,loading:!1,newPassword:"",code:"",rules:[function(e){return e&&e.length<=16||"No más de 16 caracteres"},function(e){return e&&e.length>=3||"No menos de 3 caracteres"}],show1:!1}},created:function(){this.code=this.$route.params.code},methods:{updatePassword:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.$refs.form.validate()){t.next=16;break}return e.loading=!0,t.prev=2,t.next=5,g.updatePassword({code:e.code,password:e.newPassword});case 5:a=t.sent,console.log(a),200===a.status?(e.$swal({icon:"success",text:"Contraseña actualizada.",confirmButtonText:"Aceptar"}),e.$router.push("/inicio")):e.$swal({icon:"error",text:a.message,confirmButtonText:"Aceptar"}),e.loading=!1,t.next=16;break;case 11:t.prev=11,t.t0=t["catch"](2),console.log(t.t0),e.loading=!1,e.$swal({icon:"error",text:t.t0.response.data.message,confirmButtonText:"Aceptar"});case 16:case"end":return t.stop()}}),t,null,[[2,11]])})))()}}},oi=ai,ii=Object(E["a"])(oi,ei,ti,!1,null,null,null),ri=ii.exports,ni={components:{updatePassword:ri,footerInicio:He},data:function(){return{}}},si=ni,li=Object(E["a"])(si,Xo,Wo,!1,null,null,null),ci=li.exports;i["default"].use(B["a"]);var ui=i["default"].prototype,di=[{path:"/inicio",name:"inicio",component:Qe},{path:"/home",name:"listadoEventos",component:ke,meta:{requiresAuth:!0}},{path:"/newEvento",name:"nuevoEvento",component:ra,meta:{requiresAuth:!0}},{path:"/newEvento/:evento",name:"actualizarEvento",component:ra,meta:{requiresAuth:!0}},{path:"/updateUser",name:"editarUsuario",component:ba,meta:{requiresAuth:!0}},{path:"/seguimientoMal/:evento",name:"seguimientoMal",props:!0,component:wa,meta:{requiresAuth:!0}},{path:"/informesEvento/:evento",name:"informesEvento",props:!0,component:ja,meta:{requiresAuth:!0}},{path:"/informesGenerales/",name:"informesGenerales",props:!0,component:Ya,meta:{requiresAuth:!0}},{path:"/validate/:code",name:"validate",props:!0,component:so},{path:"/forgotPassword/:code",name:"forgotPassword",props:!0,component:ci},{path:"*",name:"notRoute",redirect:"/home",meta:{requiresAuth:!0}},{path:"/roles",name:"roles",component:ko,meta:{requiresAuth:!0}},{path:"/auditoria",name:"auditoria",component:No,meta:{requiresAuth:!0}},{path:"/gastosAgricolas",name:"gastosAgricolas",component:Zo,meta:{requiresAuth:!0}},{path:"/about",name:"About",component:function(){return a.e("about").then(a.bind(null,"f820"))}},{path:"/logout",name:"logout",meta:{requiresAuth:!1}}],mi=B["a"].prototype.push;B["a"].prototype.push=function(e){return mi.call(this,e).catch((function(e){return e}))};var pi=new B["a"]({mode:"history",base:"/",routes:di});pi.beforeEach((function(e,t,a){var o=ui.$session.exists();console.log(o),o&&e.matched.some((function(e){return e.meta.requiresAuth}))?a():o&&"inicio"===!e.name?(ui.$session.destroy(),a("/inicio")):o||"listadoEventos"!==e.name?o&&"inicio"===e.name?a("/home"):!o&&e.matched.some((function(e){return e.meta.requiresAuth}))?a("/inicio"):a():a("/inicio")}));var vi=pi,fi=a("2f62");i["default"].use(fi["a"]);var hi=new fi["a"].Store({state:{evento:{condJuridica:"",nombre:"",tiposDcto:"",dcto:"",dirRes:"",tel:"",sexo:"",fechaNac:"",gEtnico:"",tipoProd:"",relPre:"",tipoEv:"",subEv:"",sisProds:["3"],especies:[{faseProd:"",espAfectada:"",espExtractiva:"",nombre:"",objetivo:"",fecha:"",densHectarea:"",areaSembrada:"",menuFecha:!1}]}},mutations:{},actions:{},modules:{}}),bi=a("ce5b"),gi=a.n(bi);a("bf40");i["default"].use(gi.a);var xi=new gi.a({}),ki=a("0628"),Ci=a.n(ki),qi=a("a65d"),wi=a.n(qi),yi=(a("995f"),a("5886"));a("4413");if(200===d){var Pi=indexedDB.open(c,u);function Ai(e){try{Ei(e),_i(e),Ii(e),Si(e),$i(e),Fi(e),Ti(e),Mi(e),Ri(e)}catch(error){console.log(error)}}function Ei(e){var t=e.createObjectStore("login",{keyPath:"id_obj"});t.createIndex("activo","activo",{unique:!1}),t.createIndex("apellido","apellido",{unique:!1}),t.createIndex("cargo","cargo",{unique:!1}),t.createIndex("email","email",{unique:!0}),t.createIndex("id","id",{unique:!0}),t.createIndex("idDocumento","idDocumento",{unique:!1}),t.createIndex("id_rol","id_rol",{unique:!1}),t.createIndex("institucion","institucion",{unique:!1}),t.createIndex("nombre","nombre",{unique:!1}),t.createIndex("nombre_rol","nombre_rol",{unique:!1}),t.createIndex("nuDocumento","nuDocumento",{unique:!0}),t.createIndex("permisos_usuario","permisos_usuario",{unique:!1}),t.createIndex("usuario","usuario",{unique:!0}),t.createIndex("token","token",{unique:!0}),t.transaction.oncomplete=function(e){}}function _i(e){var t=e.createObjectStore("forestal",{keyPath:"id_obj"});t.createIndex("actividad","actividad",{unique:!1}),t.createIndex("eqvCarga","eqvCarga",{unique:!1}),t.createIndex("especieForestal","especieForestal",{unique:!1}),t.createIndex("faseProductiva","faseProductiva",{unique:!1}),t.createIndex("fuenteSemilla","fuenteSemilla",{unique:!1}),t.createIndex("lotePropaga","lotePropaga",{unique:!1}),t.createIndex("objePlantacion","objePlantacion",{unique:!1}),t.createIndex("presentacionPlaguicida","presentacionPlaguicida",{unique:!1}),t.createIndex("rubros","rubros",{unique:!1}),t.createIndex("tipoFertilizante","tipoFertilizante",{unique:!1}),t.createIndex("tipoInfraestrcutura","tipoInfraestrcutura",{unique:!1}),t.createIndex("tipoMaquinaria","tipoMaquinaria",{unique:!1}),t.createIndex("tipoPlaguicida","tipoPlaguicida",{unique:!1}),t.createIndex("tipoSemilla","tipoSemilla",{unique:!1}),t.createIndex("unidad","unidad",{unique:!1}),t.createIndex("unidadSemilla","unidadSemilla",{unique:!1}),t.transaction.oncomplete=function(e){}}function Ii(e){var t=e.createObjectStore("pesquero",{keyPath:"id_obj"});t.createIndex("activeType","activeType",{unique:!1}),t.createIndex("buildingType","buildingType",{unique:!1}),t.createIndex("embqMaterial","embqMaterial",{unique:!1}),t.createIndex("fishingType","fishingType",{unique:!1}),t.createIndex("lossType","lossType",{unique:!1}),t.createIndex("propType","propType",{unique:!1}),t.createIndex("redType","redType",{unique:!1}),t.transaction.oncomplete=function(e){}}function Si(e){var t=e.createObjectStore("agricola",{keyPath:"id_obj"});t.createIndex("gricola","gricola",{unique:!1}),t.createIndex("areaUnity","areaUnity",{unique:!1}),t.createIndex("assruanceType","assruanceType",{unique:!1}),t.createIndex("bankingEntity","bankingEntity",{unique:!1}),t.createIndex("cropType","cropType",{unique:!1}),t.createIndex("directCosts","directCosts",{unique:!1}),t.createIndex("equivCharge","equivCharge",{unique:!1}),t.createIndex("fertilizerType","fertilizerType",{unique:!1}),t.createIndex("harvestUnity","harvestUnity",{unique:!1}),t.createIndex("indirectCosts","indirectCosts",{unique:!1}),t.createIndex("infraestructureType","infraestructureType",{unique:!1}),t.createIndex("machineryData","machineryData",{unique:!1}),t.createIndex("pesticideType","pesticideType",{unique:!1}),t.createIndex("plantingMaterial","plantingMaterial",{unique:!1}),t.createIndex("presentation","presentation",{unique:!1}),t.createIndex("seedSource","seedSource",{unique:!1}),t.transaction.oncomplete=function(e){}}function $i(e){var t=e.createObjectStore("pecuario",{keyPath:"id_obj"});t.createIndex("pecuario","pecuario",{unique:!1}),t.createIndex("activeType","activeType",{unique:!1}),t.createIndex("activity","activity",{unique:!1}),t.createIndex("affectedSistem","affectedSistem",{unique:!1}),t.createIndex("areaUnity","areaUnity",{unique:!1}),t.createIndex("constructionType","constructionType",{unique:!1}),t.createIndex("equivCharge","equivCharge",{unique:!1}),t.createIndex("harvestUnity","harvestUnity",{unique:!1}),t.createIndex("inputType","inputType",{unique:!1}),t.createIndex("machineryAv","machineryAv",{unique:!1}),t.createIndex("machineryTypeBBA","machineryTypeBBA",{unique:!1}),t.createIndex("machineryTypePEM","machineryTypePEM",{unique:!1}),t.createIndex("machneryAq","machneryAq",{unique:!1}),t.createIndex("rubro","rubro",{unique:!1}),t.createIndex("typeProduct","typeProduct",{unique:!1}),t.createIndex("unity","unity",{unique:!1}),t.transaction.oncomplete=function(e){}}function Ti(e){var t=e.createObjectStore("productor",{keyPath:"id_obj"});t.createIndex("condicionJuridica","condicionJuridica",{unique:!1}),t.createIndex("gruposEtnicos","gruposEtnicos",{unique:!1}),t.createIndex("sexo","sexo",{unique:!1}),t.createIndex("tipoProductor","tipoProductor",{unique:!1}),t.createIndex("tipoRelacionPredio","tipoRelacionPredio",{unique:!1}),t.createIndex("tiposDocumento","tiposDocumento",{unique:!1}),t.transaction.oncomplete=function(e){}}function Mi(e){var t=e.createObjectStore("mapa",{keyPath:"id_obj"});t.createIndex("departamentos","departamentos",{unique:!1}),t.createIndex("municipios","municipios",{unique:!1}),t.createIndex("veredas","veredas",{unique:!1}),t.transaction.oncomplete=function(e){}}function Ri(e){var t=e.createObjectStore("encabezado",{keyPath:"id_obj"});t.createIndex("enfermedades","enfermedades",{unique:!1}),t.createIndex("plagas","plagas",{unique:!1}),t.createIndex("sistemaProductivo","sistemaProductivo",{unique:!1}),t.createIndex("subEvento","subEvento",{unique:!1}),t.createIndex("tipoEvento","tipoEvento",{unique:!1}),t.transaction.oncomplete=function(e){}}function Fi(e){var t=e.createObjectStore("newEvent",{keyPath:"id_obj"});t.createIndex("dataEncabezadoEvento","dataEncabezadoEvento",{unique:!1}),t.createIndex("dataProductor","dataProductor",{unique:!1}),t.createIndex("dataEspecies","dataEspecies",{unique:!1}),t.transaction.oncomplete=function(e){}}Pi.onerror=function(e){window.alert("Database error: "+e.target.errorCode)},Pi.onupgradeneeded=function(e){var t=e.target.result;Ai(t)}}var Di=a("bf4e"),ji=a.n(Di),Oi=a("a7c6"),Ni=a.n(Oi);i["default"].use(ji.a),i["default"].component("VueOffline",ji.a),i["default"].use(Ia.a),i["default"].component("apexchart",Ia.a),i["default"].use(Ci.a),i["default"].use(wi.a),i["default"].use(yi["a"]),i["default"].config.productionTip=!1;var zi={percent:{decimalDigits:2,multiplier:100,decimalSeparator:"."},currency:{symbol:"",decimalDigits:2,thousandsSeparator:",",decimalSeparator:".",symbolOnLeft:!0,spaceBetweenAmountAndSymbol:!1,showPlusSign:!1},pluralize:{includeNumber:!1},ordinal:{includeNumber:!1}};i["default"].use(Ni.a,zi),b.a.defaults.headers.Accept="application/json",b.a.defaults.baseURL="http://faobackend.southcentralus.azurecontainer.io:4000";var Bi=i["default"].prototype;function Vi(){return Ui.apply(this,arguments)}function Ui(){return Ui=Object(o["a"])(regeneratorRuntime.mark((function e(){var t,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t=Bi.$session.exists(),t&&(a=Bi.$session.get("token"),b.a.defaults.params={token:a});case 2:case"end":return e.stop()}}),e)}))),Ui.apply(this,arguments)}Vi(),new i["default"]({router:vi,store:hi,vuetify:xi,render:function(e){return e(N)}}).$mount("#app")},"69c6":function(e,t,a){"use strict";a("c04c")},7209:function(e,t,a){},"7ef5":function(e,t,a){},"81b5":function(e,t,a){"use strict";a("af39")},8799:function(e,t,a){"use strict";a("d173")},af39:function(e,t,a){},baf1:function(e,t,a){"use strict";a("7ef5")},c04c:function(e,t,a){},d0b9:function(e,t,a){"use strict";a("decb")},d173:function(e,t,a){},decb:function(e,t,a){},ea83:function(e,t,a){"use strict";a("2351")}});
//# sourceMappingURL=app.5197cee4.js.map